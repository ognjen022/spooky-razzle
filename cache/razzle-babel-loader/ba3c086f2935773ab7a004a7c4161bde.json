{"ast":null,"code":"import { baseUrl } from '../../../shared/baseUrl';\nimport { getHeaders } from '../../../shared/getHeaders';\nexport const getPromoCode = (promoCode, productPrice) => {\n  return fetch(`${baseUrl}/v1/payments/checkPromoCode/${promoCode}/${productPrice}`, {\n    method: 'GET',\n    headers: getHeaders()\n  }).then(async response => {\n    let json = await response.json();\n    const data = json.body;\n    const result = {\n      data: {\n        nextPayment: data.next_payment,\n        priceAfter: data.price_after\n      },\n      statusCode: json.statusCode,\n      success: json.success,\n      is_success: json.is_success\n    };\n    console.log(result);\n    return result;\n  });\n};","map":{"version":3,"sources":["/Users/ognjen/Desktop/spooky-live-ssr/ui/src/services/payments/purchase/api/getPromoCode.ts"],"names":["baseUrl","getHeaders","getPromoCode","promoCode","productPrice","fetch","method","headers","then","response","json","data","body","result","nextPayment","next_payment","priceAfter","price_after","statusCode","success","is_success","console","log"],"mappings":"AACA,SAASA,OAAT,QAAwB,yBAAxB;AAEA,SAASC,UAAT,QAA2B,4BAA3B;AAEA,OAAO,MAAMC,YAAY,GAAG,CAACC,SAAD,EAAoBC,YAApB,KAAyE;AACnG,SAAOC,KAAK,CACT,GAAEL,OAAQ,+BAA8BG,SAAU,IAAGC,YAAa,EADzD,EAC4D;AACtEE,IAAAA,MAAM,EAAE,KAD8D;AAEtEC,IAAAA,OAAO,EAAEN,UAAU;AAFmD,GAD5D,CAAL,CAKLO,IALK,CAKA,MAAOC,QAAP,IAAoB;AACzB,QAAIC,IAAI,GAAG,MAAMD,QAAQ,CAACC,IAAT,EAAjB;AAEA,UAAMC,IAAS,GAAGD,IAAI,CAACE,IAAvB;AACA,UAAMC,MAAqC,GAAG;AAC5CF,MAAAA,IAAI,EAAE;AACFG,QAAAA,WAAW,EAAEH,IAAI,CAACI,YADhB;AAEFC,QAAAA,UAAU,EAAEL,IAAI,CAACM;AAFf,OADsC;AAK5CC,MAAAA,UAAU,EAAER,IAAI,CAACQ,UAL2B;AAM5CC,MAAAA,OAAO,EAAET,IAAI,CAACS,OAN8B;AAO5CC,MAAAA,UAAU,EAAEV,IAAI,CAACU;AAP2B,KAA9C;AASAC,IAAAA,OAAO,CAACC,GAAR,CAAYT,MAAZ;AACA,WAAOA,MAAP;AACD,GApBM,CAAP;AAqBD,CAtBM","sourcesContent":["import { PromoInformation } from './../models';\nimport { baseUrl } from '../../../shared/baseUrl'\nimport { ApiResponse } from '../../../shared/ApiResponse'\nimport { getHeaders } from '../../../shared/getHeaders'\n\nexport const getPromoCode = (promoCode: string, productPrice: number ): Promise<ApiResponse<any>> => {\n  return fetch(\n    `${baseUrl}/v1/payments/checkPromoCode/${promoCode}/${productPrice}`, {\n    method: 'GET',\n    headers: getHeaders()\n  }\n  ).then(async (response) => {\n    let json = await response.json()\n    \n    const data: any = json.body\n    const result: ApiResponse<PromoInformation> = {\n      data: {\n          nextPayment: data.next_payment,\n          priceAfter: data.price_after\n      },\n      statusCode: json.statusCode,\n      success: json.success,\n      is_success: json.is_success\n    }\n    console.log(result)\n    return result\n  })\n}\n"]},"metadata":{},"sourceType":"module"}