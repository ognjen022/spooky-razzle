{"ast":null,"code":"var _jsxFileName = \"/Users/ognjen/Desktop/spooky-live-ssr/ui/src/layouts/LiveNowTemplate/LiveNowTemplate.tsx\",\n    _this = this;\n\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectMainTag, selectTag, selectMainTagStreams, selectHasLoaded, isStreamLive } from '../../services/content/tags/selectors';\nimport Ticker from '../../components/Ticker/Ticker';\nimport VideoSingleCarousel2 from '../../components/VideoSingleCarousel/VideoSingleCarousel2';\nimport Spinner from '../../components/Spinner/Spinner';\nimport TagSeoHead from '../../components/SeoHead/TagSeoHead';\n\nvar getTicker = function getTicker(mainTag) {\n  if (!mainTag || !mainTag.ticker || mainTag.ticker.length === 0) return undefined;\n  return mainTag.ticker[0];\n};\n\nvar LiveNowTemplate = function LiveNowTemplate() {\n  useEffect(function () {\n    window.scrollTo(0, 0);\n  }, []); // Selecrt data page needs from state\n\n  var mainTag = useSelector(function (state) {\n    return selectMainTag(state);\n  }); // const secondaryTag2 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag2)) // VideoSingleCarousel2\n\n  var secondaryTag6 = useSelector(function (state) {\n    return selectTag(state, mainTag === null || mainTag === void 0 ? void 0 : mainTag.secondaryTag6);\n  }); // VideoMultiCarousel(First)\n\n  var secondaryTag7 = useSelector(function (state) {\n    return selectTag(state, mainTag === null || mainTag === void 0 ? void 0 : mainTag.secondaryTag7);\n  }); // VideoMultiCarousel(Second)\n\n  var secondaryTag10 = useSelector(function (state) {\n    return selectTag(state, mainTag === null || mainTag === void 0 ? void 0 : mainTag.secondaryTag10);\n  }); // VideoStreamer (\"now\" auto-tag)\n\n  var streams = useSelector(function (state) {\n    return selectMainTagStreams(state, mainTag);\n  });\n  var filteredStreams = streams.filter(function (stream) {\n    return isStreamLive(stream.startTime, stream.duration);\n  });\n  var hasLoaded = useSelector(function (state) {\n    return selectHasLoaded(state);\n  });\n  var ticker = getTicker(mainTag);\n  var carouselLimit = 12;\n  var uuidIndex = useSelector(function (state) {\n    return state.content.tags.uuidIndex || [];\n  });\n  var refreshKey = useSelector(function (state) {\n    return state.content.tags.refreshKey;\n  });\n  if (!hasLoaded) return __jsx(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, __jsx(Spinner, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }));\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, hasLoaded && mainTag !== undefined && streams !== undefined && __jsx(React.Fragment, null, __jsx(TagSeoHead, {\n    mainTag: mainTag,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), ticker && ticker.tickerMessage && __jsx(Ticker, {\n    text: ticker.tickerMessage.toUpperCase(),\n    link: ticker.tickerLink,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }), __jsx(VideoSingleCarousel2, {\n    mainTag: mainTag,\n    streams: filteredStreams,\n    limit: carouselLimit,\n    filterTag:\n    /*secondaryTag2*/\n    undefined,\n    uuidIndex: uuidIndex,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"hide-medium\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"hide-medium\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"show-medium\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"show-medium\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default LiveNowTemplate;","map":{"version":3,"sources":["/Users/ognjen/Desktop/spooky-live-ssr/ui/src/layouts/LiveNowTemplate/LiveNowTemplate.tsx"],"names":["React","useEffect","useSelector","selectMainTag","selectTag","selectMainTagStreams","selectHasLoaded","isStreamLive","Ticker","VideoSingleCarousel2","Spinner","TagSeoHead","getTicker","mainTag","ticker","length","undefined","LiveNowTemplate","window","scrollTo","state","secondaryTag6","secondaryTag7","secondaryTag10","streams","filteredStreams","filter","stream","startTime","duration","hasLoaded","carouselLimit","uuidIndex","content","tags","refreshKey","tickerMessage","toUpperCase","tickerLink"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { ITag, IStream, ITicker, ITagIndex } from '../../services/content/tags/models'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../services/RootState'\nimport { selectMainTag, selectTag, selectMainTagStreams, selectHasLoaded, isStreamLive } from '../../services/content/tags/selectors'\nimport Ticker from '../../components/Ticker/Ticker'\nimport VideoSingleCarousel2 from '../../components/VideoSingleCarousel/VideoSingleCarousel2'\nimport VideoMultiCarouselNew from '../../components/VideoMultiCarouselNew/VideoMultiCarouselNew'\nimport VideoStreamer from '../../components/VideoStreamer/VideoStreamer'\nimport Spinner from '../../components/Spinner/Spinner'\nimport LiveNow from '../../components/LiveNow/LiveNow'\nimport TagSeoHead from '../../components/SeoHead/TagSeoHead'\n\nexport interface ILiveNowTemplateProps {\n  readonly mainTag: ITag\n}\n\nconst getTicker = (mainTag: ITag | undefined): ITicker | undefined => {\n  if (!mainTag || !mainTag.ticker || mainTag.ticker.length === 0) return undefined\n  return mainTag.ticker[0]\n}\n\nconst LiveNowTemplate: React.FC<ILiveNowTemplateProps> = () => {\n  useEffect(() => {\n    window.scrollTo(0, 0)\n  }, [])\n\n  // Selecrt data page needs from state\n  const mainTag = useSelector<RootState, ITag | undefined>(state => selectMainTag(state))\n  // const secondaryTag2 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag2)) // VideoSingleCarousel2\n  const secondaryTag6 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag6)) // VideoMultiCarousel(First)\n  const secondaryTag7 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag7)) // VideoMultiCarousel(Second)\n  const secondaryTag10 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag10)) // VideoStreamer (\"now\" auto-tag)\n  const streams = useSelector<RootState, IStream[]>(state => selectMainTagStreams(state, mainTag))\n  const filteredStreams = streams.filter(stream => (\n    isStreamLive(stream.startTime, stream.duration)\n  ))\n\n  const hasLoaded = useSelector<RootState, boolean>(state => selectHasLoaded(state))\n  const ticker: ITicker | undefined = getTicker(mainTag)\n  const carouselLimit: number = 12\n  const uuidIndex = useSelector<RootState, ITagIndex[]>(state => state.content.tags.uuidIndex || [])\n  const refreshKey = useSelector<RootState, string>(state => state.content.tags.refreshKey)\n\n  if (!hasLoaded) return (\n    <div className=\"container\">\n      <Spinner />\n    </div>\n  )\n\n  return (<div>\n    {\n      hasLoaded && mainTag !== undefined && streams !== undefined &&\n      <>\n        <TagSeoHead mainTag={mainTag} />\n\n        {/* Ticker */}\n        {ticker && ticker.tickerMessage &&\n          <Ticker text={ticker.tickerMessage.toUpperCase()} link={ticker.tickerLink} />\n        }\n        {/*\n        <div>LiveNowTemplate streams count: {streams.length}</div>\n        <VideoStreamer mainTag={mainTag} streams={streams} filterTag={secondaryTag10} uuidIndex={uuidIndex} />\n        */}\n\n        {/* Video Single Carousel */}\n        <VideoSingleCarousel2 mainTag={mainTag} streams={filteredStreams} limit={carouselLimit} filterTag={/*secondaryTag2*/ undefined} uuidIndex={uuidIndex} />\n\n        {/* Temporary solution until Video Multi Carousel Mobile is created */}\n\n        <div className=\"hide-medium\">\n          {/* Video Multi Carousel (Upcoming)\n          <VideoMultiCarouselNew mainTag={mainTag} streams={streams} limit={carouselLimit} filterTag={secondaryTag6} uuidIndex={uuidIndex} /> */}\n        </div>\n\n        <div className=\"hide-medium\">\n          {/* Video Multi Carousel (Upcoming)\n          <VideoMultiCarouselNew mainTag={mainTag} streams={streams} limit={carouselLimit} filterTag={secondaryTag7} uuidIndex={uuidIndex} /> */}\n        </div>\n\n        <div className=\"show-medium\">\n          {/* Video Single Carousel (Upcoming)\n          <VideoSingleCarousel2 mainTag={mainTag} streams={streams} limit={carouselLimit} filterTag={secondaryTag6} uuidIndex={uuidIndex} /> */}\n        </div>\n\n        <div className=\"show-medium\">\n          {/*  Video Single Carousel (Something else?)\n          <VideoSingleCarousel2 mainTag={mainTag} streams={streams} limit={carouselLimit} filterTag={secondaryTag7} uuidIndex={uuidIndex} /> */}\n        </div>\n      </>\n    }\n  </div >)\n}\n\nexport default LiveNowTemplate\n"]},"metadata":{},"sourceType":"module"}