{"ast":null,"code":"import { ofType } from 'redux-observable';\nimport { EMPTY } from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\nimport moment from 'moment';\n\nvar intercomUpdateEpic = function intercomUpdateEpic(action$) {\n  return action$.pipe(ofType('@@router/LOCATION_CHANGE'), mergeMap(function () {\n    if (window.Intercom) {\n      window.Intercom('update', {\n        last_request_at: moment(\"03-25-2015 +0000\", \"MM-DD-YYYY Z\").valueOf() / 1000\n      });\n    }\n\n    return EMPTY;\n  }));\n};\n\nexport default [intercomUpdateEpic];","map":{"version":3,"sources":["/Users/ognjen/Desktop/spooky-live-ssr/ui/src/services/shared/epics/intercomUpdateEpic.ts"],"names":["ofType","EMPTY","mergeMap","moment","intercomUpdateEpic","action$","pipe","window","Intercom","last_request_at","valueOf"],"mappings":"AAAA,SAAeA,MAAf,QAA6B,kBAA7B;AACA,SAASC,KAAT,QAAsB,MAAtB;AACA,SAASC,QAAT,QAAsC,gBAAtC;AAEA,OAAOC,MAAP,MAAmB,QAAnB;;AAEA,IAAMC,kBAA6C,GAAG,SAAhDA,kBAAgD,CAACC,OAAD;AAAA,SACpDA,OAAO,CAACC,IAAR,CACEN,MAAM,CAAC,0BAAD,CADR,EAEEE,QAAQ,CAAC,YAAM;AAEX,QAAKK,MAAD,CAAgBC,QAApB,EAA8B;AAC7BD,MAAAA,MAAD,CAAgBC,QAAhB,CAAyB,QAAzB,EAAmC;AAACC,QAAAA,eAAe,EAAEN,MAAM,CAAC,kBAAD,EAAqB,cAArB,CAAN,CAA2CO,OAA3C,KAAuD;AAAzE,OAAnC;AACD;;AACD,WAAOT,KAAP;AACD,GANO,CAFV,CADoD;AAAA,CAAtD;;AAaA,eAAe,CAACG,kBAAD,CAAf","sourcesContent":["import { Epic, ofType } from 'redux-observable'\nimport { EMPTY } from 'rxjs'\nimport { mergeMap, filter, tap } from 'rxjs/operators'\nimport { RootState } from '../../RootState'\nimport moment from 'moment';\n\nconst intercomUpdateEpic: Epic<any, any, RootState> = (action$) =>\n  action$.pipe(\n    ofType('@@router/LOCATION_CHANGE'),\n    mergeMap(() => {\n      \n        if ((window as any).Intercom) {\n        (window as any).Intercom('update', {last_request_at: moment(\"03-25-2015 +0000\", \"MM-DD-YYYY Z\").valueOf() / 1000 });\n      }\n      return EMPTY;\n    }\n    )\n  )\n\nexport default [intercomUpdateEpic]\n"]},"metadata":{},"sourceType":"module"}