{"ast":null,"code":"var _jsxFileName = \"/Users/ognjen/Desktop/with-typescript/src/scenes/Schedule/Schedule.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, memo } from 'react';\nimport moment from 'moment';\nimport LayoutDefault from '../../layouts/LayoutDefault/LayoutDefault';\nimport styles from './Schedule.module.scss';\nimport { filterStreamsNoLimit, getTagsFull } from '../../services/content/tags/selectors';\nimport SaveStreamButton from '../../components/SaveButtons/SaveStreamButton';\nimport _ from 'lodash';\nimport { Link } from 'react-router-dom';\nimport LineUpIcon from '../../components/LineUpIcon/LineUpIcon';\nimport { AutoSizer, List } from 'react-virtualized';\nimport SwipeableViews from 'react-swipeable-views';\nimport { virtualize } from 'react-swipeable-views-utils';\nconst VirtualizeSwipeableViews = virtualize(SwipeableViews);\n\nconst Schedule = props => {\n  const {\n    uuidIndex,\n    limit,\n    filterTag\n  } = props;\n\n  const getChildTags = tag => {\n    let childTags = [];\n    if (!tag || !tag.children) return [];\n\n    for (const item of tag.children) {\n      childTags.push(item);\n\n      if (item.children && item.children.length > 0) {\n        childTags.push(...getChildTags(item));\n      }\n    }\n\n    return childTags;\n  }; // const getChildStreams = (filterTag: ITag | undefined) => {\n  //   let renderStreams: any = [];\n  //   const childTags: ITag[] = getChildTags(filterTag);\n  //   if (childTags.length === 0)\n  //     return\n  //   else {\n  //     for (let tag of childTags) {\n  //       const childTagStreams = filterStreams(props.streams, 100, tag);\n  //       renderStreams = [...renderStreams, ...childTagStreams]\n  //     }\n  //   }\n  //   const uniqueRenderStreams = _.uniq(renderStreams)\n  //   return uniqueRenderStreams;\n  // }\n\n\n  let filteredStreams = filterStreamsNoLimit(props.streams, filterTag);\n  const {\n    0: streams,\n    1: setStreams\n  } = useState(filteredStreams);\n  let streamDates = filteredStreams.length > 0 ? filteredStreams.map(stream => moment(stream.startTime).format(\"ddd Do MMM YYYY\")) : streams.map(stream => moment(stream.startTime).format(\"ddd Do MMM YYYY\"));\n  streamDates.sort((a, b) => {\n    const first = moment(a, 'ddd Do MMM YYYY').format();\n    const second = moment(b, 'ddd Do MMM YYYY').format();\n    return new Date(first).valueOf() - new Date(second).valueOf();\n  });\n  const calendarStreamDates = filteredStreams.map(stream => moment(stream.startTime).format(\"MMMM Do YYYY\"));\n  const streamYears = filteredStreams.map(stream => moment(stream.startTime).format(\"YYYY\"));\n  let streamDatesDict = {};\n  streamDates.forEach(date => {\n    if (streamDatesDict[date]) {\n      ++streamDatesDict[date];\n    } else {\n      // add new\n      streamDatesDict[date] = 1;\n    }\n  });\n\n  const getDefaultIndex = () => {\n    let currentDate = moment().format();\n    let defaultIndex = -1;\n    let firstNextStream = streams.find(s => moment(currentDate).isSameOrBefore(moment(s.startTime).format()));\n\n    if (!firstNextStream) {\n      firstNextStream = streams[streams.length - 1];\n    }\n\n    Object.keys(streamDatesDict).forEach((streamDate, index) => {\n      var _firstNextStream;\n\n      if (streamDate === moment((_firstNextStream = firstNextStream) === null || _firstNextStream === void 0 ? void 0 : _firstNextStream.startTime).format(\"ddd Do MMM YYYY\")) {\n        defaultIndex = index;\n      }\n    });\n    return defaultIndex;\n  };\n\n  const {\n    0: visible,\n    1: setVisible\n  } = useState(true);\n  const {\n    0: dateHighlightIndex,\n    1: setDateHighlightIndex\n  } = useState(getDefaultIndex());\n  const {\n    0: tagHighlightIndex,\n    1: setTagHighlightIndex\n  } = useState(-1);\n  const {\n    0: dateValue,\n    1: setDateValue\n  } = useState(new Date());\n  const {\n    0: calendarView,\n    1: setCalendarView\n  } = useState('month');\n  const {\n    0: hideDays,\n    1: setHideDays\n  } = useState(false); //if secondaryTag4 is undefined, use mainTag instead\n  // const tag = props.filterTag === undefined ? props.mainTag : props.filterTag\n\n  const {\n    0: streamDatesDictRender,\n    1: setStreamDatesDictRender\n  } = useState(streamDatesDict);\n  useEffect(() => {\n    if (window.innerWidth > 768) {\n      if (dateHighlightIndex >= 0) {\n        const date = Object.keys(streamDatesDict).map((streamDate, index) => {\n          if (dateHighlightIndex === index) {\n            return streamDate;\n          }\n        });\n        filterStreamByDate(date, dateHighlightIndex);\n      }\n    }\n  }, []);\n  let tagNames = []; //  = getChildTags(tag);\n\n  let tags = [];\n  filteredStreams.forEach(stream => {\n    stream.lineUpTags.forEach(tagId => {\n      var tagsFull = getTagsFull(stream.lineUpTags, uuidIndex);\n      tagsFull.forEach(tag => {\n        if (!tagNames.includes(tag.name)) {\n          tagNames.push(tag.name);\n          tags.push(tag);\n        }\n      });\n    });\n  });\n  tagNames.sort();\n\n  const handleClickArrowIcon = () => {\n    setVisible(!visible);\n  };\n\n  const filterStreamByTag = (name, index, uuidIndex) => {\n    setTagHighlightIndex(index);\n    const tagStreams = filteredStreams.filter(stream => {\n      const browseTagsFull = getTagsFull(stream.browseTags, uuidIndex);\n      const streamTags = browseTagsFull.map(tag => {\n        return _.includes(tag.name.toLowerCase(), name.toLowerCase());\n      });\n      return streamTags.some(tag => tag === true);\n    });\n    setStreams(tagStreams);\n  };\n\n  const filterStreamByDate = (date, index) => {\n    setDateHighlightIndex(index);\n    setDateValue(new Date(moment(date, \"ddd Do MMM YYYY\").format()));\n    const checkDate = streams.every(stream => moment(stream.startTime).format(\"ddd Do MMM\") === moment(date, \"ddd Do MMM YYYY\").format(\"ddd Do MMM\"));\n\n    if (checkDate) {\n      clearDateFilter();\n      setStreamDatesDictRender(streamDatesDict);\n      return;\n    }\n\n    const dateStreams = filteredStreams.filter(stream => {\n      return moment(stream.startTime).format(\"ddd Do MMM YYYY\") === moment(date, \"ddd Do MMM YYYY\").format(\"ddd Do MMM YYYY\");\n    });\n\n    if (!dateStreams.length) {\n      setStreams(filteredStreams);\n      return;\n    }\n\n    setStreams(dateStreams);\n  };\n\n  const clearFilter = () => {\n    setTagHighlightIndex(-1);\n    setStreams(filteredStreams);\n  };\n\n  const clearDateFilter = () => {\n    setDateHighlightIndex(-1);\n    setStreams(filteredStreams);\n  };\n\n  const getLabel = () => {\n    let label = '';\n    if (dateValue && calendarView === 'month') label = moment(dateValue).format('ddd Do MMM');else if (dateValue && calendarView === 'year') label = moment(dateValue).format('YYYY');else label = 'Year';\n    return label;\n  };\n\n  const getEventText = () => {\n    let text = '';\n    if (streamDatesDict[moment(dateValue).format('ddd Do MMM YYYY')] > 1) text = `${streamDatesDict[moment(dateValue).format('ddd Do MMM YYYY')]} Events`;else if (streamDatesDict[moment(dateValue).format('ddd Do MMM YYYY')] === 1) text = `${streamDatesDict[moment(dateValue).format('ddd Do MMM YYYY')]} Event`;\n    return text;\n  };\n\n  function dateRowRenderer({\n    key,\n    index,\n    style\n  }) {\n    const streamDatesSet = _.uniqBy(streamDates);\n\n    return __jsx(\"div\", {\n      key: key,\n      style: style,\n      className: `${styles['schedule__date']} ${dateHighlightIndex === index ? styles['active'] : ''} ${index % 2 === 0 ? styles['even'] : styles['odd']}`,\n      onClick: () => {\n        filterStreamByDate(streamDatesSet[index], index);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 7\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }\n    }, streamDatesSet[index]), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }\n    }, streamDatesDict[streamDatesSet[index]], \" Events\"));\n  }\n\n  const eventRowRenderer = ({\n    index,\n    style\n  }) => {\n    var _streams$index, _streams$index2, _streams$index3, _streams$index4, _streams$index5;\n\n    const lineUpTagsFull = getTagsFull((_streams$index = streams[index]) === null || _streams$index === void 0 ? void 0 : _streams$index.lineUpTags, props.uuidIndex);\n    if (!streams[index]) return __jsx(React.Fragment, null);\n    return __jsx(\"div\", {\n      key: index,\n      style: style,\n      className: `${styles['schedule__event']} ${index % 2 === 0 ? styles['even'] : styles['odd']}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 7\n      }\n    }, __jsx(\"div\", {\n      className: styles['schedule__events__date-time'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }\n    }, moment((_streams$index2 = streams[index]) === null || _streams$index2 === void 0 ? void 0 : _streams$index2.startTime).format('ddd Do MMM YYYY'), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }\n    }, streams[index] && moment((_streams$index3 = streams[index]) === null || _streams$index3 === void 0 ? void 0 : _streams$index3.startTime).format('h:mm a'), \" start\")), __jsx(SaveStreamButton, {\n      stream: streams[index],\n      className: styles['schedule__events__save-indicator-mobile'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }\n    }), __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }\n    }, __jsx(Link, {\n      to: `/play/${(_streams$index4 = streams[index]) === null || _streams$index4 === void 0 ? void 0 : _streams$index4.eventId}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 13\n      }\n    }, streams[index] && streams[index].name)), __jsx(\"div\", {\n      className: `${styles['schedule__event__description']} line-clamp-3`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }\n    }, streams[index] && ((_streams$index5 = streams[index]) === null || _streams$index5 === void 0 ? void 0 : _streams$index5.description)), streams[index] && lineUpTagsFull && lineUpTagsFull.length >= 2 && __jsx(\"ul\", {\n      className: styles['schedule__events__vs-list'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }\n    }, __jsx(\"li\", {\n      className: styles['schedule__events__team'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 13\n      }\n    }, __jsx(LineUpIcon, {\n      stream: streams[index],\n      orderNumber: 0,\n      lineUpTagsFull: lineUpTagsFull,\n      className: styles['schedule__events__image'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 15\n      }\n    }), __jsx(\"div\", {\n      className: styles['schedule__events__team-name'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 15\n      }\n    }, __jsx(Link, {\n      to: lineUpTagsFull[0].path || '#',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 17\n      }\n    }, lineUpTagsFull[0].name))), __jsx(\"li\", {\n      className: styles['schedule__events__team'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 13\n      }\n    }, __jsx(LineUpIcon, {\n      stream: streams[index],\n      orderNumber: 1,\n      lineUpTagsFull: lineUpTagsFull,\n      className: styles['schedule__events__image'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 15\n      }\n    }), __jsx(\"div\", {\n      className: styles['schedule__events__team-name'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 15\n      }\n    }, __jsx(Link, {\n      to: lineUpTagsFull[1].path || '#',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 17\n      }\n    }, lineUpTagsFull[1].name))), __jsx(\"li\", {\n      className: styles['schedule__events__save-indicator-flex-container'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 13\n      }\n    }, __jsx(SaveStreamButton, {\n      stream: streams[index],\n      className: styles['schedule__events__save-indicator-desktop'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 15\n      }\n    }))));\n  }; // const renderStream = (stream: IStream, index: number, lineUpTagsFull: ITag[]) => (\n  //   <div key={index} className={styles['schedule__event']}>\n  //     <div className={styles['schedule__events__date-time']}>\n  //       {moment(stream?.startTime).format('ddd Do MMM')}\n  //       <span>{stream && moment(stream?.startTime).format('h:mm a')} start</span>\n  //     </div>\n  //     <SaveStreamButton stream={stream} className={styles['schedule__events__save-indicator-mobile']} ></SaveStreamButton>\n  //     <div className=\"line-clamp-2\">\n  //       <h2>\n  //         <Link to={`/play/${stream.eventId}`}>\n  //           {stream && stream.name}\n  //         </Link>\n  //       </h2>\n  //     </div>\n  //     <p>\n  //       {stream && stream?.description}\n  //     </p>\n  //     {\n  //       stream && lineUpTagsFull && lineUpTagsFull.length >= 2 &&\n  //       <ul className={styles['schedule__events__vs-list']}>\n  //         <li className={styles['schedule__events__team']}>\n  //           <LineUpIcon\n  //             stream={stream}\n  //             orderNumber={0}\n  //             lineUpTagsFull={lineUpTagsFull}\n  //             className={styles['schedule__events__image']}\n  //           />\n  //           <div className={styles['schedule__events__team-name']}>\n  //             <Link to={lineUpTagsFull[0].path || '#'}>{lineUpTagsFull[0].name}</Link>\n  //           </div>\n  //         </li>\n  //         <li className={styles['schedule__events__team']}>\n  //           <LineUpIcon\n  //             stream={stream}\n  //             orderNumber={1}\n  //             lineUpTagsFull={lineUpTagsFull}\n  //             className={styles['schedule__events__image']}\n  //           />\n  //           <div className={styles['schedule__events__team-name']}>\n  //             <Link to={lineUpTagsFull[1].path || '#'}>{lineUpTagsFull[1].name}</Link>\n  //           </div>\n  //         </li>\n  //       </ul>\n  //     }\n  //     <div className={styles['schedule__events__save-indicator-flex-container']}>\n  //       <SaveStreamButton stream={stream} className={styles['schedule__events__save-indicator-desktop']} ></SaveStreamButton>\n  //     </div>\n  //   </div >\n  // )\n\n\n  if (filteredStreams === undefined || (filteredStreams === null || filteredStreams === void 0 ? void 0 : filteredStreams.length) === 0) return __jsx(React.Fragment, null);\n  return __jsx(LayoutDefault, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 5\n    }\n  }, __jsx(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    id: \"schedule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles['schedule-wrapper'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: styles['schedule'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: styles['schedule__title'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 15\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 17\n    }\n  }, \"Schedule\")), __jsx(\"div\", {\n    className: styles['schedule__label'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    className: styles['schedule__text'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 17\n    }\n  }, \"Schedule\"), __jsx(\"button\", {\n    onClick: handleClickArrowIcon,\n    className: styles['schedule-filter-button'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 19\n    }\n  }, \"Filter by \", filterTag ? `${filterTag.name}` : 'Line-up'), __jsx(\"svg\", {\n    className: `${styles['icon']} ${!visible ? styles['clicked'] : ''}`,\n    role: \"presentation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 19\n    }\n  }, __jsx(\"use\", {\n    xlinkHref: \"#icon-chevron-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 21\n    }\n  }))), __jsx(\"span\", {\n    className: styles['schedule__label__clear'],\n    onClick: clearFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 17\n    }\n  }, \"Clear\")), __jsx(\"div\", {\n    className: `${styles['schedule__teams-mobile']} ${!visible ? styles['visible'] : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: styles['schedule__teams-wrapper'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 19\n    }\n  }, filterTag ? `${filterTag.name}` : 'Team'), __jsx(\"span\", {\n    className: styles['schedule__teams-mobile__clear-desktop'],\n    onClick: clearFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 19\n    }\n  }, \"Clear Filter\")), __jsx(\"div\", {\n    className: styles['schedule__teams-mobile__tags-container'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 17\n    }\n  }, tagNames.map((name, index) => __jsx(\"span\", {\n    onClick: () => filterStreamByTag(name, index, props.uuidIndex),\n    key: `schedule_span_${index}`,\n    style: {\n      cursor: \"pointer\"\n    },\n    className: tagHighlightIndex === index ? styles['highlight'] : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 21\n    }\n  }, name))), __jsx(\"div\", {\n    className: styles['schedule__teams-mobile__shadow'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: styles['schedule__wrapper'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['schedule__dates']} ${visible ? styles['visible'] : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"hide-medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 19\n    }\n  }, window.innerWidth > 768 && __jsx(List, {\n    className: styles['schedule__events-list'],\n    height: 670,\n    rowCount: Object.keys(streamDatesDictRender).length,\n    rowHeight: 150,\n    rowRenderer: dateRowRenderer,\n    width: 420,\n    overscanRowCount: 3,\n    scrollToIndex: dateHighlightIndex + 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 23\n    }\n  }))), __jsx(\"div\", {\n    className: `${styles['schedule__teams']} ${!visible ? styles['visible'] : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: styles['schedule__teams-wrapper'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 19\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 21\n    }\n  }, \"Team\"), __jsx(\"span\", {\n    onClick: clearFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 21\n    }\n  }, \"Clear Filter\")), __jsx(\"div\", {\n    className: styles['schedule__teams__tags-container'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 19\n    }\n  }, tagNames.map((name, index) => __jsx(\"span\", {\n    onClick: () => filterStreamByTag(name, index, props.uuidIndex),\n    key: `schedule_span_${index}`,\n    style: {\n      cursor: \"pointer\"\n    },\n    className: tagHighlightIndex === index ? styles['highlight'] : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 554,\n      columnNumber: 23\n    }\n  }, name))))), window.innerWidth <= 768 && __jsx(\"div\", {\n    className: styles['schedule__events'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 17\n    }\n  }, __jsx(VirtualizeSwipeableViews, {\n    style: {\n      paddingRight: \"70px\"\n    },\n    slideCount: streams.length,\n    slideRenderer: eventRowRenderer,\n    hysteresis: 0.1,\n    resistance: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 19\n    }\n  })), window.innerWidth > 768 && __jsx(\"div\", {\n    className: styles['schedule__events'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 17\n    }\n  }, __jsx(AutoSizer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 19\n    }\n  }, ({\n    height,\n    width\n  }) => __jsx(List, {\n    className: styles['schedule__events-list'],\n    height: height,\n    rowCount: streams.length,\n    rowHeight: 300,\n    rowRenderer: eventRowRenderer,\n    width: width,\n    rowWidth: width,\n    overscanRowCount: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 596,\n      columnNumber: 23\n    }\n  }))))))));\n};\n\nexport default /*#__PURE__*/memo(Schedule);","map":{"version":3,"sources":["/Users/ognjen/Desktop/with-typescript/src/scenes/Schedule/Schedule.tsx"],"names":["React","useState","useEffect","memo","moment","LayoutDefault","styles","filterStreamsNoLimit","getTagsFull","SaveStreamButton","_","Link","LineUpIcon","AutoSizer","List","SwipeableViews","virtualize","VirtualizeSwipeableViews","Schedule","props","uuidIndex","limit","filterTag","getChildTags","tag","childTags","children","item","push","length","filteredStreams","streams","setStreams","streamDates","map","stream","startTime","format","sort","a","b","first","second","Date","valueOf","calendarStreamDates","streamYears","streamDatesDict","forEach","date","getDefaultIndex","currentDate","defaultIndex","firstNextStream","find","s","isSameOrBefore","Object","keys","streamDate","index","visible","setVisible","dateHighlightIndex","setDateHighlightIndex","tagHighlightIndex","setTagHighlightIndex","dateValue","setDateValue","calendarView","setCalendarView","hideDays","setHideDays","streamDatesDictRender","setStreamDatesDictRender","window","innerWidth","filterStreamByDate","tagNames","tags","lineUpTags","tagId","tagsFull","includes","name","handleClickArrowIcon","filterStreamByTag","tagStreams","filter","browseTagsFull","browseTags","streamTags","toLowerCase","some","checkDate","every","clearDateFilter","dateStreams","clearFilter","getLabel","label","getEventText","text","dateRowRenderer","key","style","streamDatesSet","uniqBy","eventRowRenderer","lineUpTagsFull","eventId","description","path","undefined","cursor","paddingRight","height","width"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,IAArC,QAAiD,OAAjD;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,aAAP,MAA0B,2CAA1B;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AAEA,SAAwBC,oBAAxB,EAA8CC,WAA9C,QAAiE,uCAAjE;AACA,OAAOC,gBAAP,MAA6B,+CAA7B;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,SAASC,SAAT,EAAoBC,IAApB,QAAgC,mBAAhC;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,SAASC,UAAT,QAA2B,6BAA3B;AAEA,MAAMC,wBAAwB,GAAGD,UAAU,CAACD,cAAD,CAA3C;;AAUA,MAAMG,QAAiC,GAAIC,KAAD,IAA0B;AAElE,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA,KAAb;AAAoBC,IAAAA;AAApB,MAAkCH,KAAxC;;AAEA,QAAMI,YAAY,GAAIC,GAAD,IAAwC;AAC3D,QAAIC,SAAiB,GAAG,EAAxB;AACA,QAAI,CAACD,GAAD,IAAQ,CAACA,GAAG,CAACE,QAAjB,EACE,OAAO,EAAP;;AAEF,SAAK,MAAMC,IAAX,IAAmBH,GAAG,CAACE,QAAvB,EAAiC;AAC/BD,MAAAA,SAAS,CAACG,IAAV,CAAeD,IAAf;;AACA,UAAIA,IAAI,CAACD,QAAL,IAAiBC,IAAI,CAACD,QAAL,CAAcG,MAAd,GAAuB,CAA5C,EAA+C;AAC7CJ,QAAAA,SAAS,CAACG,IAAV,CAAe,GAAGL,YAAY,CAACI,IAAD,CAA9B;AACD;AACF;;AACD,WAAOF,SAAP;AACD,GAZD,CAJkE,CAkBlE;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAIK,eAA0B,GAAGvB,oBAAoB,CAACY,KAAK,CAACY,OAAP,EAAgBT,SAAhB,CAArD;AAEA,QAAM;AAAA,OAACS,OAAD;AAAA,OAAUC;AAAV,MAAwB/B,QAAQ,CAAC6B,eAAD,CAAtC;AAEA,MAAIG,WAAW,GAAGH,eAAe,CAACD,MAAhB,GAAyB,CAAzB,GAChBC,eAAe,CAACI,GAAhB,CAAoBC,MAAM,IAAI/B,MAAM,CAAC+B,MAAM,CAACC,SAAR,CAAN,CAAyBC,MAAzB,CAAgC,iBAAhC,CAA9B,CADgB,GAEhBN,OAAO,CAACG,GAAR,CAAYC,MAAM,IAAI/B,MAAM,CAAC+B,MAAM,CAACC,SAAR,CAAN,CAAyBC,MAAzB,CAAgC,iBAAhC,CAAtB,CAFF;AAIAJ,EAAAA,WAAW,CAACK,IAAZ,CAAiB,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACzB,UAAMC,KAAK,GAAGrC,MAAM,CAACmC,CAAD,EAAI,iBAAJ,CAAN,CAA6BF,MAA7B,EAAd;AACA,UAAMK,MAAM,GAAGtC,MAAM,CAACoC,CAAD,EAAI,iBAAJ,CAAN,CAA6BH,MAA7B,EAAf;AACA,WAAO,IAAIM,IAAJ,CAASF,KAAT,EAAgBG,OAAhB,KAA4B,IAAID,IAAJ,CAASD,MAAT,EAAiBE,OAAjB,EAAnC;AACD,GAJD;AAMA,QAAMC,mBAAmB,GAAGf,eAAe,CAACI,GAAhB,CAAoBC,MAAM,IAAI/B,MAAM,CAAC+B,MAAM,CAACC,SAAR,CAAN,CAAyBC,MAAzB,CAAgC,cAAhC,CAA9B,CAA5B;AACA,QAAMS,WAAW,GAAGhB,eAAe,CAACI,GAAhB,CAAoBC,MAAM,IAAI/B,MAAM,CAAC+B,MAAM,CAACC,SAAR,CAAN,CAAyBC,MAAzB,CAAgC,MAAhC,CAA9B,CAApB;AAEA,MAAIU,eAAe,GAAG,EAAtB;AACAd,EAAAA,WAAW,CAACe,OAAZ,CAAoBC,IAAI,IAAI;AAC1B,QAAIF,eAAe,CAACE,IAAD,CAAnB,EAA2B;AACzB,QAAEF,eAAe,CAACE,IAAD,CAAjB;AACD,KAFD,MAEO;AACL;AACAF,MAAAA,eAAe,CAACE,IAAD,CAAf,GAAwB,CAAxB;AACD;AACF,GAPD;;AASA,QAAMC,eAAe,GAAG,MAAM;AAC5B,QAAIC,WAAW,GAAG/C,MAAM,GAAGiC,MAAT,EAAlB;AACA,QAAIe,YAAY,GAAG,CAAC,CAApB;AAEA,QAAIC,eAAe,GAAGtB,OAAO,CAACuB,IAAR,CAAaC,CAAC,IAAInD,MAAM,CAAC+C,WAAD,CAAN,CAAoBK,cAApB,CAAmCpD,MAAM,CAACmD,CAAC,CAACnB,SAAH,CAAN,CAAoBC,MAApB,EAAnC,CAAlB,CAAtB;;AAEA,QAAI,CAACgB,eAAL,EAAsB;AACpBA,MAAAA,eAAe,GAAGtB,OAAO,CAACA,OAAO,CAACF,MAAR,GAAiB,CAAlB,CAAzB;AACD;;AAED4B,IAAAA,MAAM,CAACC,IAAP,CAAYX,eAAZ,EAA6BC,OAA7B,CAAqC,CAACW,UAAD,EAAaC,KAAb,KAAuB;AAAA;;AAC1D,UAAID,UAAU,KAAKvD,MAAM,qBAACiD,eAAD,qDAAC,iBAAiBjB,SAAlB,CAAN,CAAmCC,MAAnC,CAA0C,iBAA1C,CAAnB,EAAiF;AAC/Ee,QAAAA,YAAY,GAAGQ,KAAf;AACD;AACF,KAJD;AAMA,WAAOR,YAAP;AACD,GAjBD;;AAmBA,QAAM;AAAA,OAACS,OAAD;AAAA,OAAUC;AAAV,MAAwB7D,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM;AAAA,OAAC8D,kBAAD;AAAA,OAAqBC;AAArB,MAA8C/D,QAAQ,CAASiD,eAAe,EAAxB,CAA5D;AACA,QAAM;AAAA,OAACe,iBAAD;AAAA,OAAoBC;AAApB,MAA4CjE,QAAQ,CAAS,CAAC,CAAV,CAA1D;AACA,QAAM;AAAA,OAACkE,SAAD;AAAA,OAAYC;AAAZ,MAA4BnE,QAAQ,CAAO,IAAI0C,IAAJ,EAAP,CAA1C;AACA,QAAM;AAAA,OAAC0B,YAAD;AAAA,OAAeC;AAAf,MAAkCrE,QAAQ,CAAC,OAAD,CAAhD;AACA,QAAM;AAAA,OAACsE,QAAD;AAAA,OAAWC;AAAX,MAA0BvE,QAAQ,CAAC,KAAD,CAAxC,CArFkE,CAuFlE;AACA;;AAEA,QAAM;AAAA,OAACwE,qBAAD;AAAA,OAAwBC;AAAxB,MAAoDzE,QAAQ,CAAC8C,eAAD,CAAlE;AAEA7C,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIyE,MAAM,CAACC,UAAP,GAAoB,GAAxB,EAA6B;AAC3B,UAAIb,kBAAkB,IAAI,CAA1B,EAA6B;AAC3B,cAAMd,IAAI,GAAGQ,MAAM,CAACC,IAAP,CAAYX,eAAZ,EAA6Bb,GAA7B,CAAiC,CAACyB,UAAD,EAAaC,KAAb,KAAuB;AACnE,cAAIG,kBAAkB,KAAKH,KAA3B,EAAkC;AAChC,mBAAOD,UAAP;AACD;AACF,SAJY,CAAb;AAKAkB,QAAAA,kBAAkB,CAAC5B,IAAD,EAAOc,kBAAP,CAAlB;AACD;AACF;AACF,GAXQ,EAWN,EAXM,CAAT;AAaA,MAAIe,QAAkB,GAAG,EAAzB,CAzGkE,CAyGtC;;AAC5B,MAAIC,IAAY,GAAG,EAAnB;AACAjD,EAAAA,eAAe,CAACkB,OAAhB,CAAyBb,MAAD,IAAqB;AAC3CA,IAAAA,MAAM,CAAC6C,UAAP,CAAkBhC,OAAlB,CAA2BiC,KAAD,IAAmB;AAC3C,UAAIC,QAAQ,GAAG1E,WAAW,CAAC2B,MAAM,CAAC6C,UAAR,EAAoB5D,SAApB,CAA1B;AACA8D,MAAAA,QAAQ,CAAClC,OAAT,CAAkBxB,GAAD,IAAe;AAC9B,YAAI,CAACsD,QAAQ,CAACK,QAAT,CAAkB3D,GAAG,CAAC4D,IAAtB,CAAL,EAAkC;AAChCN,UAAAA,QAAQ,CAAClD,IAAT,CAAcJ,GAAG,CAAC4D,IAAlB;AACAL,UAAAA,IAAI,CAACnD,IAAL,CAAUJ,GAAV;AACD;AACF,OALD;AAMD,KARD;AAUD,GAXD;AAYAsD,EAAAA,QAAQ,CAACxC,IAAT;;AAEA,QAAM+C,oBAAoB,GAAG,MAAM;AACjCvB,IAAAA,UAAU,CAAC,CAACD,OAAF,CAAV;AACD,GAFD;;AAIA,QAAMyB,iBAAiB,GAAG,CAACF,IAAD,EAAexB,KAAf,EAA8BxC,SAA9B,KAAyD;AACjF8C,IAAAA,oBAAoB,CAACN,KAAD,CAApB;AAEA,UAAM2B,UAAU,GAAGzD,eAAe,CAAC0D,MAAhB,CAAuBrD,MAAM,IAAI;AAClD,YAAMsD,cAAc,GAAGjF,WAAW,CAAC2B,MAAM,CAACuD,UAAR,EAAoBtE,SAApB,CAAlC;AAEA,YAAMuE,UAAU,GAAGF,cAAc,CAACvD,GAAf,CAAmBV,GAAG,IAAI;AAC3C,eAAOd,CAAC,CAACyE,QAAF,CAAW3D,GAAG,CAAC4D,IAAJ,CAASQ,WAAT,EAAX,EAAmCR,IAAI,CAACQ,WAAL,EAAnC,CAAP;AACD,OAFkB,CAAnB;AAGA,aAAOD,UAAU,CAACE,IAAX,CAAgBrE,GAAG,IAAIA,GAAG,KAAK,IAA/B,CAAP;AACD,KAPkB,CAAnB;AASAQ,IAAAA,UAAU,CAACuD,UAAD,CAAV;AACD,GAbD;;AAeA,QAAMV,kBAAkB,GAAG,CAAC5B,IAAD,EAAOW,KAAP,KAAyB;AAClDI,IAAAA,qBAAqB,CAACJ,KAAD,CAArB;AACAQ,IAAAA,YAAY,CAAC,IAAIzB,IAAJ,CAASvC,MAAM,CAAC6C,IAAD,EAAO,iBAAP,CAAN,CAAgCZ,MAAhC,EAAT,CAAD,CAAZ;AAEA,UAAMyD,SAAS,GAAG/D,OAAO,CAACgE,KAAR,CAAc5D,MAAM,IACpC/B,MAAM,CAAC+B,MAAM,CAACC,SAAR,CAAN,CAAyBC,MAAzB,CAAgC,YAAhC,MAAkDjC,MAAM,CAAC6C,IAAD,EAAO,iBAAP,CAAN,CAAgCZ,MAAhC,CAAuC,YAAvC,CADlC,CAAlB;;AAGA,QAAIyD,SAAJ,EAAe;AACbE,MAAAA,eAAe;AACftB,MAAAA,wBAAwB,CAAC3B,eAAD,CAAxB;AACA;AACD;;AAED,UAAMkD,WAAW,GAAGnE,eAAe,CAAC0D,MAAhB,CAAuBrD,MAAM,IAAI;AACnD,aAAO/B,MAAM,CAAC+B,MAAM,CAACC,SAAR,CAAN,CAAyBC,MAAzB,CAAgC,iBAAhC,MAAuDjC,MAAM,CAAC6C,IAAD,EAAO,iBAAP,CAAN,CAAgCZ,MAAhC,CAAuC,iBAAvC,CAA9D;AACD,KAFmB,CAApB;;AAGA,QAAI,CAAC4D,WAAW,CAACpE,MAAjB,EAAyB;AACvBG,MAAAA,UAAU,CAACF,eAAD,CAAV;AACA;AACD;;AAEDE,IAAAA,UAAU,CAACiE,WAAD,CAAV;AACD,GAtBD;;AAwBA,QAAMC,WAAW,GAAG,MAAM;AACxBhC,IAAAA,oBAAoB,CAAC,CAAC,CAAF,CAApB;AACAlC,IAAAA,UAAU,CAACF,eAAD,CAAV;AACD,GAHD;;AAKA,QAAMkE,eAAe,GAAG,MAAM;AAC5BhC,IAAAA,qBAAqB,CAAC,CAAC,CAAF,CAArB;AACAhC,IAAAA,UAAU,CAACF,eAAD,CAAV;AACD,GAHD;;AAKA,QAAMqE,QAAQ,GAAG,MAAM;AACrB,QAAIC,KAAK,GAAG,EAAZ;AAEA,QAAIjC,SAAS,IAAIE,YAAY,KAAK,OAAlC,EACE+B,KAAK,GAAGhG,MAAM,CAAC+D,SAAD,CAAN,CAAkB9B,MAAlB,CAAyB,YAAzB,CAAR,CADF,KAEK,IAAI8B,SAAS,IAAIE,YAAY,KAAK,MAAlC,EACH+B,KAAK,GAAGhG,MAAM,CAAC+D,SAAD,CAAN,CAAkB9B,MAAlB,CAAyB,MAAzB,CAAR,CADG,KAGH+D,KAAK,GAAG,MAAR;AACF,WAAOA,KAAP;AACD,GAVD;;AAYA,QAAMC,YAAY,GAAG,MAAM;AACzB,QAAIC,IAAI,GAAG,EAAX;AACA,QAAIvD,eAAe,CAAC3C,MAAM,CAAC+D,SAAD,CAAN,CAAkB9B,MAAlB,CAAyB,iBAAzB,CAAD,CAAf,GAA+D,CAAnE,EACEiE,IAAI,GAAI,GAAEvD,eAAe,CAAC3C,MAAM,CAAC+D,SAAD,CAAN,CAAkB9B,MAAlB,CAAyB,iBAAzB,CAAD,CAA8C,SAAvE,CADF,KAEK,IAAIU,eAAe,CAAC3C,MAAM,CAAC+D,SAAD,CAAN,CAAkB9B,MAAlB,CAAyB,iBAAzB,CAAD,CAAf,KAAiE,CAArE,EACHiE,IAAI,GAAI,GAAEvD,eAAe,CAAC3C,MAAM,CAAC+D,SAAD,CAAN,CAAkB9B,MAAlB,CAAyB,iBAAzB,CAAD,CAA8C,QAAvE;AACF,WAAOiE,IAAP;AACD,GAPD;;AASA,WAASC,eAAT,CAAyB;AACvBC,IAAAA,GADuB;AAEvB5C,IAAAA,KAFuB;AAGvB6C,IAAAA;AAHuB,GAAzB,EAIG;AACD,UAAMC,cAAc,GAAGhG,CAAC,CAACiG,MAAF,CAAS1E,WAAT,CAAvB;;AACA,WACE;AACE,MAAA,GAAG,EAAEuE,GADP;AAEE,MAAA,KAAK,EAAEC,KAFT;AAGE,MAAA,SAAS,EACN,GAAEnG,MAAM,CAAC,gBAAD,CAAmB,IAAGyD,kBAAkB,KAAKH,KAAvB,GAA+BtD,MAAM,CAAC,QAAD,CAArC,GAAkD,EAAG,IAAGsD,KAAK,GAAG,CAAR,KAAc,CAAd,GAAkBtD,MAAM,CAAC,MAAD,CAAxB,GAAmCA,MAAM,CAAC,KAAD,CAAQ,EAJ5I;AAME,MAAA,OAAO,EAAE,MAAM;AACbuE,QAAAA,kBAAkB,CAAC6B,cAAc,CAAC9C,KAAD,CAAf,EAAwBA,KAAxB,CAAlB;AACD,OARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO8C,cAAc,CAAC9C,KAAD,CAArB,CAVF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOb,eAAe,CAAC2D,cAAc,CAAC9C,KAAD,CAAf,CAAtB,YAXF,CADF;AAeD;;AAED,QAAMgD,gBAAgB,GAAG,CAAC;AAAEhD,IAAAA,KAAF;AAAS6C,IAAAA;AAAT,GAAD,KAAsB;AAAA;;AAC7C,UAAMI,cAAc,GAAGrG,WAAW,mBAACuB,OAAO,CAAC6B,KAAD,CAAR,mDAAC,eAAgBoB,UAAjB,EAA6B7D,KAAK,CAACC,SAAnC,CAAlC;AACA,QAAI,CAACW,OAAO,CAAC6B,KAAD,CAAZ,EAAqB,OAAO,2BAAP;AACrB,WACE;AACE,MAAA,GAAG,EAAEA,KADP;AAEE,MAAA,KAAK,EAAE6C,KAFT;AAGE,MAAA,SAAS,EAAG,GAAEnG,MAAM,CAAC,iBAAD,CAAoB,IAAGsD,KAAK,GAAG,CAAR,KAAc,CAAd,GAAkBtD,MAAM,CAAC,MAAD,CAAxB,GAAmCA,MAAM,CAAC,KAAD,CAAQ,EAH9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE;AAAK,MAAA,SAAS,EAAEA,MAAM,CAAC,6BAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGF,MAAM,oBAAC2B,OAAO,CAAC6B,KAAD,CAAR,oDAAC,gBAAgBxB,SAAjB,CAAN,CAAkCC,MAAlC,CAAyC,iBAAzC,CADH,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAON,OAAO,CAAC6B,KAAD,CAAP,IAAkBxD,MAAM,oBAAC2B,OAAO,CAAC6B,KAAD,CAAR,oDAAC,gBAAgBxB,SAAjB,CAAN,CAAkCC,MAAlC,CAAyC,QAAzC,CAAzB,WAFF,CALF,EAUE,MAAC,gBAAD;AAAkB,MAAA,MAAM,EAAEN,OAAO,CAAC6B,KAAD,CAAjC;AAA0C,MAAA,SAAS,EAAEtD,MAAM,CAAC,yCAAD,CAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVF,EAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,MAAC,IAAD;AAAM,MAAA,EAAE,EAAG,SAAD,mBAASyB,OAAO,CAAC6B,KAAD,CAAhB,oDAAS,gBAAgBkD,OAAQ,EAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+C/E,OAAO,CAAC6B,KAAD,CAAP,IAAkB7B,OAAO,CAAC6B,KAAD,CAAP,CAAewB,IAAhF,CAAJ,CAZF,EAcE;AAAK,MAAA,SAAS,EAAG,GAAE9E,MAAM,CAAC,8BAAD,CAAiC,eAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGyB,OAAO,CAAC6B,KAAD,CAAP,wBAAkB7B,OAAO,CAAC6B,KAAD,CAAzB,oDAAkB,gBAAgBmD,WAAlC,CADH,CAdF,EAmBIhF,OAAO,CAAC6B,KAAD,CAAP,IAAkBiD,cAAlB,IAAoCA,cAAc,CAAChF,MAAf,IAAyB,CAA7D,IACA;AAAI,MAAA,SAAS,EAAEvB,MAAM,CAAC,2BAAD,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAEA,MAAM,CAAC,wBAAD,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,UAAD;AACE,MAAA,MAAM,EAAEyB,OAAO,CAAC6B,KAAD,CADjB;AAEE,MAAA,WAAW,EAAE,CAFf;AAGE,MAAA,cAAc,EAAEiD,cAHlB;AAIE,MAAA,SAAS,EAAEvG,MAAM,CAAC,yBAAD,CAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE;AAAK,MAAA,SAAS,EAAEA,MAAM,CAAC,6BAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD;AAAM,MAAA,EAAE,EAAEuG,cAAc,CAAC,CAAD,CAAd,CAAkBG,IAAlB,IAA0B,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0CH,cAAc,CAAC,CAAD,CAAd,CAAkBzB,IAA5D,CADF,CAPF,CADF,EAYE;AAAI,MAAA,SAAS,EAAE9E,MAAM,CAAC,wBAAD,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,UAAD;AACE,MAAA,MAAM,EAAEyB,OAAO,CAAC6B,KAAD,CADjB;AAEE,MAAA,WAAW,EAAE,CAFf;AAGE,MAAA,cAAc,EAAEiD,cAHlB;AAIE,MAAA,SAAS,EAAEvG,MAAM,CAAC,yBAAD,CAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE;AAAK,MAAA,SAAS,EAAEA,MAAM,CAAC,6BAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,IAAD;AAAM,MAAA,EAAE,EAAEuG,cAAc,CAAC,CAAD,CAAd,CAAkBG,IAAlB,IAA0B,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0CH,cAAc,CAAC,CAAD,CAAd,CAAkBzB,IAA5D,CADF,CAPF,CAZF,EAuBE;AAAI,MAAA,SAAS,EAAE9E,MAAM,CAAC,iDAAD,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,gBAAD;AAAkB,MAAA,MAAM,EAAEyB,OAAO,CAAC6B,KAAD,CAAjC;AAA0C,MAAA,SAAS,EAAEtD,MAAM,CAAC,0CAAD,CAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAvBF,CApBJ,CADF;AAoDD,GAvDD,CA1NkE,CAqRlE;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAEA,MAAIwB,eAAe,KAAKmF,SAApB,IAAiC,CAAAnF,eAAe,SAAf,IAAAA,eAAe,WAAf,YAAAA,eAAe,CAAED,MAAjB,MAA4B,CAAjE,EAAoE,OAAQ,2BAAR;AAEpE,SACE,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAA2B,IAAA,EAAE,EAAC,UAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAK,IAAA,SAAS,EAAEvB,MAAM,CAAC,kBAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEA,MAAM,CAAC,UAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAK,IAAA,SAAS,EAAEA,MAAM,CAAC,iBAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CAFF,EAoGE;AAAK,IAAA,SAAS,EAAEA,MAAM,CAAC,iBAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAEA,MAAM,CAAC,gBAAD,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAGE;AAAQ,IAAA,OAAO,EAAE+E,oBAAjB;AAAuC,IAAA,SAAS,EAAE/E,MAAM,CAAC,wBAAD,CAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAiBgB,SAAS,GAAI,GAAEA,SAAS,CAAC8D,IAAK,EAArB,GAAyB,SAAnD,CADF,EAEE;AACE,IAAA,SAAS,EAAG,GAAE9E,MAAM,CAAC,MAAD,CAAS,IAAG,CAACuD,OAAD,GAAWvD,MAAM,CAAC,SAAD,CAAjB,GAA+B,EAAG,EADpE;AAEE,IAAA,IAAI,EAAC,cAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAFF,CAHF,EAYE;AAAM,IAAA,SAAS,EAAEA,MAAM,CAAC,wBAAD,CAAvB;AAAmD,IAAA,OAAO,EAAE4F,WAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAZF,CApGF,EAmHE;AAAK,IAAA,SAAS,EAAG,GAAE5F,MAAM,CAAC,wBAAD,CAA2B,IAAG,CAACuD,OAAD,GAAWvD,MAAM,CAAC,SAAD,CAAjB,GAA+B,EAAG,EAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEA,MAAM,CAAC,yBAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOgB,SAAS,GAAI,GAAEA,SAAS,CAAC8D,IAAK,EAArB,GAAyB,MAAzC,CADF,EAEE;AACE,IAAA,SAAS,EAAE9E,MAAM,CAAC,uCAAD,CADnB;AAEE,IAAA,OAAO,EAAE4F,WAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,CADF,EAUE;AAAK,IAAA,SAAS,EAAE5F,MAAM,CAAC,wCAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGwE,QAAQ,CAAC5C,GAAT,CAAa,CAACkD,IAAD,EAAexB,KAAf,KACZ;AACE,IAAA,OAAO,EAAE,MAAM0B,iBAAiB,CAACF,IAAD,EAAOxB,KAAP,EAAczC,KAAK,CAACC,SAApB,CADlC;AAEE,IAAA,GAAG,EAAG,iBAAgBwC,KAAM,EAF9B;AAGE,IAAA,KAAK,EAAE;AAAEsD,MAAAA,MAAM,EAAE;AAAV,KAHT;AAIE,IAAA,SAAS,EAAEjD,iBAAiB,KAAKL,KAAtB,GAA8BtD,MAAM,CAAC,WAAD,CAApC,GAAoD,EAJjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMG8E,IANH,CADD,CADH,CAVF,EAuBE;AAAK,IAAA,SAAS,EAAE9E,MAAM,CAAC,gCAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvBF,CAnHF,EA6IE;AAAK,IAAA,SAAS,EAAEA,MAAM,CAAC,mBAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAG,GAAEA,MAAM,CAAC,iBAAD,CAAoB,IAAGuD,OAAO,GAAGvD,MAAM,CAAC,SAAD,CAAT,GAAuB,EAAG,EAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGqE,MAAM,CAACC,UAAP,GAAoB,GAApB,IACC,MAAC,IAAD;AACE,IAAA,SAAS,EAAEtE,MAAM,CAAC,uBAAD,CADnB;AAEE,IAAA,MAAM,EAAE,GAFV;AAGE,IAAA,QAAQ,EAAEmD,MAAM,CAACC,IAAP,CAAYe,qBAAZ,EAAmC5C,MAH/C;AAIE,IAAA,SAAS,EAAE,GAJb;AAKE,IAAA,WAAW,EAAE0E,eALf;AAME,IAAA,KAAK,EAAE,GANT;AAOE,IAAA,gBAAgB,EAAE,CAPpB;AAQE,IAAA,aAAa,EAAExC,kBAAkB,GAAG,CARtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADF,CADF,EAyCE;AAAK,IAAA,SAAS,EAAG,GAAEzD,MAAM,CAAC,iBAAD,CAAoB,IAAG,CAACuD,OAAD,GAAWvD,MAAM,CAAC,SAAD,CAAjB,GAA+B,EAAG,EAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEA,MAAM,CAAC,yBAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAM,IAAA,OAAO,EAAE4F,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,CADF,EAKE;AAAK,IAAA,SAAS,EAAE5F,MAAM,CAAC,iCAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGwE,QAAQ,CAAC5C,GAAT,CAAa,CAACkD,IAAD,EAAexB,KAAf,KACZ;AACE,IAAA,OAAO,EAAE,MAAM0B,iBAAiB,CAACF,IAAD,EAAOxB,KAAP,EAAczC,KAAK,CAACC,SAApB,CADlC;AAEE,IAAA,GAAG,EAAG,iBAAgBwC,KAAM,EAF9B;AAGE,IAAA,KAAK,EAAE;AAAEsD,MAAAA,MAAM,EAAE;AAAV,KAHT;AAIE,IAAA,SAAS,EAAEjD,iBAAiB,KAAKL,KAAtB,GAA8BtD,MAAM,CAAC,WAAD,CAApC,GAAoD,EAJjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMG8E,IANH,CADD,CADH,CALF,CAzCF,CA7IF,EA2MGT,MAAM,CAACC,UAAP,IAAqB,GAArB,IACC;AAAK,IAAA,SAAS,EAAEtE,MAAM,CAAC,kBAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,wBAAD;AACE,IAAA,KAAK,EAAE;AAAE6G,MAAAA,YAAY,EAAE;AAAhB,KADT;AAEE,IAAA,UAAU,EAAEpF,OAAO,CAACF,MAFtB;AAGE,IAAA,aAAa,EAAE+E,gBAHjB;AAIE,IAAA,UAAU,EAAE,GAJd;AAKE,IAAA,UAAU,EAAE,IALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CA5MJ,EAmOGjC,MAAM,CAACC,UAAP,GAAoB,GAApB,IACC;AAAK,IAAA,SAAS,EAAEtE,MAAM,CAAC,kBAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAAC;AAAE8G,IAAAA,MAAF;AAAUC,IAAAA;AAAV,GAAD,KACC,MAAC,IAAD;AACE,IAAA,SAAS,EAAE/G,MAAM,CAAC,uBAAD,CADnB;AAEE,IAAA,MAAM,EAAE8G,MAFV;AAGE,IAAA,QAAQ,EAAErF,OAAO,CAACF,MAHpB;AAIE,IAAA,SAAS,EAAE,GAJb;AAKE,IAAA,WAAW,EAAE+E,gBALf;AAME,IAAA,KAAK,EAAES,KANT;AAOE,IAAA,QAAQ,EAAEA,KAPZ;AAQE,IAAA,gBAAgB,EAAE,CARpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADF,CApOJ,CADF,CAFF,CADF,CADF,CADF;AAsQD,CAplBD;;AAslBA,4BAAelH,IAAI,CAACe,QAAD,CAAnB","sourcesContent":["import React, { useState, useEffect, memo } from 'react'\nimport moment from 'moment'\nimport LayoutDefault from '../../layouts/LayoutDefault/LayoutDefault'\nimport styles from './Schedule.module.scss'\nimport { IStream, ITag, ITagIndex } from '../../services/content/tags/models'\nimport { filterStreams, filterStreamsNoLimit, getTagsFull } from '../../services/content/tags/selectors';\nimport SaveStreamButton from '../../components/SaveButtons/SaveStreamButton'\nimport _ from 'lodash';\nimport { Link } from 'react-router-dom'\nimport LineUpIcon from '../../components/LineUpIcon/LineUpIcon'\nimport { AutoSizer, List } from 'react-virtualized';\nimport SwipeableViews from 'react-swipeable-views';\nimport { virtualize } from 'react-swipeable-views-utils';\n\nconst VirtualizeSwipeableViews = virtualize(SwipeableViews);\n\ninterface ScheduleProps {\n  mainTag: ITag | undefined\n  streams: IStream[]\n  limit: number\n  filterTag: ITag | undefined\n  uuidIndex: ITagIndex[]\n}\n\nconst Schedule: React.FC<ScheduleProps> = (props: ScheduleProps) => {\n\n  const { uuidIndex, limit, filterTag } = props\n\n  const getChildTags = (tag: ITag | undefined): ITag[] | [] => {\n    let childTags: ITag[] = [];\n    if (!tag || !tag.children)\n      return [];\n\n    for (const item of tag.children) {\n      childTags.push(item)\n      if (item.children && item.children.length > 0) {\n        childTags.push(...getChildTags(item))\n      }\n    }\n    return childTags;\n  }\n\n  // const getChildStreams = (filterTag: ITag | undefined) => {\n  //   let renderStreams: any = [];\n  //   const childTags: ITag[] = getChildTags(filterTag);\n  //   if (childTags.length === 0)\n  //     return\n\n  //   else {\n  //     for (let tag of childTags) {\n  //       const childTagStreams = filterStreams(props.streams, 100, tag);\n  //       renderStreams = [...renderStreams, ...childTagStreams]\n  //     }\n  //   }\n  //   const uniqueRenderStreams = _.uniq(renderStreams)\n  //   return uniqueRenderStreams;\n  // }\n\n  let filteredStreams: IStream[] = filterStreamsNoLimit(props.streams, filterTag)\n\n  const [streams, setStreams] = useState(filteredStreams)\n\n  let streamDates = filteredStreams.length > 0 ?\n    filteredStreams.map(stream => moment(stream.startTime).format(\"ddd Do MMM YYYY\")) :\n    streams.map(stream => moment(stream.startTime).format(\"ddd Do MMM YYYY\"))\n\n  streamDates.sort((a, b) => {\n    const first = moment(a, 'ddd Do MMM YYYY').format();\n    const second = moment(b, 'ddd Do MMM YYYY').format();\n    return new Date(first).valueOf() - new Date(second).valueOf()\n  })\n\n  const calendarStreamDates = filteredStreams.map(stream => moment(stream.startTime).format(\"MMMM Do YYYY\"))\n  const streamYears = filteredStreams.map(stream => moment(stream.startTime).format(\"YYYY\"))\n\n  let streamDatesDict = {};\n  streamDates.forEach(date => {\n    if (streamDatesDict[date]) {\n      ++streamDatesDict[date];\n    } else {\n      // add new\n      streamDatesDict[date] = 1;\n    }\n  });\n\n  const getDefaultIndex = () => {\n    let currentDate = moment().format()\n    let defaultIndex = -1;\n\n    let firstNextStream = streams.find(s => moment(currentDate).isSameOrBefore(moment(s.startTime).format()))\n\n    if (!firstNextStream) {\n      firstNextStream = streams[streams.length - 1]\n    }\n\n    Object.keys(streamDatesDict).forEach((streamDate, index) => {\n      if (streamDate === moment(firstNextStream?.startTime).format(\"ddd Do MMM YYYY\")) {\n        defaultIndex = index;\n      }\n    })\n\n    return defaultIndex;\n  }\n\n  const [visible, setVisible] = useState(true);\n  const [dateHighlightIndex, setDateHighlightIndex] = useState<number>(getDefaultIndex());\n  const [tagHighlightIndex, setTagHighlightIndex] = useState<number>(-1);\n  const [dateValue, setDateValue] = useState<Date>(new Date());\n  const [calendarView, setCalendarView] = useState('month');\n  const [hideDays, setHideDays] = useState(false)\n\n  //if secondaryTag4 is undefined, use mainTag instead\n  // const tag = props.filterTag === undefined ? props.mainTag : props.filterTag\n\n  const [streamDatesDictRender, setStreamDatesDictRender] = useState(streamDatesDict)\n\n  useEffect(() => {\n    if (window.innerWidth > 768) {\n      if (dateHighlightIndex >= 0) {\n        const date = Object.keys(streamDatesDict).map((streamDate, index) => {\n          if (dateHighlightIndex === index) {\n            return streamDate;\n          }\n        })\n        filterStreamByDate(date, dateHighlightIndex)\n      }\n    }\n  }, [])\n\n  let tagNames: string[] = [] //  = getChildTags(tag);\n  let tags: ITag[] = []\n  filteredStreams.forEach((stream: IStream) => {\n    stream.lineUpTags.forEach((tagId: string) => {\n      var tagsFull = getTagsFull(stream.lineUpTags, uuidIndex)\n      tagsFull.forEach((tag: ITag) => {\n        if (!tagNames.includes(tag.name)) {\n          tagNames.push(tag.name)\n          tags.push(tag)\n        }\n      })\n    })\n\n  })\n  tagNames.sort()\n\n  const handleClickArrowIcon = () => {\n    setVisible(!visible)\n  }\n\n  const filterStreamByTag = (name: string, index: number, uuidIndex: ITagIndex[]) => {\n    setTagHighlightIndex(index);\n\n    const tagStreams = filteredStreams.filter(stream => {\n      const browseTagsFull = getTagsFull(stream.browseTags, uuidIndex)\n\n      const streamTags = browseTagsFull.map(tag => {\n        return _.includes(tag.name.toLowerCase(), name.toLowerCase())\n      })\n      return streamTags.some(tag => tag === true);\n    }\n    )\n    setStreams(tagStreams);\n  }\n\n  const filterStreamByDate = (date, index: number) => {\n    setDateHighlightIndex(index);\n    setDateValue(new Date(moment(date, \"ddd Do MMM YYYY\").format()));\n\n    const checkDate = streams.every(stream => (\n      moment(stream.startTime).format(\"ddd Do MMM\") === moment(date, \"ddd Do MMM YYYY\").format(\"ddd Do MMM\")\n    ))\n    if (checkDate) {\n      clearDateFilter();\n      setStreamDatesDictRender(streamDatesDict)\n      return;\n    }\n\n    const dateStreams = filteredStreams.filter(stream => {\n      return moment(stream.startTime).format(\"ddd Do MMM YYYY\") === moment(date, \"ddd Do MMM YYYY\").format(\"ddd Do MMM YYYY\")\n    })\n    if (!dateStreams.length) {\n      setStreams(filteredStreams)\n      return;\n    }\n\n    setStreams(dateStreams);\n  }\n\n  const clearFilter = () => {\n    setTagHighlightIndex(-1)\n    setStreams(filteredStreams)\n  }\n\n  const clearDateFilter = () => {\n    setDateHighlightIndex(-1)\n    setStreams(filteredStreams)\n  }\n\n  const getLabel = () => {\n    let label = ''\n\n    if (dateValue && calendarView === 'month')\n      label = moment(dateValue).format('ddd Do MMM')\n    else if (dateValue && calendarView === 'year')\n      label = moment(dateValue).format('YYYY')\n    else\n      label = 'Year'\n    return label;\n  }\n\n  const getEventText = () => {\n    let text = ''\n    if (streamDatesDict[moment(dateValue).format('ddd Do MMM YYYY')] > 1)\n      text = `${streamDatesDict[moment(dateValue).format('ddd Do MMM YYYY')]} Events`\n    else if (streamDatesDict[moment(dateValue).format('ddd Do MMM YYYY')] === 1)\n      text = `${streamDatesDict[moment(dateValue).format('ddd Do MMM YYYY')]} Event`\n    return text;\n  }\n\n  function dateRowRenderer({\n    key,\n    index,\n    style,\n  }) {\n    const streamDatesSet = _.uniqBy(streamDates)\n    return (\n      <div\n        key={key}\n        style={style}\n        className={\n          `${styles['schedule__date']} ${dateHighlightIndex === index ? styles['active'] : ''} ${index % 2 === 0 ? styles['even'] : styles['odd']}`\n        }\n        onClick={() => {\n          filterStreamByDate(streamDatesSet[index], index)\n        }}\n      >\n        <span>{streamDatesSet[index]}</span>\n        <span>{streamDatesDict[streamDatesSet[index]]} Events</span>\n      </div>\n    );\n  }\n\n  const eventRowRenderer = ({ index, style }) => {\n    const lineUpTagsFull = getTagsFull(streams[index]?.lineUpTags, props.uuidIndex)\n    if (!streams[index]) return <></>\n    return (\n      <div\n        key={index}\n        style={style}\n        className={`${styles['schedule__event']} ${index % 2 === 0 ? styles['even'] : styles['odd']}`}\n      >\n        <div className={styles['schedule__events__date-time']}>\n          {moment(streams[index]?.startTime).format('ddd Do MMM YYYY')}\n          <span>{streams[index] && moment(streams[index]?.startTime).format('h:mm a')} start</span>\n        </div>\n\n        <SaveStreamButton stream={streams[index]} className={styles['schedule__events__save-indicator-mobile']} />\n\n        <h2><Link to={`/play/${streams[index]?.eventId}`}>{streams[index] && streams[index].name}</Link></h2>\n\n        <div className={`${styles['schedule__event__description']} line-clamp-3`}>\n          {streams[index] && streams[index]?.description}\n        </div>\n\n        {\n          streams[index] && lineUpTagsFull && lineUpTagsFull.length >= 2 &&\n          <ul className={styles['schedule__events__vs-list']}>\n            <li className={styles['schedule__events__team']}>\n              <LineUpIcon\n                stream={streams[index]}\n                orderNumber={0}\n                lineUpTagsFull={lineUpTagsFull}\n                className={styles['schedule__events__image']}\n              />\n              <div className={styles['schedule__events__team-name']}>\n                <Link to={lineUpTagsFull[0].path || '#'}>{lineUpTagsFull[0].name}</Link>\n              </div>\n            </li>\n            <li className={styles['schedule__events__team']}>\n              <LineUpIcon\n                stream={streams[index]}\n                orderNumber={1}\n                lineUpTagsFull={lineUpTagsFull}\n                className={styles['schedule__events__image']}\n              />\n              <div className={styles['schedule__events__team-name']}>\n                <Link to={lineUpTagsFull[1].path || '#'}>{lineUpTagsFull[1].name}</Link>\n              </div>\n            </li>\n            <li className={styles['schedule__events__save-indicator-flex-container']}>\n              <SaveStreamButton stream={streams[index]} className={styles['schedule__events__save-indicator-desktop']} />\n            </li>\n          </ul>\n        }\n\n      </div>\n    );\n  }\n\n\n\n  // const renderStream = (stream: IStream, index: number, lineUpTagsFull: ITag[]) => (\n  //   <div key={index} className={styles['schedule__event']}>\n  //     <div className={styles['schedule__events__date-time']}>\n  //       {moment(stream?.startTime).format('ddd Do MMM')}\n  //       <span>{stream && moment(stream?.startTime).format('h:mm a')} start</span>\n  //     </div>\n\n  //     <SaveStreamButton stream={stream} className={styles['schedule__events__save-indicator-mobile']} ></SaveStreamButton>\n\n  //     <div className=\"line-clamp-2\">\n  //       <h2>\n  //         <Link to={`/play/${stream.eventId}`}>\n  //           {stream && stream.name}\n  //         </Link>\n  //       </h2>\n  //     </div>\n\n  //     <p>\n  //       {stream && stream?.description}\n  //     </p>\n\n  //     {\n  //       stream && lineUpTagsFull && lineUpTagsFull.length >= 2 &&\n  //       <ul className={styles['schedule__events__vs-list']}>\n  //         <li className={styles['schedule__events__team']}>\n  //           <LineUpIcon\n  //             stream={stream}\n  //             orderNumber={0}\n  //             lineUpTagsFull={lineUpTagsFull}\n  //             className={styles['schedule__events__image']}\n  //           />\n  //           <div className={styles['schedule__events__team-name']}>\n  //             <Link to={lineUpTagsFull[0].path || '#'}>{lineUpTagsFull[0].name}</Link>\n  //           </div>\n  //         </li>\n  //         <li className={styles['schedule__events__team']}>\n  //           <LineUpIcon\n  //             stream={stream}\n  //             orderNumber={1}\n  //             lineUpTagsFull={lineUpTagsFull}\n  //             className={styles['schedule__events__image']}\n  //           />\n  //           <div className={styles['schedule__events__team-name']}>\n  //             <Link to={lineUpTagsFull[1].path || '#'}>{lineUpTagsFull[1].name}</Link>\n  //           </div>\n  //         </li>\n  //       </ul>\n  //     }\n\n  //     <div className={styles['schedule__events__save-indicator-flex-container']}>\n  //       <SaveStreamButton stream={stream} className={styles['schedule__events__save-indicator-desktop']} ></SaveStreamButton>\n  //     </div>\n  //   </div >\n  // )\n\n  if (filteredStreams === undefined || filteredStreams?.length === 0) return (<></>)\n\n  return (\n    <LayoutDefault>\n      <section>\n        <div className=\"container\" id=\"schedule\">\n\n          <div className={styles['schedule-wrapper']}>\n            <div className={styles['schedule']}>\n\n              <div className={styles['schedule__title']}>\n                <h2>Schedule</h2>\n              </div>\n\n              {/*<div className={styles['calendar-navigation']}>\n                <div className={styles['calendar-navigation__flex-container']}>\n                  <h2 onClick={(e) => {\n                    e.stopPropagation();\n                    if (hideDays) return\n\n                    else {\n                      if (calendarView !== 'month')\n                        setCalendarView('month');\n                      else\n                        setCalendarView('decade')\n                    }\n                  }}\n                  >\n                    {getLabel()}\n                  </h2>\n                  <div>\n                    {getEventText()}\n                  </div>\n\n                </div>\n                <svg onClick={(e) => {\n                  e.stopPropagation();\n                  setHideDays(!hideDays)\n                }} className={styles['calendar__table__icons-down']} role=\"presentation\">\n                  <use xlinkHref=\"#icon-chevron-down\"></use>\n                </svg>\n              </div>\n\n              <MiniCalendar\n                className={styles['calendar__table']}\n                prevLabel={null}\n                prev2Label={null}\n                nextLabel={null}\n                next2Label={null}\n                view={calendarView}\n                onClickDay={(value) => filterStreamByDate(value, -2)}\n                onClickYear={() => setCalendarView('year')}\n                onClickMonth={() => setCalendarView('month')}\n                showNavigation={false}\n                formatShortWeekday={(locale, date) => {\n                  if (hideDays)\n                    return ''\n                  else return ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'][date.getDay()]\n                }}\n                onViewChange={({ activeStartDate }) => {\n                  setDateValue(activeStartDate);\n                }}\n                tileClassName={({ date, view }) => {\n                  let tileClass: string = '';\n                  const currentDate = moment(date).format(\"MMMM Do YYYY\")\n                  if (view === 'month') {\n                    if (currentDate === moment(dateValue).format(\"MMMM Do YYYY\"))\n                      tileClass += `${styles['calendar__table__selected']} `;\n\n                    if (moment(date).format(\"MMM\") !== moment(dateValue).format(\"MMM\"))\n                      tileClass += `${styles['calendar__table__greyed']} `;\n\n                    if (calendarStreamDates.includes(currentDate)) {\n                      const tomorrow = moment(currentDate, \"MMMM Do YYYY\").add(1, 'day').format(\"MMMM Do YYYY\")\n                      const yesterday = moment(currentDate, \"MMMM Do YYYY\").add(-1, 'day').format(\"MMMM Do YYYY\")\n                      if (calendarStreamDates.includes(tomorrow) && calendarStreamDates.includes(yesterday))\n                        tileClass += `${styles['calendar__table__highlighted-full']}`\n                      else if (calendarStreamDates.includes(tomorrow))\n                        tileClass += `${styles['calendar__table__highlighted-left']}`\n                      else if (calendarStreamDates.includes(yesterday))\n                        tileClass += `${styles['calendar__table__highlighted-right']}`\n                      else\n                        tileClass += `${styles['calendar__table__highlighted']}`\n                    }\n                  }\n                  else if (view === 'decade') {\n                    const tileYear = moment(date).format(\"YYYY\")\n                    if (!streamYears.includes(tileYear))\n                      tileClass += `${styles['calendar__table__disabled']}`\n                  }\n                  if (hideDays)\n                    tileClass = `${styles['calendar__table__disabled']}`\n                  return tileClass;\n                }}\n                tileDisabled={({ date, view }) => {\n                  const currentDate = moment(date).format(\"MMMM Do YYYY\")\n                  const tileYear = moment(date).format(\"YYYY\")\n                  if (view === 'month')\n                    return !calendarStreamDates.includes(currentDate);\n                  else if (view === 'decade')\n                    return !streamYears.includes(tileYear)\n                  else return;\n                }}\n                onChange={setDateValue}\n                value={dateValue}\n                activeStartDate={dateValue}\n              />*/}\n\n              <div className={styles['schedule__label']}>\n                <span className={styles['schedule__text']}>Schedule</span>\n\n                <button onClick={handleClickArrowIcon} className={styles['schedule-filter-button']}>\n                  <span>Filter by {filterTag ? `${filterTag.name}` : 'Line-up'}</span>\n                  <svg\n                    className={`${styles['icon']} ${!visible ? styles['clicked'] : ''}`}\n                    role=\"presentation\"\n                  >\n                    <use xlinkHref=\"#icon-chevron-right\"></use>\n                  </svg>\n                </button>\n                <span className={styles['schedule__label__clear']} onClick={clearFilter}>Clear</span>\n              </div>\n\n              <div className={`${styles['schedule__teams-mobile']} ${!visible ? styles['visible'] : ''}`}>\n                <div className={styles['schedule__teams-wrapper']}>\n                  <span>{filterTag ? `${filterTag.name}` : 'Team'}</span>\n                  <span\n                    className={styles['schedule__teams-mobile__clear-desktop']}\n                    onClick={clearFilter}\n                  >\n                    Clear Filter\n                  </span>\n                </div>\n                <div className={styles['schedule__teams-mobile__tags-container']}>\n                  {tagNames.map((name: string, index: number) => (\n                    <span\n                      onClick={() => filterStreamByTag(name, index, props.uuidIndex)}\n                      key={`schedule_span_${index}`}\n                      style={{ cursor: \"pointer\" }}\n                      className={tagHighlightIndex === index ? styles['highlight'] : ''}\n                    >\n                      {name}\n                    </span>\n                  )\n                  )}\n                </div>\n                <div className={styles['schedule__teams-mobile__shadow']}></div>\n              </div>\n\n              <div className={styles['schedule__wrapper']}>\n                <div className={`${styles['schedule__dates']} ${visible ? styles['visible'] : ''}`}>\n                  <div className=\"hide-medium\">\n                    {window.innerWidth > 768 &&\n                      <List\n                        className={styles['schedule__events-list']}\n                        height={670}\n                        rowCount={Object.keys(streamDatesDictRender).length}\n                        rowHeight={150}\n                        rowRenderer={dateRowRenderer}\n                        width={420}\n                        overscanRowCount={3}\n                        scrollToIndex={dateHighlightIndex + 2}\n                      />\n                    }\n                  </div>\n                  {/* {Object.keys(streamDatesDictRender).map((streamDate, index) => (\n                    <div\n                      key={index}\n                      className={\n                        `${styles['schedule__date']} ${dateHighlightIndex === index ? styles['active'] : ''}`\n                      }\n                      onClick={() => {\n                        filterStreamByDate(streamDate, index)\n                      }}\n                    >\n                      <div className={styles['schedule__date__flex-container']}>\n                        <span>{moment(streamDate, 'ddd Do MMM YYYY').format('ddd Do MMM YYYY')}</span>\n                        <span>\n                          {streamDatesDict[streamDate]}&nbsp;\n\t                        {streamDatesDict[streamDate] > 1 ? 'Events' : 'Event'}\n                        </span>\n                      </div>\n                      <svg className={styles['schedule__icon-down']} role=\"presentation\">\n                        <use xlinkHref=\"#icon-chevron-down\"></use>\n                      </svg>\n                    </div>\n                  ))} */}\n\n                </div>\n\n                <div className={`${styles['schedule__teams']} ${!visible ? styles['visible'] : ''}`}>\n                  <div className={styles['schedule__teams-wrapper']}>\n                    <span>Team</span>\n                    <span onClick={clearFilter}>Clear Filter</span>\n                  </div>\n                  <div className={styles['schedule__teams__tags-container']}>\n                    {tagNames.map((name: string, index: number) => (\n                      <span\n                        onClick={() => filterStreamByTag(name, index, props.uuidIndex)}\n                        key={`schedule_span_${index}`}\n                        style={{ cursor: \"pointer\" }}\n                        className={tagHighlightIndex === index ? styles['highlight'] : ''}\n                      >\n                        {name}\n                      </span>\n                    )\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {window.innerWidth <= 768 &&\n                <div className={styles['schedule__events']}>\n                  <VirtualizeSwipeableViews\n                    style={{ paddingRight: \"70px\" }}\n                    slideCount={streams.length}\n                    slideRenderer={eventRowRenderer}\n                    hysteresis={0.1}\n                    resistance={true}\n                  />\n                  {/*\n                    <FixedSizeList\n                      className={styles['schedule__events-list']}\n                      height={400}\n                      itemCount={streams.length}\n                      itemSize={window.innerWidth - 50}\n                      layout=\"horizontal\"\n                      width={window.innerWidth}\n                    >\n                      {eventRowRenderer}\n                    </FixedSizeList>\n                  */}\n                </div>\n              }\n\n              {window.innerWidth > 768 &&\n                <div className={styles['schedule__events']}>\n                  <AutoSizer>\n                    {({ height, width }) => (\n                      <List\n                        className={styles['schedule__events-list']}\n                        height={height}\n                        rowCount={streams.length}\n                        rowHeight={300}\n                        rowRenderer={eventRowRenderer}\n                        width={width}\n                        rowWidth={width}\n                        overscanRowCount={3}\n                      />\n                    )}\n                  </AutoSizer>\n\n                  {/* {window.innerWidth <= 768 && streams.map((stream, index) => (\n                  renderStream(stream, index, getTagsFull(stream.lineUpTags, props.uuidIndex))\n                ))} */}\n                </div>\n              }\n\n            </div>\n          </div>\n        </div>\n      </section>\n    </LayoutDefault >\n  )\n}\n\nexport default memo(Schedule)\n"]},"metadata":{},"sourceType":"module"}