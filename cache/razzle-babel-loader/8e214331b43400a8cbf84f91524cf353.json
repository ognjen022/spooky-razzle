{"ast":null,"code":"import { from, of } from 'rxjs';\nimport { exhaustMap, filter, catchError } from 'rxjs/operators';\nimport { isActionOf } from 'typesafe-actions';\nimport { tagsRequestedEvent, tagsReceivedEvent, tagsErroredEvent } from '../events';\nimport { getTags } from '../api/getTags';\n\nconst tagsRequestedEpic = (action$, store) => action$.pipe(filter(isActionOf(tagsRequestedEvent)), exhaustMap(event => from(getTags()).pipe(exhaustMap(apiResponse => of(apiResponse.statusCode === 200 ? tagsReceivedEvent(apiResponse.data) : tagsErroredEvent(apiResponse.data))), catchError(() => of(tagsErroredEvent({\n  tree: undefined,\n  error: 'Network error',\n  errorDescription: 'Check your network connection'\n}))))));\n\nexport default [tagsRequestedEpic];","map":{"version":3,"sources":["/Users/ognjen/Desktop/spooky.live-ssr/src/services/content/tags/epics/tagsRequestedEpic.ts"],"names":["from","of","exhaustMap","filter","catchError","isActionOf","tagsRequestedEvent","tagsReceivedEvent","tagsErroredEvent","getTags","tagsRequestedEpic","action$","store","pipe","event","apiResponse","statusCode","data","tree","undefined","error","errorDescription"],"mappings":"AACA,SAASA,IAAT,EAAeC,EAAf,QAAyB,MAAzB;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,UAA7B,QAA+C,gBAA/C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAAyBC,kBAAzB,EAA6CC,iBAA7C,EAAgEC,gBAAhE,QAAwF,WAAxF;AAEA,SAASC,OAAT,QAAwB,gBAAxB;;AAEA,MAAMC,iBAAkE,GAAG,CAACC,OAAD,EAAUC,KAAV,KACzED,OAAO,CAACE,IAAR,CACEV,MAAM,CAACE,UAAU,CAACC,kBAAD,CAAX,CADR,EAEEJ,UAAU,CAACY,KAAK,IACdd,IAAI,CAACS,OAAO,EAAR,CAAJ,CAAgBI,IAAhB,CACEX,UAAU,CAACa,WAAW,IACpBd,EAAE,CAACc,WAAW,CAACC,UAAZ,KAA2B,GAA3B,GAAiCT,iBAAiB,CAACQ,WAAW,CAACE,IAAb,CAAlD,GAAuET,gBAAgB,CAACO,WAAW,CAACE,IAAb,CAAxF,CADM,CADZ,EAIEb,UAAU,CAAC,MAAMH,EAAE,CAACO,gBAAgB,CAAC;AACnCU,EAAAA,IAAI,EAAEC,SAD6B;AAEnCC,EAAAA,KAAK,EAAE,eAF4B;AAGnCC,EAAAA,gBAAgB,EAAE;AAHiB,CAAD,CAAjB,CAAT,CAJZ,CADQ,CAFZ,CADF;;AAiBA,eAAe,CAACX,iBAAD,CAAf","sourcesContent":["import { Epic } from 'redux-observable'\nimport { from, of } from 'rxjs'\nimport { exhaustMap, filter, catchError } from 'rxjs/operators'\nimport { isActionOf } from 'typesafe-actions'\nimport { TagsEventTypes, tagsRequestedEvent, tagsReceivedEvent, tagsErroredEvent } from '../events'\nimport { RootState } from '../../../RootState'\nimport { getTags } from '../api/getTags'\n\nconst tagsRequestedEpic: Epic<TagsEventTypes, TagsEventTypes, RootState> = (action$, store) =>\n  action$.pipe(\n    filter(isActionOf(tagsRequestedEvent)),\n    exhaustMap(event =>\n      from(getTags()).pipe(\n        exhaustMap(apiResponse => \n          of(apiResponse.statusCode === 200 ? tagsReceivedEvent(apiResponse.data) : tagsErroredEvent(apiResponse.data))\n        ),\n        catchError(() => of(tagsErroredEvent({\n          tree: undefined,\n          error: 'Network error',\n          errorDescription: 'Check your network connection'\n        })))\n      )\n    )\n  )\n\nexport default [tagsRequestedEpic]\n"]},"metadata":{},"sourceType":"module"}