{"ast":null,"code":"var _jsxFileName = \"/Users/ognjen/Desktop/spooky-live-ssr/ui/src/layouts/NewsTemplate/NewsTemplate.tsx\",\n    _this = this;\n\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectNewsArticles, selectHasLoaded } from '../../services/content/news/selectors';\nimport Ticker from '../../components/Ticker/Ticker';\nimport { selectMainTag } from '../../services/content/tags/selectors';\nimport { newsRequestedEvent } from '../../services/content/news/events';\nimport NewsLargeCarousel from '../../scenes/NewsLargeCarousel/NewsLargeCarousel';\nimport NewsSmallCarousel from '../../scenes/NewsSmallCarousel/NewsSmallCarousel';\nimport NewsCopyHero from '../../scenes/NewsCopyHero/NewsCopyHero';\nimport CopyStatement from '../../components/CopyStatement/CopyStatement';\nimport Spinner from '../../components/Spinner/Spinner';\n\nvar getTicker = function getTicker(mainTag) {\n  if (!mainTag || !mainTag.ticker || mainTag.ticker.length === 0) return undefined;\n  return mainTag.ticker[0];\n};\n\nvar NewsTemplate = function NewsTemplate() {\n  var dispatch = useDispatch();\n  useEffect(function () {\n    window.scrollTo(0, 0);\n    dispatch(newsRequestedEvent());\n  }, []); // Selector data page needs from state\n\n  var newsArticles = useSelector(function (state) {\n    return selectNewsArticles(state);\n  });\n  var hasLoaded = useSelector(function (state) {\n    return selectHasLoaded(state);\n  });\n  var mainTag = useSelector(function (state) {\n    return selectMainTag(state);\n  });\n  if (!hasLoaded) return __jsx(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, __jsx(Spinner, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }));\n  var ticker = getTicker(mainTag);\n  var featureArticles = newsArticles.length > 0 && newsArticles.filter(function (article) {\n    return article.featuredArticle;\n  }); // TODO - feature article logic\n\n  var featureArticleOne = featureArticles && featureArticles.length > 0 ? featureArticles[0] // take first feature article\n  : newsArticles[0]; // fallback to first article if no feature articles exists\n\n  var featureArticleTwo = featureArticles && featureArticles.length > 0 ? featureArticles[1] // take first feature article\n  : newsArticles[1]; // fallback to first article if no feature articles exists\n\n  return __jsx(\"section\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, __jsx(Ticker, {\n    text: 'ticker message',\n    link: undefined,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), newsArticles.length > 0 ? __jsx(React.Fragment, null, __jsx(NewsSmallCarousel, {\n    featureArticle: featureArticleOne,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }), __jsx(NewsCopyHero, {\n    articles: newsArticles.slice(0, 2),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }), __jsx(NewsLargeCarousel, {\n    featureArticle: featureArticleTwo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  })) : __jsx(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, \"No news acticles is available.\"), __jsx(CopyStatement, {\n    mainTag: mainTag,\n    parentTag: undefined,\n    copyStatementIndex: 0,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default NewsTemplate;","map":{"version":3,"sources":["/Users/ognjen/Desktop/spooky-live-ssr/ui/src/layouts/NewsTemplate/NewsTemplate.tsx"],"names":["React","useEffect","useDispatch","useSelector","selectNewsArticles","selectHasLoaded","Ticker","selectMainTag","newsRequestedEvent","NewsLargeCarousel","NewsSmallCarousel","NewsCopyHero","CopyStatement","Spinner","getTicker","mainTag","ticker","length","undefined","NewsTemplate","dispatch","window","scrollTo","newsArticles","state","hasLoaded","featureArticles","filter","article","featuredArticle","featureArticleOne","featureArticleTwo","slice"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { RootState } from '../../services/RootState'\nimport { INewsArticle } from '../../services/content/news/models'\nimport { selectNewsArticles, selectHasLoaded } from '../../services/content/news/selectors'\n\nimport Ticker from '../../components/Ticker/Ticker'\nimport { ITag, IStream, ITicker, ITagIndex } from '../../services/content/tags/models'\nimport { selectMainTag } from '../../services/content/tags/selectors'\nimport { newsRequestedEvent } from '../../services/content/news/events'\n\nimport NewsLargeCarousel from '../../scenes/NewsLargeCarousel/NewsLargeCarousel'\nimport NewsSmallCarousel from '../../scenes/NewsSmallCarousel/NewsSmallCarousel'\nimport NewsPostIntro from '../../scenes/NewsPostIntro/NewsPostIntro'\nimport NewsPost from '../../scenes/NewsPost/NewsPost'\nimport NewsPostImageCarousel from '../../scenes/NewsPostImageCarousel/NewsPostImageCarousel'\nimport NewsPostSimilar from '../../scenes/NewsPostSimilar/NewsPostSimilar'\nimport NewsCopyHero from '../../scenes/NewsCopyHero/NewsCopyHero'\nimport CopyStatement from '../../components/CopyStatement/CopyStatement'\nimport Spinner from '../../components/Spinner/Spinner'\n\nexport interface INewsTemplateProps {\n  readonly mainTag: ITag\n}\n\nconst getTicker = (mainTag: ITag | undefined): ITicker | undefined => {\n  if (!mainTag || !mainTag.ticker || mainTag.ticker.length === 0) return undefined\n  return mainTag.ticker[0]\n}\n\nconst NewsTemplate: React.FC<INewsTemplateProps> = () => {\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    window.scrollTo(0, 0)\n    dispatch(newsRequestedEvent());\n  }, [])\n\n  // Selector data page needs from state\n  const newsArticles = useSelector<RootState, INewsArticle[]>(state => selectNewsArticles(state))\n  let hasLoaded = useSelector<RootState, boolean>(state => selectHasLoaded(state))\n  const mainTag = useSelector<RootState, ITag | undefined>(state => selectMainTag(state))\n\n  if (!hasLoaded) return (\n    <div className=\"container\">\n      <Spinner />\n    </div>\n  )\n\n  const ticker: ITicker | undefined = getTicker(mainTag)\n\n  const featureArticles = newsArticles.length > 0 && newsArticles.filter(article => article.featuredArticle)\n\n  // TODO - feature article logic\n  const featureArticleOne = featureArticles && featureArticles.length > 0\n    ? featureArticles[0] // take first feature article\n    : newsArticles[0] // fallback to first article if no feature articles exists\n\n  const featureArticleTwo = featureArticles && featureArticles.length > 0\n    ? featureArticles[1] // take first feature article\n    : newsArticles[1] // fallback to first article if no feature articles exists\n\n  return (\n    <section>\n      {/* Ticker */}\n      {/* {ticker && ticker.tickerMessage &&\n        <Ticker text={ticker.tickerMessage.toUpperCase()} />\n      } */}\n      <Ticker text={'ticker message'} link={undefined} />\n\n      {newsArticles.length > 0 ? (\n        <>\n          {/* NewsSmallCarousel */}\n          <NewsSmallCarousel featureArticle={featureArticleOne} />\n\n          {/* NewsCopyHero: */}\n          <NewsCopyHero articles={newsArticles.slice(0, 2)} />\n\n          {/* NewsLargeCarousel: */}\n          <NewsLargeCarousel featureArticle={featureArticleTwo} />\n        </>\n      ) : (\n          <div className=\"container\">No news acticles is available.</div>\n        )}\n\n      {/* Copy Statement */}\n      <CopyStatement mainTag={mainTag} parentTag={undefined} copyStatementIndex={0} />\n\n      {/* <NewsSmallCarousel />\n\n      <NewsCopyHero />\n\n      <NewsLargeCarousel /> */}\n    </section>\n  )\n}\n\nexport default NewsTemplate\n"]},"metadata":{},"sourceType":"module"}