{"ast":null,"code":"import { from, of } from 'rxjs';\nimport { exhaustMap, filter, catchError } from 'rxjs/operators';\nimport { isActionOf } from 'typesafe-actions';\nimport { accountDetailsRequestedEvent, accountDetailsReceivedEvent, accountDetailsErroredEvent } from '../events';\nimport { postUserSecurityAccountDetails } from '../api/postUserSecurityAccountDetails';\nimport { profileRequestedEvent } from '../../profile/events';\n\nvar accountDetailsRequestedEpic = function accountDetailsRequestedEpic(action$) {\n  return action$.pipe(filter(isActionOf(accountDetailsRequestedEvent)), exhaustMap(function (event) {\n    return from(postUserSecurityAccountDetails({\n      firstName: event.payload.firstName,\n      lastName: event.payload.lastName,\n      email: event.payload.email,\n      phone: event.payload.phone\n    })).pipe(exhaustMap(function (apiResponse) {\n      return apiResponse.statusCode ? of(accountDetailsReceivedEvent(apiResponse.data), profileRequestedEvent()) : of(accountDetailsErroredEvent(apiResponse.data));\n    }), catchError(function () {\n      return of(accountDetailsErroredEvent({\n        id: undefined,\n        error: 'Network error',\n        errorDescription: 'Check your network connection'\n      }));\n    }));\n  }));\n};\n\nexport default [accountDetailsRequestedEpic];","map":{"version":3,"sources":["/Users/ognjen/Desktop/spooky.live-ssr/src/services/userSecurity/accountDetails/epics/accountDetailsRequestedEpic.ts"],"names":["from","of","exhaustMap","filter","catchError","isActionOf","accountDetailsRequestedEvent","accountDetailsReceivedEvent","accountDetailsErroredEvent","postUserSecurityAccountDetails","profileRequestedEvent","accountDetailsRequestedEpic","action$","pipe","event","firstName","payload","lastName","email","phone","apiResponse","statusCode","data","id","undefined","error","errorDescription"],"mappings":"AACA,SAASA,IAAT,EAAeC,EAAf,QAAyB,MAAzB;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,UAA7B,QAA+C,gBAA/C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,4BAAT,EAAuCC,2BAAvC,EAAoEC,0BAApE,QAAsG,WAAtG;AAEA,SAASC,8BAAT,QAA+C,uCAA/C;AACA,SAASC,qBAAT,QAAsC,sBAAtC;;AAEA,IAAMC,2BAAsD,GAAG,SAAzDA,2BAAyD,CAACC,OAAD;AAAA,SAC7DA,OAAO,CAACC,IAAR,CACEV,MAAM,CAACE,UAAU,CAACC,4BAAD,CAAX,CADR,EAEEJ,UAAU,CAAC,UAAAY,KAAK;AAAA,WACdd,IAAI,CACFS,8BAA8B,CAAC;AAC7BM,MAAAA,SAAS,EAAED,KAAK,CAACE,OAAN,CAAcD,SADI;AAE7BE,MAAAA,QAAQ,EAAEH,KAAK,CAACE,OAAN,CAAcC,QAFK;AAG7BC,MAAAA,KAAK,EAAEJ,KAAK,CAACE,OAAN,CAAcE,KAHQ;AAI7BC,MAAAA,KAAK,EAAEL,KAAK,CAACE,OAAN,CAAcG;AAJQ,KAAD,CAD5B,CAAJ,CAOEN,IAPF,CAQEX,UAAU,CAAC,UAAAkB,WAAW,EAAI;AACxB,aAAOA,WAAW,CAACC,UAAZ,GACHpB,EAAE,CACFM,2BAA2B,CAACa,WAAW,CAACE,IAAb,CADzB,EAEFZ,qBAAqB,EAFnB,CADC,GAIDT,EAAE,CACJO,0BAA0B,CAACY,WAAW,CAACE,IAAb,CADtB,CAJR;AAOD,KARS,CARZ,EAiBElB,UAAU,CAAC;AAAA,aAAMH,EAAE,CAACO,0BAA0B,CAAC;AAC7Ce,QAAAA,EAAE,EAAEC,SADyC;AAE7CC,QAAAA,KAAK,EAAE,eAFsC;AAG7CC,QAAAA,gBAAgB,EAAE;AAH2B,OAAD,CAA3B,CAAR;AAAA,KAAD,CAjBZ,CADc;AAAA,GAAN,CAFZ,CAD6D;AAAA,CAA/D;;AA8BA,eAAe,CAACf,2BAAD,CAAf","sourcesContent":["import { Epic } from 'redux-observable'\nimport { from, of } from 'rxjs'\nimport { exhaustMap, filter, catchError } from 'rxjs/operators'\nimport { isActionOf } from 'typesafe-actions'\nimport { accountDetailsRequestedEvent, accountDetailsReceivedEvent, accountDetailsErroredEvent } from '../events'\nimport { RootState } from '../../../RootState'\nimport { postUserSecurityAccountDetails } from '../api/postUserSecurityAccountDetails'\nimport { profileRequestedEvent } from '../../profile/events'\n\nconst accountDetailsRequestedEpic: Epic<any, any, RootState> = (action$) =>\n  action$.pipe(\n    filter(isActionOf(accountDetailsRequestedEvent)),\n    exhaustMap(event =>\n      from(\n        postUserSecurityAccountDetails({\n          firstName: event.payload.firstName,\n          lastName: event.payload.lastName,\n          email: event.payload.email,\n          phone: event.payload.phone,\n        })\n      ).pipe(\n        exhaustMap(apiResponse => {\n          return apiResponse.statusCode\n            ? of(\n              accountDetailsReceivedEvent(apiResponse.data),\n              profileRequestedEvent()\n            ) : of(\n              accountDetailsErroredEvent(apiResponse.data)\n            )\n        }),\n        catchError(() => of(accountDetailsErroredEvent({\n          id: undefined,\n          error: 'Network error',\n          errorDescription: 'Check your network connection'\n        })))\n      )\n    )\n  )\n\nexport default [accountDetailsRequestedEpic]\n"]},"metadata":{},"sourceType":"module"}