{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport moment from 'moment';\nimport styles from './VideoStreamer.module.scss';\nimport PurchaseButton from '../PurchaseButton/PurchaseButton';\nimport { filterStreams, getTagsFull } from '../../services/content/tags/selectors';\nimport SaveStreamButton from '../../components/SaveButtons/SaveStreamButton';\nimport { Link } from 'react-router-dom';\nimport LazyImage from '../LazyImage/LazyImage';\nimport VideoPlayerDefault from '../VideoPlayer/VideoPlayerDefault';\n\nconst VideoStreamer = props => {\n  const {\n    1: setShowModal\n  } = useState(false);\n  const {\n    0: currentStreamIndex,\n    1: setCurrentStreamIndex\n  } = useState(0);\n  const filteredStreams = filterStreams(props.streams, 12, props.filterTag); // No live streams?\n\n  if (!filteredStreams || filterStreams.length === 0) return __jsx(\"span\", null, \"No Live Streams: \", props.streams.length);\n  let liveNowStream;\n  liveNowStream = filteredStreams[currentStreamIndex];\n  const lineUpTagsFull = liveNowStream ? getTagsFull(liveNowStream.lineUpTags, props.uuidIndex) : [];\n\n  const nextLiveStream = () => {\n    setCurrentStreamIndex(currentIndex => currentIndex + 1);\n  };\n\n  const prevLiveStream = () => {\n    setCurrentStreamIndex(currentIndex => currentIndex - 1);\n  };\n\n  return __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    className: styles['video-streamer']\n  }, __jsx(\"div\", {\n    className: \"aspect-ratio-16-9\"\n  }, liveNowStream && liveNowStream.videoStreams && liveNowStream.videoStreams.length > 0 && __jsx(VideoPlayerDefault, {\n    position: 0,\n    onTimeUpdate: e => {},\n    isLive: true,\n    eventId: liveNowStream.videoStreams[currentStreamIndex].liveStreamEventId,\n    videoId: liveNowStream.videoStreams[0].liveEventVideoId\n  }) // <iframe title=\"Video Player\" src={`/video-player/index.html?eventId=${liveNowStream.videoStreams[currentStreamIndex].liveStreamEventId}&videoId=${liveNowStream.videoStreams[0].liveEventVideoId}&isLive=true`} allowFullScreen></iframe>\n  , __jsx(\"div\", {\n    className: styles['video-streamer-arrow-icons']\n  }, __jsx(\"div\", {\n    style: {\n      visibility: currentStreamIndex === 0 ? 'hidden' : 'initial'\n    },\n    onClick: prevLiveStream,\n    className: styles['video-streamer-arrow-icon-left']\n  }, __jsx(\"svg\", {\n    className: styles['streamer-icon'],\n    role: 'presentation'\n  }, __jsx(\"use\", {\n    xlinkHref: '#icon-chevron-left'\n  }))), __jsx(\"div\", {\n    style: {\n      visibility: currentStreamIndex === liveNowStream.videoStreams.length - 1 ? 'hidden' : 'initial'\n    },\n    onClick: nextLiveStream,\n    className: styles['video-streamer-arrow-icon-right']\n  }, __jsx(\"svg\", {\n    className: styles['streamer-icon'],\n    role: 'presentation'\n  }, __jsx(\"use\", {\n    xlinkHref: '#icon-chevron-right'\n  })))))), __jsx(\"div\", {\n    className: styles['video-streamer-content']\n  }, __jsx(\"div\", {\n    className: styles['video-streamer-teams-vs-wrapper']\n  }, __jsx(\"div\", {\n    className: styles['inner-wrapper']\n  }, (lineUpTagsFull === null || lineUpTagsFull === void 0 ? void 0 : lineUpTagsFull.length) >= 2 && __jsx(\"ul\", {\n    className: styles['video-streamer-teams-vs-list']\n  }, __jsx(\"li\", {\n    className: styles['video-streamer-teams-vs-list__images']\n  }, __jsx(\"span\", {\n    className: styles['video-streamer-teams-vs-list__image']\n  }, __jsx(LazyImage, {\n    src: lineUpTagsFull[0].image,\n    alt: \"\"\n  })), __jsx(\"span\", {\n    className: styles['video-streamer-teams-vs-list__image']\n  }, __jsx(LazyImage, {\n    src: lineUpTagsFull[1].image,\n    alt: \"\"\n  }))), __jsx(\"li\", {\n    className: styles['video-streamer-teams-vs-list__names']\n  }, __jsx(\"span\", null, __jsx(Link, {\n    to: lineUpTagsFull[0].path || '#'\n  }, lineUpTagsFull[0].name)), __jsx(\"div\", {\n    className: styles['video-streamer-teams-vs-list__versus-span']\n  }, \"Vs\"), __jsx(\"span\", null, __jsx(Link, {\n    to: lineUpTagsFull[1].path || '#'\n  }, lineUpTagsFull[1].name)))), __jsx(PurchaseButton, {\n    stream: liveNowStream,\n    mainTag: props.mainTag\n  })), __jsx(\"div\", {\n    className: styles['video-streamer-socials-wrapper-mobile']\n  }, __jsx(\"nav\", {\n    className: styles['video-streamer-social-nav']\n  }))), __jsx(\"div\", {\n    className: styles['video-streamer__details']\n  }, __jsx(\"h2\", null, \" \", liveNowStream.name), __jsx(\"p\", null, liveNowStream.description), __jsx(\"div\", {\n    className: styles['video-streamer__date-label']\n  }, __jsx(\"span\", null, moment(liveNowStream.startTime).format('ddd Do MMM YYYY')\n  /* TUE 7th Jan 2020 */\n  )), __jsx(\"div\", {\n    className: styles['video-streamer-socials-wrapper']\n  }, __jsx(\"nav\", {\n    className: styles['video-streamer-social-nav']\n  })), __jsx(SaveStreamButton, {\n    suffix: \"to my stream\",\n    className: styles['video-streamer__save-indicator'],\n    stream: liveNowStream\n  }))));\n};\n\nexport default VideoStreamer;","map":{"version":3,"sources":["/Users/ognjen/Desktop/spooky.live-ssr/src/components/VideoStreamer/VideoStreamer.tsx"],"names":["React","useState","moment","styles","PurchaseButton","filterStreams","getTagsFull","SaveStreamButton","Link","LazyImage","VideoPlayerDefault","VideoStreamer","props","setShowModal","currentStreamIndex","setCurrentStreamIndex","filteredStreams","streams","filterTag","length","liveNowStream","lineUpTagsFull","lineUpTags","uuidIndex","nextLiveStream","currentIndex","prevLiveStream","videoStreams","e","liveStreamEventId","liveEventVideoId","visibility","image","path","name","mainTag","description","startTime","format"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport _ from 'lodash'\nimport moment from 'moment'\n\nimport styles from './VideoStreamer.module.scss'\n\nimport PurchaseButton from '../PurchaseButton/PurchaseButton'\nimport { ITag, IStream, ITagIndex } from '../../services/content/tags/models'\nimport { filterStreams, getTagsFull } from '../../services/content/tags/selectors'\nimport SaveStreamButton from '../../components/SaveButtons/SaveStreamButton'\nimport { Link } from 'react-router-dom'\nimport LazyImage from '../LazyImage/LazyImage'\nimport VideoPlayerDefault from '../VideoPlayer/VideoPlayerDefault'\n\ninterface VideoStreamerProps {\n  mainTag: ITag | undefined\n  streams: IStream[]\n  filterTag: ITag | undefined\n  uuidIndex: ITagIndex[]\n}\n\nconst VideoStreamer: React.FC<VideoStreamerProps> = (props: VideoStreamerProps) => {\n\n  const [, setShowModal] = useState(false);\n  const [currentStreamIndex, setCurrentStreamIndex] = useState(0)\n\n  const filteredStreams = filterStreams(props.streams, 12, props.filterTag)\n\n  // No live streams?\n  if (!filteredStreams || filterStreams.length === 0) return <span>No Live Streams: {props.streams.length}</span>\n\n  let liveNowStream: IStream | undefined\n  liveNowStream = filteredStreams[currentStreamIndex]\n\n  const lineUpTagsFull: ITag[] = liveNowStream ? getTagsFull(liveNowStream.lineUpTags, props.uuidIndex) : []\n\n  const nextLiveStream = () => {\n    setCurrentStreamIndex(currentIndex => currentIndex + 1)\n  }\n\n  const prevLiveStream = () => {\n    setCurrentStreamIndex(currentIndex => currentIndex - 1)\n  }\n\n\n  return (\n    <div className=\"container\">\n      <div className={styles['video-streamer']}>\n        <div className=\"aspect-ratio-16-9\">\n          {liveNowStream && liveNowStream.videoStreams && liveNowStream.videoStreams.length > 0 &&\n          \n          <VideoPlayerDefault \n            position={0}\n            onTimeUpdate={e => {}}\n            isLive={true} \n            eventId={liveNowStream.videoStreams[currentStreamIndex].liveStreamEventId} \n            videoId={liveNowStream.videoStreams[0].liveEventVideoId}></VideoPlayerDefault>\n            \n            // <iframe title=\"Video Player\" src={`/video-player/index.html?eventId=${liveNowStream.videoStreams[currentStreamIndex].liveStreamEventId}&videoId=${liveNowStream.videoStreams[0].liveEventVideoId}&isLive=true`} allowFullScreen></iframe>\n          }\n          <div className={styles['video-streamer-arrow-icons']}>\n            <div style={{ visibility: currentStreamIndex === 0 ? 'hidden' : 'initial' }} onClick={prevLiveStream} className={styles['video-streamer-arrow-icon-left']}>\n              <svg className={styles['streamer-icon']} role={'presentation'}>\n                <use xlinkHref={'#icon-chevron-left'}></use>\n              </svg>\n            </div>\n\n            <div style={{ visibility: currentStreamIndex === liveNowStream.videoStreams.length - 1 ? 'hidden' : 'initial' }} onClick={nextLiveStream} className={styles['video-streamer-arrow-icon-right']}>\n              <svg className={styles['streamer-icon']} role={'presentation'}>\n                <use xlinkHref={'#icon-chevron-right'}></use>\n              </svg>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className={styles['video-streamer-content']}>\n        <div className={styles['video-streamer-teams-vs-wrapper']}>\n          <div className={styles['inner-wrapper']}>\n            {lineUpTagsFull?.length >= 2 &&\n              <ul className={styles['video-streamer-teams-vs-list']}>\n\n                <li className={styles['video-streamer-teams-vs-list__images']}>\n                  <span className={styles['video-streamer-teams-vs-list__image']}>\n                    <LazyImage src={lineUpTagsFull[0].image} alt=\"\" />\n                  </span>\n                  <span className={styles['video-streamer-teams-vs-list__image']}>\n                    <LazyImage src={lineUpTagsFull[1].image} alt=\"\" />\n                  </span>\n                </li>\n                <li className={styles['video-streamer-teams-vs-list__names']}>\n                  <span>\n                    <Link to={lineUpTagsFull[0].path || '#'}>{lineUpTagsFull[0].name}</Link>\n                  </span>\n                  <div className={styles['video-streamer-teams-vs-list__versus-span']}>Vs</div>\n                  <span>\n                    <Link to={lineUpTagsFull[1].path || '#'}>{lineUpTagsFull[1].name}</Link>\n                  </span>\n                </li>\n              </ul>\n            }\n            <PurchaseButton stream={liveNowStream} mainTag={props.mainTag} />\n          </div>\n          <div className={styles['video-streamer-socials-wrapper-mobile']}>\n            <nav className={styles['video-streamer-social-nav']}>\n              {/*\n              <ul className={styles['video-streamer-social-nav__list']}>\n                <li className={styles['video-streamer-social-nav__list-item']}>\n\n                    <a href=\"/#\" className={styles['video-streamer-social-nav__link']}>\n                      <svg className=\"icon\" role=\"presentation\">\n                        <use xlinkHref=\"#icon-social-facebook\"></use>\n                      </svg>\n                      <span className=\"screen-reader-text\">Facebook</span>\n                    </a>\n                </li>\n                <li className={styles['video-streamer-social-nav__list-item']}>\n                  <a href=\"/#\" className={styles['video-streamer-social-nav__link']}>\n                    <svg className=\"icon\" role=\"presentation\">\n                      <use xlinkHref=\"#icon-social-twitter\"></use>\n                    </svg>\n                    <span className=\"screen-reader-text\">Twitter</span>\n                  </a>\n                </li>\n              </ul>\n                  */}\n            </nav>\n          </div>\n        </div>\n        <div className={styles['video-streamer__details']}>\n          <h2> {liveNowStream.name}</h2>\n          <p>{liveNowStream.description}</p>\n\n          <div className={styles['video-streamer__date-label']}>\n            <span>{moment(liveNowStream.startTime).format('ddd Do MMM YYYY') /* TUE 7th Jan 2020 */}</span>\n          </div>\n          <div className={styles['video-streamer-socials-wrapper']}>\n            <nav className={styles['video-streamer-social-nav']}>\n              {/*\n              <ul className={styles['video-streamer-social-nav__list']}>\n                <li className={styles['video-streamer-social-nav__list-item']}>\n\n                  <a href=\"/#\" className={styles['video-streamer-social-nav__link']}>\n                    <svg className=\"icon\" role=\"presentation\">\n                      <use xlinkHref=\"#icon-social-facebook\"></use>\n                    </svg>\n                    <span className=\"screen-reader-text\">Facebook</span>\n                  </a>\n\n                </li>\n                <li className={styles['video-streamer-social-nav__list-item']}>\n                  <a href=\"/#\" className={styles['video-streamer-social-nav__link']}>\n                    <svg className=\"icon\" role=\"presentation\">\n                      <use xlinkHref=\"#icon-social-twitter\"></use>\n                    </svg>\n                    <span className=\"screen-reader-text\">Twitter</span>\n                  </a>\n\n                </li>\n              </ul>\n              */}\n            </nav>\n          </div>\n          <SaveStreamButton \n            suffix=\"to my stream\" \n            className={styles['video-streamer__save-indicator']} \n            stream={liveNowStream}></SaveStreamButton>\n\n        </div>\n      </div>\n    </div >\n  )\n}\n\nexport default VideoStreamer\n"]},"metadata":{},"sourceType":"module"}