{"ast":null,"code":"var _jsxFileName = \"/Users/ognjen/Desktop/with-typescript/src/layouts/PageTemplate/PageTemplate.tsx\",\n    _this = this;\n\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport moment from 'moment';\nimport HeroCarousel from '../../components/HeroCarousel/HeroCarousel';\nimport Ticker from '../../components/Ticker/Ticker';\nimport { selectMainTag, selectMainTagStreams, selectHasLoaded, selectParentTag, selectTag, selectTagsChildStreams } from '../../services/content/tags/selectors';\nimport CopyStatement from '../../components/CopyStatement/CopyStatement';\nimport VideoSingleCarousel2 from '../../components/VideoSingleCarousel/VideoSingleCarousel2';\nimport TagHero from '../../components/TagHero/TagHero';\nimport LineUpMulti from '../../components/LineUpMulti/LineUpMulti';\nimport Schedule from '../../scenes/Schedule/Schedule';\nimport TagNoContent from '../../scenes/TagNoContent/TagNoContent';\nimport { push } from 'connected-react-router';\nimport TagSeoHead from '../../components/SeoHead/TagSeoHead';\nimport VideoCarouselSwitch from '../../components/VideoCarouselSwitch/VideoCarouselSwitch';\n\nvar getTicker = function getTicker(mainTag) {\n  if (!mainTag || !mainTag.ticker || mainTag.ticker.length === 0) return undefined;\n  return mainTag.ticker[0];\n};\n\nvar PageTemplate = function PageTemplate() {\n  var _streams, _ticker$tickerMessage;\n\n  useEffect(function () {\n    window.scrollTo(0, 0);\n  }, []); // let tagIndex = useSelector<RootState, ITagIndex | undefined>(state => selectPathTagIndex(state))\n\n  var mainTag = useSelector(function (state) {\n    return selectMainTag(state);\n  });\n  var dispatch = useDispatch();\n  useEffect(function () {\n    if (!mainTag) {\n      dispatch(push('/404'));\n    }\n  }, []);\n  var parentTag = useSelector(function (state) {\n    return selectParentTag(state, mainTag === null || mainTag === void 0 ? void 0 : mainTag.id);\n  });\n  var secondaryTag1 = useSelector(function (state) {\n    return selectTag(state, mainTag === null || mainTag === void 0 ? void 0 : mainTag.secondaryTag1);\n  });\n  var secondaryTag2 = useSelector(function (state) {\n    return selectTag(state, mainTag === null || mainTag === void 0 ? void 0 : mainTag.secondaryTag2);\n  });\n  var secondaryTag3 = useSelector(function (state) {\n    return selectTag(state, mainTag === null || mainTag === void 0 ? void 0 : mainTag.secondaryTag3);\n  });\n  var secondaryTag4 = useSelector(function (state) {\n    return selectTag(state, mainTag === null || mainTag === void 0 ? void 0 : mainTag.secondaryTag4);\n  }); // const secondaryTag5 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag5))\n\n  var secondaryTag6 = useSelector(function (state) {\n    return selectTag(state, mainTag === null || mainTag === void 0 ? void 0 : mainTag.secondaryTag6);\n  });\n  var secondaryTag7 = useSelector(function (state) {\n    return selectTag(state, mainTag === null || mainTag === void 0 ? void 0 : mainTag.secondaryTag7);\n  }); // const secondaryTag8 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag8))\n  // const secondaryTag9 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag9))\n  // const secondaryTag10 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag10))\n\n  var heroCarouselLimit = 4;\n  var carouselLimit = 12;\n  var scheduleLimit = 100;\n  var calendarLimit = 50;\n  var uuidIndex = useSelector(function (state) {\n    return state.content.tags.uuidIndex || [];\n  });\n  var streams = useSelector(function (state) {\n    return selectMainTagStreams(state, mainTag);\n  });\n  var childStreams = useSelector(function (state) {\n    return selectTagsChildStreams(state, mainTag);\n  });\n  if (streams.length === 0) streams = childStreams;\n  var hasLoaded = useSelector(function (state) {\n    return selectHasLoaded(state);\n  });\n  var ticker = getTicker(mainTag);\n  var liveStreams = (_streams = streams) === null || _streams === void 0 ? void 0 : _streams.filter(function (stream) {\n    return moment(stream.startTime).isBetween(moment().add(-2, 'hours'), moment().add(2, 'hours'));\n  });\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 10\n    }\n  }, hasLoaded && mainTag !== undefined && __jsx(React.Fragment, null, __jsx(TagSeoHead, {\n    mainTag: mainTag,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }), __jsx(TagHero, {\n    mainTag: mainTag,\n    sideLabelTag: parentTag,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), __jsx(VideoSingleCarousel2, {\n    mainTag: mainTag,\n    streams: liveStreams,\n    limit: carouselLimit,\n    filterTag: secondaryTag2,\n    uuidIndex: uuidIndex,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  })), hasLoaded && streams.length === 0 && __jsx(TagNoContent, {\n    tagName: (mainTag === null || mainTag === void 0 ? void 0 : mainTag.name) || '',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }), hasLoaded && streams.length > 0 && __jsx(HeroCarousel, {\n    mainTag: mainTag,\n    streams: streams,\n    limit: heroCarouselLimit,\n    filterTag: secondaryTag1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }), hasLoaded && streams.length > 0 && __jsx(Schedule, {\n    mainTag: mainTag,\n    limit: scheduleLimit,\n    streams: streams,\n    filterTag: secondaryTag4,\n    uuidIndex: uuidIndex,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }), hasLoaded && streams.length > 0 && mainTag && __jsx(VideoSingleCarousel2, {\n    mainTag: mainTag,\n    streams: streams,\n    limit: carouselLimit,\n    filterTag: secondaryTag2,\n    uuidIndex: uuidIndex,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }), hasLoaded && streams.length > 0 && mainTag && __jsx(LineUpMulti, {\n    mainTag: mainTag,\n    streams: streams,\n    limit: carouselLimit,\n    filterTag: secondaryTag2,\n    uuidIndex: uuidIndex,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }), __jsx(Ticker, {\n    text: ticker === null || ticker === void 0 ? void 0 : (_ticker$tickerMessage = ticker.tickerMessage) === null || _ticker$tickerMessage === void 0 ? void 0 : _ticker$tickerMessage.toUpperCase(),\n    link: ticker === null || ticker === void 0 ? void 0 : ticker.tickerLink,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }\n  }), streams.length > 0 && __jsx(CopyStatement, {\n    mainTag: mainTag,\n    parentTag: parentTag,\n    copyStatementIndex: 0,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }), __jsx(VideoCarouselSwitch, {\n    mainTag: mainTag,\n    streams: streams,\n    limit: carouselLimit,\n    filterTag: secondaryTag6,\n    uuidIndex: uuidIndex,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 5\n    }\n  }), __jsx(VideoCarouselSwitch, {\n    mainTag: mainTag,\n    streams: streams,\n    limit: carouselLimit,\n    filterTag: secondaryTag7,\n    uuidIndex: uuidIndex,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 5\n    }\n  }));\n};\n\nexport default PageTemplate;","map":{"version":3,"sources":["/Users/ognjen/Desktop/with-typescript/src/layouts/PageTemplate/PageTemplate.tsx"],"names":["React","useEffect","useSelector","useDispatch","moment","HeroCarousel","Ticker","selectMainTag","selectMainTagStreams","selectHasLoaded","selectParentTag","selectTag","selectTagsChildStreams","CopyStatement","VideoSingleCarousel2","TagHero","LineUpMulti","Schedule","TagNoContent","push","TagSeoHead","VideoCarouselSwitch","getTicker","mainTag","ticker","length","undefined","PageTemplate","window","scrollTo","state","dispatch","parentTag","id","secondaryTag1","secondaryTag2","secondaryTag3","secondaryTag4","secondaryTag6","secondaryTag7","heroCarouselLimit","carouselLimit","scheduleLimit","calendarLimit","uuidIndex","content","tags","streams","childStreams","hasLoaded","liveStreams","filter","stream","startTime","isBetween","add","name","tickerMessage","toUpperCase","tickerLink"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport moment from 'moment'\n\nimport HeroCarousel from '../../components/HeroCarousel/HeroCarousel';\nimport Ticker from '../../components/Ticker/Ticker'\nimport { selectMainTag, selectMainTagStreams, selectHasLoaded, selectParentTag, selectTag, selectTagsChildStreams } from '../../services/content/tags/selectors'\nimport { RootState } from '../../services/RootState'\nimport { ITag, IStream, ITagIndex, ITicker } from '../../services/content/tags/models'\nimport CopyStatement from '../../components/CopyStatement/CopyStatement'\nimport VideoSingleCarousel2 from '../../components/VideoSingleCarousel/VideoSingleCarousel2'\nimport TagHero from '../../components/TagHero/TagHero'\nimport LineUpMulti from '../../components/LineUpMulti/LineUpMulti'\nimport Calendar from '../../scenes/Calendar/Calendar'\nimport Schedule from '../../scenes/Schedule/Schedule'\nimport TagSubMenu from '../../components/TagSubMenu/TagSubMenu';\nimport TagNoContent from '../../scenes/TagNoContent/TagNoContent'\nimport LiveNow from '../../components/LiveNow/LiveNow'\nimport { push } from 'connected-react-router';\nimport TagSeoHead from '../../components/SeoHead/TagSeoHead';\nimport VideoCarouselSwitch from '../../components/VideoCarouselSwitch/VideoCarouselSwitch'\n\nexport interface IPagetemplateProps {\n}\n\n\nconst getTicker = (mainTag: ITag | undefined): ITicker | undefined => {\n  if (!mainTag || !mainTag.ticker || mainTag.ticker.length === 0) return undefined\n  return mainTag.ticker[0]\n}\n\nconst PageTemplate: React.FC<IPagetemplateProps> = () => {\n  useEffect(() => {\n    window.scrollTo(0, 0)\n  }, [])\n  // let tagIndex = useSelector<RootState, ITagIndex | undefined>(state => selectPathTagIndex(state))\n  let mainTag = useSelector<RootState, ITag | undefined>(state => selectMainTag(state))\n\n  const dispatch = useDispatch()\n  useEffect(() => {\n    if (!mainTag) {\n      dispatch(push('/404'))\n    }\n  }, [])\n\n  let parentTag = useSelector<RootState, ITag | undefined>(state => selectParentTag(state, mainTag?.id))\n  const secondaryTag1 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag1))\n  const secondaryTag2 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag2))\n  const secondaryTag3 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag3))\n  const secondaryTag4 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag4))\n\n  // const secondaryTag5 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag5))\n  const secondaryTag6 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag6))\n  const secondaryTag7 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag7))\n  // const secondaryTag8 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag8))\n  // const secondaryTag9 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag9))\n  // const secondaryTag10 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag10))\n\n  const heroCarouselLimit: number = 4\n  const carouselLimit: number = 12\n  const scheduleLimit: number = 100;\n  const calendarLimit: number = 50\n  const uuidIndex = useSelector<RootState, ITagIndex[]>(state => state.content.tags.uuidIndex || [])\n\n  let streams = useSelector<RootState, IStream[]>(state => selectMainTagStreams(state, mainTag))\n  const childStreams = useSelector<RootState, IStream[]>(state => selectTagsChildStreams(state, mainTag))\n  if(streams.length === 0)\n    streams = childStreams\n  let hasLoaded = useSelector<RootState, boolean>(state => selectHasLoaded(state))\n  const ticker: ITicker | undefined = getTicker(mainTag)\n\n  const liveStreams: IStream[] = streams?.filter(stream => (\n    moment(stream.startTime).isBetween(moment().add(-2, 'hours'), moment().add(2, 'hours'))\n  ))\n\n  return <div>\n    {\n      hasLoaded && mainTag !== undefined &&\n      <>\n        <TagSeoHead mainTag={mainTag} />\n\n        <TagHero mainTag={mainTag} sideLabelTag={parentTag} />\n\n        {/* Live Now */}\n        <VideoSingleCarousel2 mainTag={mainTag} streams={liveStreams} limit={carouselLimit} filterTag={secondaryTag2} uuidIndex={uuidIndex} />\n\n        {/* {\n          streams.length > 0 ? (\n            <div className=\"container\">\n              <TagSubMenu name={mainTag.name} items={[{ text: 'schedule', href: '#schedule' }, { text: 'calendar', href: '#calendar' }]} />\n            </div>\n\n          ) : (\n              <div className=\"container\">\n                <TagSubMenu name={mainTag.name} items={[]} />\n              </div>\n\n            )\n        } */}\n      </>\n    }\n    {\n      hasLoaded && streams.length === 0 &&\n      <TagNoContent tagName={mainTag?.name || ''} />\n    }\n\n    {\n      hasLoaded && streams.length > 0 &&\n      <HeroCarousel mainTag={mainTag} streams={streams} limit={heroCarouselLimit} filterTag={secondaryTag1} />\n    }\n    {/* {\n      hasLoaded && streams.length > 0 &&\n      <Calendar mainTag={mainTag} streams={streams} limit={calendarLimit} filterTag={secondaryTag3} uuidIndex={uuidIndex} />\n    } */}\n    {\n      hasLoaded && streams.length > 0 &&\n      <Schedule mainTag={mainTag} limit={scheduleLimit} streams={streams} filterTag={secondaryTag4} uuidIndex={uuidIndex} />\n    }\n\n    {\n      hasLoaded && streams.length > 0 && mainTag &&\n      <VideoSingleCarousel2 mainTag={mainTag} streams={streams} limit={carouselLimit} filterTag={secondaryTag2} uuidIndex={uuidIndex} />\n    }\n\n    {\n      hasLoaded && streams.length > 0 && mainTag &&\n      <LineUpMulti mainTag={mainTag} streams={streams} limit={carouselLimit} filterTag={secondaryTag2} uuidIndex={uuidIndex} />\n    }\n\n    {/* Ticker */}\n    <Ticker text={ticker?.tickerMessage?.toUpperCase()} link={ticker?.tickerLink} />\n\n\n    {\n      streams.length > 0 &&\n      <CopyStatement mainTag={mainTag} parentTag={parentTag} copyStatementIndex={0} />\n    }\n\n    <VideoCarouselSwitch mainTag={mainTag} streams={streams} limit={carouselLimit} filterTag={secondaryTag6} uuidIndex={uuidIndex} />\n\n    <VideoCarouselSwitch mainTag={mainTag} streams={streams} limit={carouselLimit} filterTag={secondaryTag7} uuidIndex={uuidIndex} />\n\n  </div>\n}\n\nexport default PageTemplate\n"]},"metadata":{},"sourceType":"module"}