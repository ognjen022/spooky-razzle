{"ast":null,"code":"import { hash } from \"./hash\";\nexport const getAccessToken = () => {\n  return window.localStorage.getItem(`accessToken:${hash()}`);\n};\nexport const getRefreshToken = () => {\n  return window.localStorage.getItem(`refreshToken:${hash()}`);\n};\nexport const setAccessToken = accessToken => {\n  window.localStorage.setItem(`accessToken:${hash()}`, accessToken);\n};\nexport const setRefreshToken = refreshToken => {\n  window.localStorage.setItem(`refreshToken:${hash()}`, refreshToken);\n};\nexport const cleanoutOldVersions = () => {\n  let itemsToRemove = [];\n  let hashValue = hash();\n\n  for (var i = 0, len = window.localStorage.length; i < len; ++i) {\n    let nextItem = window.localStorage.key(i);\n\n    if (nextItem && !(nextItem === null || nextItem === void 0 ? void 0 : nextItem.endsWith(`:${hashValue}`))) {\n      itemsToRemove.push(nextItem);\n    }\n  } // console.log('cleanoutOldVersions itemsToRemove', itemsToRemove)\n\n\n  itemsToRemove.forEach(item => {\n    window.localStorage.removeItem(item);\n  });\n};\nexport const deleteTokens = () => {\n  window.localStorage.removeItem(`refreshToken:${hash()}`);\n  window.localStorage.removeItem(`accessToken:${hash()}`);\n};","map":{"version":3,"sources":["/Users/ognjen/Desktop/with-typescript/src/services/shared/tokenLocalStorage.ts"],"names":["hash","getAccessToken","window","localStorage","getItem","getRefreshToken","setAccessToken","accessToken","setItem","setRefreshToken","refreshToken","cleanoutOldVersions","itemsToRemove","hashValue","i","len","length","nextItem","key","endsWith","push","forEach","item","removeItem","deleteTokens"],"mappings":"AAAA,SAASA,IAAT,QAAqB,QAArB;AAEA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAClC,SAAQC,MAAD,CAAgBC,YAAhB,CAA6BC,OAA7B,CAAsC,eAAcJ,IAAI,EAAG,EAA3D,CAAP;AACD,CAFM;AAIP,OAAO,MAAMK,eAAe,GAAG,MAAM;AACnC,SAAQH,MAAD,CAAgBC,YAAhB,CAA6BC,OAA7B,CAAsC,gBAAeJ,IAAI,EAAG,EAA5D,CAAP;AACD,CAFM;AAIP,OAAO,MAAMM,cAAc,GAAIC,WAAD,IAAyB;AACpDL,EAAAA,MAAD,CAAgBC,YAAhB,CAA6BK,OAA7B,CAAsC,eAAcR,IAAI,EAAG,EAA3D,EAA8DO,WAA9D;AACD,CAFM;AAIP,OAAO,MAAME,eAAe,GAAIC,YAAD,IAA0B;AACtDR,EAAAA,MAAD,CAAgBC,YAAhB,CAA6BK,OAA7B,CAAsC,gBAAeR,IAAI,EAAG,EAA5D,EAA+DU,YAA/D;AACD,CAFM;AAIP,OAAO,MAAMC,mBAAmB,GAAG,MAAM;AACvC,MAAIC,aAAuB,GAAG,EAA9B;AACA,MAAIC,SAAS,GAAGb,IAAI,EAApB;;AACA,OAAK,IAAIc,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAIb,MAAD,CAAgBC,YAAhB,CAA6Ba,MAAnD,EAA2DF,CAAC,GAAGC,GAA/D,EAAoE,EAAED,CAAtE,EAAyE;AACvE,QAAIG,QAAQ,GAAIf,MAAD,CAAgBC,YAAhB,CAA6Be,GAA7B,CAAiCJ,CAAjC,CAAf;;AACA,QAAIG,QAAQ,IAAI,EAACA,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAEE,QAAV,CAAoB,IAAGN,SAAU,EAAjC,CAAD,CAAhB,EAAsD;AACpDD,MAAAA,aAAa,CAACQ,IAAd,CAAmBH,QAAnB;AACD;AACF,GARsC,CAUvC;;;AACAL,EAAAA,aAAa,CAACS,OAAd,CAAuBC,IAAD,IAAU;AAC7BpB,IAAAA,MAAD,CAAgBC,YAAhB,CAA6BoB,UAA7B,CAAwCD,IAAxC;AACD,GAFD;AAGD,CAdM;AAgBP,OAAO,MAAME,YAAY,GAAG,MAAM;AAC/BtB,EAAAA,MAAD,CAAgBC,YAAhB,CAA6BoB,UAA7B,CAAyC,gBAAevB,IAAI,EAAG,EAA/D;AAECE,EAAAA,MAAD,CAAgBC,YAAhB,CAA6BoB,UAA7B,CAAyC,eAAcvB,IAAI,EAAG,EAA9D;AACD,CAJM","sourcesContent":["import { hash } from \"./hash\";\n\nexport const getAccessToken = () => {\n  return (window as any).localStorage.getItem(`accessToken:${hash()}`);\n};\n\nexport const getRefreshToken = () => {\n  return (window as any).localStorage.getItem(`refreshToken:${hash()}`);\n};\n\nexport const setAccessToken = (accessToken: string) => {\n  (window as any).localStorage.setItem(`accessToken:${hash()}`, accessToken);\n};\n\nexport const setRefreshToken = (refreshToken: string) => {\n  (window as any).localStorage.setItem(`refreshToken:${hash()}`, refreshToken);\n};\n\nexport const cleanoutOldVersions = () => {\n  let itemsToRemove: string[] = [];\n  let hashValue = hash();\n  for (var i = 0, len = (window as any).localStorage.length; i < len; ++i) {\n    let nextItem = (window as any).localStorage.key(i);\n    if (nextItem && !nextItem?.endsWith(`:${hashValue}`)) {\n      itemsToRemove.push(nextItem);\n    }\n  }\n\n  // console.log('cleanoutOldVersions itemsToRemove', itemsToRemove)\n  itemsToRemove.forEach((item) => {\n    (window as any).localStorage.removeItem(item);\n  });\n};\n\nexport const deleteTokens = () => {\n  (window as any).localStorage.removeItem(`refreshToken:${hash()}`);\n\n  (window as any).localStorage.removeItem(`accessToken:${hash()}`);\n};\n"]},"metadata":{},"sourceType":"module"}