{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport moment from 'moment';\nimport { filterStreams } from '../../services/content/tags/selectors';\nimport SaveStreamButton from '../SaveButtons/SaveStreamButton';\nimport { Link } from 'react-router-dom';\nimport LazyImage from '../LazyImage/LazyImage';\nimport { truncateString } from '../../utils/utils';\n\nconst HeroCarouselMobile = props => {\n  var _props$streams, _props$filterTag;\n\n  const filteredStreams = filterStreams(props.streams, props.limit, props.filterTag);\n  const {\n    0: activePanelNumber,\n    1: setActivePanelNumber\n  } = useState(0); // set active the first panel\n\n  const mainTag = props.mainTag;\n\n  const handlePanelClick = panel => {\n    setActivePanelNumber(panel);\n  };\n\n  const renderSlide = (stream, index) => __jsx(\"div\", {\n    className: `hero-carousel-mobile__slide ${activePanelNumber === index ? 'is-active' : ''}`,\n    onClick: () => handlePanelClick(index),\n    key: index\n  }, __jsx(\"div\", {\n    className: `hero-carousel-mobile__image ${activePanelNumber === index ? 'is-active' : ''}`\n  }, __jsx(\"button\", {\n    className: \"hero-carousel-mobile__button\"\n  }, __jsx(\"span\", {\n    className: \"screen-reader-text\"\n  }, \"Toggle slide\")), __jsx(\"div\", {\n    className: \"hero-carousel-mobile__counter\"\n  }, index + 1, \" / \", filteredStreams === null || filteredStreams === void 0 ? void 0 : filteredStreams.length), __jsx(LazyImage, {\n    src: stream.image ? `${stream.image}?width=640&height=360&mode=crop` : '',\n    alt: stream.name\n  }), __jsx(\"div\", {\n    className: \"hero-carousel-mobile__date\"\n  }, moment(stream.startTime).format('ddd Do MMM YYYY - h.mm A')), __jsx(SaveStreamButton, {\n    stream: stream,\n    className: `hero-carousel-mobile__save ${activePanelNumber === index ? 'is-active' : ''}`\n  })), __jsx(\"div\", {\n    className: `hero-carousel-mobile__content ${activePanelNumber === index ? 'is-active' : ''}`\n  }, __jsx(\"div\", {\n    className: `hero-carousel-mobile__content-inner ${activePanelNumber === index ? 'is-active' : ''}`\n  }, __jsx(Link, {\n    to: `/play/${stream.eventId}`\n  }, __jsx(\"h2\", null, truncateString(stream.name, 50))), (stream === null || stream === void 0 ? void 0 : stream.description) && __jsx(\"p\", null, stream.description))));\n\n  if (mainTag === undefined || ((_props$streams = props.streams) === null || _props$streams === void 0 ? void 0 : _props$streams.length) === 0) return __jsx(\"div\", null, \"No streams\");\n  return __jsx(\"section\", null, __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"div\", {\n    className: \"hero-carousel-mobile\"\n  }, __jsx(\"div\", {\n    className: \"hero-carousel-mobile__label\"\n  }, __jsx(Link, {\n    to: `${(_props$filterTag = props.filterTag) === null || _props$filterTag === void 0 ? void 0 : _props$filterTag.path}`\n  }, __jsx(\"h2\", null, \"Featured\"))), __jsx(\"div\", {\n    className: \"hero-carousel-mobile__slides\"\n  }, filteredStreams.map((stream, index) => renderSlide(stream, index))))));\n};\n\nexport default HeroCarouselMobile;","map":{"version":3,"sources":["/Users/ognjen/Desktop/spooky.live-ssr/src/components/HeroCarouselMobile/HeroCarouselMobile.tsx"],"names":["React","useState","moment","filterStreams","SaveStreamButton","Link","LazyImage","truncateString","HeroCarouselMobile","props","filteredStreams","streams","limit","filterTag","activePanelNumber","setActivePanelNumber","mainTag","handlePanelClick","panel","renderSlide","stream","index","length","image","name","startTime","format","eventId","description","undefined","path","map"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react'\n\nimport moment from 'moment'\n\nimport { ITag, IStream } from '../../services/content/tags/models'\nimport { filterStreams } from '../../services/content/tags/selectors'\nimport SaveStreamButton from '../SaveButtons/SaveStreamButton'\nimport { Link } from 'react-router-dom'\nimport LazyImage from '../LazyImage/LazyImage'\nimport { truncateString } from '../../utils/utils'\n\n\ninterface HeroCarouselMobileProps {\n  mainTag: ITag | undefined\n  streams: IStream[]\n  filterTag: ITag | undefined\n  limit: number\n}\n\nconst HeroCarouselMobile: React.FC<HeroCarouselMobileProps> = (props: HeroCarouselMobileProps) => {\n\n  const filteredStreams = filterStreams(props.streams, props.limit, props.filterTag)\n\n  const [activePanelNumber, setActivePanelNumber] = useState<number>(0); // set active the first panel\n\n  const mainTag = props.mainTag\n\n  const handlePanelClick = (panel: number) => {\n    setActivePanelNumber(panel)\n  }\n\n  const renderSlide = (stream: IStream, index: number) => (\n    <div\n      className={`hero-carousel-mobile__slide ${activePanelNumber === index ? 'is-active' : ''}`}\n      onClick={() => handlePanelClick(index)}\n      key={index}\n    >\n      <div className={`hero-carousel-mobile__image ${activePanelNumber === index ? 'is-active' : ''}`}>\n        <button className=\"hero-carousel-mobile__button\">\n          <span className=\"screen-reader-text\">Toggle slide</span>\n        </button>\n        <div className=\"hero-carousel-mobile__counter\">\n          {index + 1} / {filteredStreams?.length}\n        </div>\n        <LazyImage src={stream.image ? `${stream.image}?width=640&height=360&mode=crop` : ''} alt={stream.name} />\n        <div className=\"hero-carousel-mobile__date\">{moment(stream.startTime).format('ddd Do MMM YYYY - h.mm A')}</div>\n        <SaveStreamButton\n          stream={stream}\n          className={`hero-carousel-mobile__save ${activePanelNumber === index ? 'is-active' : ''}`}\n        />\n      </div>\n      <div className={`hero-carousel-mobile__content ${activePanelNumber === index ? 'is-active' : ''}`}>\n        <div className={`hero-carousel-mobile__content-inner ${activePanelNumber === index ? 'is-active' : ''}`}>\n          <Link to={`/play/${stream.eventId}`}>\n            <h2>{truncateString(stream.name, 50)}</h2>\n          </Link>\n          {stream?.description && <p>{stream.description}</p>}\n        </div>\n      </div>\n    </div>\n  )\n\n  if (mainTag === undefined || props.streams?.length === 0) return (<div>No streams</div>)\n\n  return (\n    <section>\n      <div className=\"container\">\n        <div className=\"hero-carousel-mobile\">\n          <div className=\"hero-carousel-mobile__label\">\n            <Link to={`${props.filterTag?.path}`}>\n              <h2>Featured</h2>\n            </Link>\n          </div>\n          <div className=\"hero-carousel-mobile__slides\">\n\n            {filteredStreams.map((stream, index) =>\n              renderSlide(stream, index)\n            )}\n\n          </div>\n        </div>\n      </div>\n    </section>\n  )\n}\n\nexport default HeroCarouselMobile\n"]},"metadata":{},"sourceType":"module"}