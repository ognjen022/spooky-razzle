{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectMainTag, selectTag, selectMainTagStreams, selectHasLoaded, isStreamLive } from '../../services/content/tags/selectors';\nimport Ticker from '../../components/Ticker/Ticker';\nimport VideoSingleCarousel2 from '../../components/VideoSingleCarousel/VideoSingleCarousel2';\nimport Spinner from '../../components/Spinner/Spinner';\nimport TagSeoHead from '../../components/SeoHead/TagSeoHead';\n\nconst getTicker = mainTag => {\n  if (!mainTag || !mainTag.ticker || mainTag.ticker.length === 0) return undefined;\n  return mainTag.ticker[0];\n};\n\nconst LiveNowTemplate = () => {\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []); // Selecrt data page needs from state\n\n  const mainTag = useSelector(state => selectMainTag(state)); // const secondaryTag2 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag2)) // VideoSingleCarousel2\n\n  const secondaryTag6 = useSelector(state => selectTag(state, mainTag === null || mainTag === void 0 ? void 0 : mainTag.secondaryTag6)); // VideoMultiCarousel(First)\n\n  const secondaryTag7 = useSelector(state => selectTag(state, mainTag === null || mainTag === void 0 ? void 0 : mainTag.secondaryTag7)); // VideoMultiCarousel(Second)\n\n  const secondaryTag10 = useSelector(state => selectTag(state, mainTag === null || mainTag === void 0 ? void 0 : mainTag.secondaryTag10)); // VideoStreamer (\"now\" auto-tag)\n\n  const streams = useSelector(state => selectMainTagStreams(state, mainTag));\n  const filteredStreams = streams.filter(stream => isStreamLive(stream.startTime, stream.duration));\n  const hasLoaded = useSelector(state => selectHasLoaded(state));\n  const ticker = getTicker(mainTag);\n  const carouselLimit = 12;\n  const uuidIndex = useSelector(state => state.content.tags.uuidIndex || []);\n  const refreshKey = useSelector(state => state.content.tags.refreshKey);\n  if (!hasLoaded) return __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(Spinner, null));\n  return __jsx(\"div\", null, hasLoaded && mainTag !== undefined && streams !== undefined && __jsx(React.Fragment, null, __jsx(TagSeoHead, {\n    mainTag: mainTag\n  }), ticker && ticker.tickerMessage && __jsx(Ticker, {\n    text: ticker.tickerMessage.toUpperCase(),\n    link: ticker.tickerLink\n  }), __jsx(VideoSingleCarousel2, {\n    mainTag: mainTag,\n    streams: filteredStreams,\n    limit: carouselLimit,\n    filterTag:\n    /*secondaryTag2*/\n    undefined,\n    uuidIndex: uuidIndex\n  }), __jsx(\"div\", {\n    className: \"hide-medium\"\n  }), __jsx(\"div\", {\n    className: \"hide-medium\"\n  }), __jsx(\"div\", {\n    className: \"show-medium\"\n  }), __jsx(\"div\", {\n    className: \"show-medium\"\n  })));\n};\n\nexport default LiveNowTemplate;","map":{"version":3,"sources":["/Users/ognjen/Desktop/with-typescript/src/layouts/LiveNowTemplate/LiveNowTemplate.tsx"],"names":["React","useEffect","useSelector","selectMainTag","selectTag","selectMainTagStreams","selectHasLoaded","isStreamLive","Ticker","VideoSingleCarousel2","Spinner","TagSeoHead","getTicker","mainTag","ticker","length","undefined","LiveNowTemplate","window","scrollTo","state","secondaryTag6","secondaryTag7","secondaryTag10","streams","filteredStreams","filter","stream","startTime","duration","hasLoaded","carouselLimit","uuidIndex","content","tags","refreshKey","tickerMessage","toUpperCase","tickerLink"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,WAAT,QAA4B,aAA5B;AAEA,SAASC,aAAT,EAAwBC,SAAxB,EAAmCC,oBAAnC,EAAyDC,eAAzD,EAA0EC,YAA1E,QAA8F,uCAA9F;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,oBAAP,MAAiC,2DAAjC;AAGA,OAAOC,OAAP,MAAoB,kCAApB;AAEA,OAAOC,UAAP,MAAuB,qCAAvB;;AAMA,MAAMC,SAAS,GAAIC,OAAD,IAAoD;AACpE,MAAI,CAACA,OAAD,IAAY,CAACA,OAAO,CAACC,MAArB,IAA+BD,OAAO,CAACC,MAAR,CAAeC,MAAf,KAA0B,CAA7D,EAAgE,OAAOC,SAAP;AAChE,SAAOH,OAAO,CAACC,MAAR,CAAe,CAAf,CAAP;AACD,CAHD;;AAKA,MAAMG,eAAgD,GAAG,MAAM;AAC7DhB,EAAAA,SAAS,CAAC,MAAM;AACdiB,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACD,GAFQ,EAEN,EAFM,CAAT,CAD6D,CAK7D;;AACA,QAAMN,OAAO,GAAGX,WAAW,CAA8BkB,KAAK,IAAIjB,aAAa,CAACiB,KAAD,CAApD,CAA3B,CAN6D,CAO7D;;AACA,QAAMC,aAAa,GAAGnB,WAAW,CAA8BkB,KAAK,IAAIhB,SAAS,CAACgB,KAAD,EAAQP,OAAR,aAAQA,OAAR,uBAAQA,OAAO,CAAEQ,aAAjB,CAAhD,CAAjC,CAR6D,CAQqD;;AAClH,QAAMC,aAAa,GAAGpB,WAAW,CAA8BkB,KAAK,IAAIhB,SAAS,CAACgB,KAAD,EAAQP,OAAR,aAAQA,OAAR,uBAAQA,OAAO,CAAES,aAAjB,CAAhD,CAAjC,CAT6D,CASqD;;AAClH,QAAMC,cAAc,GAAGrB,WAAW,CAA8BkB,KAAK,IAAIhB,SAAS,CAACgB,KAAD,EAAQP,OAAR,aAAQA,OAAR,uBAAQA,OAAO,CAAEU,cAAjB,CAAhD,CAAlC,CAV6D,CAUuD;;AACpH,QAAMC,OAAO,GAAGtB,WAAW,CAAuBkB,KAAK,IAAIf,oBAAoB,CAACe,KAAD,EAAQP,OAAR,CAApD,CAA3B;AACA,QAAMY,eAAe,GAAGD,OAAO,CAACE,MAAR,CAAeC,MAAM,IAC3CpB,YAAY,CAACoB,MAAM,CAACC,SAAR,EAAmBD,MAAM,CAACE,QAA1B,CADU,CAAxB;AAIA,QAAMC,SAAS,GAAG5B,WAAW,CAAqBkB,KAAK,IAAId,eAAe,CAACc,KAAD,CAA7C,CAA7B;AACA,QAAMN,MAA2B,GAAGF,SAAS,CAACC,OAAD,CAA7C;AACA,QAAMkB,aAAqB,GAAG,EAA9B;AACA,QAAMC,SAAS,GAAG9B,WAAW,CAAyBkB,KAAK,IAAIA,KAAK,CAACa,OAAN,CAAcC,IAAd,CAAmBF,SAAnB,IAAgC,EAAlE,CAA7B;AACA,QAAMG,UAAU,GAAGjC,WAAW,CAAoBkB,KAAK,IAAIA,KAAK,CAACa,OAAN,CAAcC,IAAd,CAAmBC,UAAhD,CAA9B;AAEA,MAAI,CAACL,SAAL,EAAgB,OACd;AAAK,IAAA,SAAS,EAAC;AAAf,KACE,MAAC,OAAD,OADF,CADc;AAMhB,SAAQ,mBAEJA,SAAS,IAAIjB,OAAO,KAAKG,SAAzB,IAAsCQ,OAAO,KAAKR,SAAlD,IACA,4BACE,MAAC,UAAD;AAAY,IAAA,OAAO,EAAEH;AAArB,IADF,EAIGC,MAAM,IAAIA,MAAM,CAACsB,aAAjB,IACC,MAAC,MAAD;AAAQ,IAAA,IAAI,EAAEtB,MAAM,CAACsB,aAAP,CAAqBC,WAArB,EAAd;AAAkD,IAAA,IAAI,EAAEvB,MAAM,CAACwB;AAA/D,IALJ,EAaE,MAAC,oBAAD;AAAsB,IAAA,OAAO,EAAEzB,OAA/B;AAAwC,IAAA,OAAO,EAAEY,eAAjD;AAAkE,IAAA,KAAK,EAAEM,aAAzE;AAAwF,IAAA,SAAS;AAAE;AAAkBf,IAAAA,SAArH;AAAgI,IAAA,SAAS,EAAEgB;AAA3I,IAbF,EAiBE;AAAK,IAAA,SAAS,EAAC;AAAf,IAjBF,EAsBE;AAAK,IAAA,SAAS,EAAC;AAAf,IAtBF,EA2BE;AAAK,IAAA,SAAS,EAAC;AAAf,IA3BF,EAgCE;AAAK,IAAA,SAAS,EAAC;AAAf,IAhCF,CAHI,CAAR;AA0CD,CAtED;;AAwEA,eAAef,eAAf","sourcesContent":["import React, { useEffect } from 'react'\nimport { ITag, IStream, ITicker, ITagIndex } from '../../services/content/tags/models'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../services/RootState'\nimport { selectMainTag, selectTag, selectMainTagStreams, selectHasLoaded, isStreamLive } from '../../services/content/tags/selectors'\nimport Ticker from '../../components/Ticker/Ticker'\nimport VideoSingleCarousel2 from '../../components/VideoSingleCarousel/VideoSingleCarousel2'\nimport VideoMultiCarouselNew from '../../components/VideoMultiCarouselNew/VideoMultiCarouselNew'\nimport VideoStreamer from '../../components/VideoStreamer/VideoStreamer'\nimport Spinner from '../../components/Spinner/Spinner'\nimport LiveNow from '../../components/LiveNow/LiveNow'\nimport TagSeoHead from '../../components/SeoHead/TagSeoHead'\n\nexport interface ILiveNowTemplateProps {\n  readonly mainTag: ITag\n}\n\nconst getTicker = (mainTag: ITag | undefined): ITicker | undefined => {\n  if (!mainTag || !mainTag.ticker || mainTag.ticker.length === 0) return undefined\n  return mainTag.ticker[0]\n}\n\nconst LiveNowTemplate: React.FC<ILiveNowTemplateProps> = () => {\n  useEffect(() => {\n    window.scrollTo(0, 0)\n  }, [])\n\n  // Selecrt data page needs from state\n  const mainTag = useSelector<RootState, ITag | undefined>(state => selectMainTag(state))\n  // const secondaryTag2 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag2)) // VideoSingleCarousel2\n  const secondaryTag6 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag6)) // VideoMultiCarousel(First)\n  const secondaryTag7 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag7)) // VideoMultiCarousel(Second)\n  const secondaryTag10 = useSelector<RootState, ITag | undefined>(state => selectTag(state, mainTag?.secondaryTag10)) // VideoStreamer (\"now\" auto-tag)\n  const streams = useSelector<RootState, IStream[]>(state => selectMainTagStreams(state, mainTag))\n  const filteredStreams = streams.filter(stream => (\n    isStreamLive(stream.startTime, stream.duration)\n  ))\n\n  const hasLoaded = useSelector<RootState, boolean>(state => selectHasLoaded(state))\n  const ticker: ITicker | undefined = getTicker(mainTag)\n  const carouselLimit: number = 12\n  const uuidIndex = useSelector<RootState, ITagIndex[]>(state => state.content.tags.uuidIndex || [])\n  const refreshKey = useSelector<RootState, string>(state => state.content.tags.refreshKey)\n\n  if (!hasLoaded) return (\n    <div className=\"container\">\n      <Spinner />\n    </div>\n  )\n\n  return (<div>\n    {\n      hasLoaded && mainTag !== undefined && streams !== undefined &&\n      <>\n        <TagSeoHead mainTag={mainTag} />\n\n        {/* Ticker */}\n        {ticker && ticker.tickerMessage &&\n          <Ticker text={ticker.tickerMessage.toUpperCase()} link={ticker.tickerLink} />\n        }\n        {/*\n        <div>LiveNowTemplate streams count: {streams.length}</div>\n        <VideoStreamer mainTag={mainTag} streams={streams} filterTag={secondaryTag10} uuidIndex={uuidIndex} />\n        */}\n\n        {/* Video Single Carousel */}\n        <VideoSingleCarousel2 mainTag={mainTag} streams={filteredStreams} limit={carouselLimit} filterTag={/*secondaryTag2*/ undefined} uuidIndex={uuidIndex} />\n\n        {/* Temporary solution until Video Multi Carousel Mobile is created */}\n\n        <div className=\"hide-medium\">\n          {/* Video Multi Carousel (Upcoming)\n          <VideoMultiCarouselNew mainTag={mainTag} streams={streams} limit={carouselLimit} filterTag={secondaryTag6} uuidIndex={uuidIndex} /> */}\n        </div>\n\n        <div className=\"hide-medium\">\n          {/* Video Multi Carousel (Upcoming)\n          <VideoMultiCarouselNew mainTag={mainTag} streams={streams} limit={carouselLimit} filterTag={secondaryTag7} uuidIndex={uuidIndex} /> */}\n        </div>\n\n        <div className=\"show-medium\">\n          {/* Video Single Carousel (Upcoming)\n          <VideoSingleCarousel2 mainTag={mainTag} streams={streams} limit={carouselLimit} filterTag={secondaryTag6} uuidIndex={uuidIndex} /> */}\n        </div>\n\n        <div className=\"show-medium\">\n          {/*  Video Single Carousel (Something else?)\n          <VideoSingleCarousel2 mainTag={mainTag} streams={streams} limit={carouselLimit} filterTag={secondaryTag7} uuidIndex={uuidIndex} /> */}\n        </div>\n      </>\n    }\n  </div >)\n}\n\nexport default LiveNowTemplate\n"]},"metadata":{},"sourceType":"module"}