{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectNewsArticles, selectHasLoaded } from '../../services/content/news/selectors';\nimport Ticker from '../../components/Ticker/Ticker';\nimport { selectMainTag } from '../../services/content/tags/selectors';\nimport { newsRequestedEvent } from '../../services/content/news/events';\nimport NewsLargeCarousel from '../../scenes/NewsLargeCarousel/NewsLargeCarousel';\nimport NewsSmallCarousel from '../../scenes/NewsSmallCarousel/NewsSmallCarousel';\nimport NewsCopyHero from '../../scenes/NewsCopyHero/NewsCopyHero';\nimport CopyStatement from '../../components/CopyStatement/CopyStatement';\nimport Spinner from '../../components/Spinner/Spinner';\n\nconst getTicker = mainTag => {\n  if (!mainTag || !mainTag.ticker || mainTag.ticker.length === 0) return undefined;\n  return mainTag.ticker[0];\n};\n\nconst NewsTemplate = () => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    dispatch(newsRequestedEvent());\n  }, []); // Selector data page needs from state\n\n  const newsArticles = useSelector(state => selectNewsArticles(state));\n  let hasLoaded = useSelector(state => selectHasLoaded(state));\n  const mainTag = useSelector(state => selectMainTag(state));\n  if (!hasLoaded) return __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(Spinner, null));\n  const ticker = getTicker(mainTag);\n  const featureArticles = newsArticles.length > 0 && newsArticles.filter(article => article.featuredArticle); // TODO - feature article logic\n\n  const featureArticleOne = featureArticles && featureArticles.length > 0 ? featureArticles[0] // take first feature article\n  : newsArticles[0]; // fallback to first article if no feature articles exists\n\n  const featureArticleTwo = featureArticles && featureArticles.length > 0 ? featureArticles[1] // take first feature article\n  : newsArticles[1]; // fallback to first article if no feature articles exists\n\n  return __jsx(\"section\", null, __jsx(Ticker, {\n    text: 'ticker message',\n    link: undefined\n  }), newsArticles.length > 0 ? __jsx(React.Fragment, null, __jsx(NewsSmallCarousel, {\n    featureArticle: featureArticleOne\n  }), __jsx(NewsCopyHero, {\n    articles: newsArticles.slice(0, 2)\n  }), __jsx(NewsLargeCarousel, {\n    featureArticle: featureArticleTwo\n  })) : __jsx(\"div\", {\n    className: \"container\"\n  }, \"No news acticles is available.\"), __jsx(CopyStatement, {\n    mainTag: mainTag,\n    parentTag: undefined,\n    copyStatementIndex: 0\n  }));\n};\n\nexport default NewsTemplate;","map":{"version":3,"sources":["/Users/ognjen/Desktop/spooky-live-ssr/ui/src/layouts/NewsTemplate/NewsTemplate.tsx"],"names":["React","useEffect","useDispatch","useSelector","selectNewsArticles","selectHasLoaded","Ticker","selectMainTag","newsRequestedEvent","NewsLargeCarousel","NewsSmallCarousel","NewsCopyHero","CopyStatement","Spinner","getTicker","mainTag","ticker","length","undefined","NewsTemplate","dispatch","window","scrollTo","newsArticles","state","hasLoaded","featureArticles","filter","article","featuredArticle","featureArticleOne","featureArticleTwo","slice"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { RootState } from '../../services/RootState'\nimport { INewsArticle } from '../../services/content/news/models'\nimport { selectNewsArticles, selectHasLoaded } from '../../services/content/news/selectors'\n\nimport Ticker from '../../components/Ticker/Ticker'\nimport { ITag, IStream, ITicker, ITagIndex } from '../../services/content/tags/models'\nimport { selectMainTag } from '../../services/content/tags/selectors'\nimport { newsRequestedEvent } from '../../services/content/news/events'\n\nimport NewsLargeCarousel from '../../scenes/NewsLargeCarousel/NewsLargeCarousel'\nimport NewsSmallCarousel from '../../scenes/NewsSmallCarousel/NewsSmallCarousel'\nimport NewsPostIntro from '../../scenes/NewsPostIntro/NewsPostIntro'\nimport NewsPost from '../../scenes/NewsPost/NewsPost'\nimport NewsPostImageCarousel from '../../scenes/NewsPostImageCarousel/NewsPostImageCarousel'\nimport NewsPostSimilar from '../../scenes/NewsPostSimilar/NewsPostSimilar'\nimport NewsCopyHero from '../../scenes/NewsCopyHero/NewsCopyHero'\nimport CopyStatement from '../../components/CopyStatement/CopyStatement'\nimport Spinner from '../../components/Spinner/Spinner'\n\nexport interface INewsTemplateProps {\n  readonly mainTag: ITag\n}\n\nconst getTicker = (mainTag: ITag | undefined): ITicker | undefined => {\n  if (!mainTag || !mainTag.ticker || mainTag.ticker.length === 0) return undefined\n  return mainTag.ticker[0]\n}\n\nconst NewsTemplate: React.FC<INewsTemplateProps> = () => {\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    window.scrollTo(0, 0)\n    dispatch(newsRequestedEvent());\n  }, [])\n\n  // Selector data page needs from state\n  const newsArticles = useSelector<RootState, INewsArticle[]>(state => selectNewsArticles(state))\n  let hasLoaded = useSelector<RootState, boolean>(state => selectHasLoaded(state))\n  const mainTag = useSelector<RootState, ITag | undefined>(state => selectMainTag(state))\n\n  if (!hasLoaded) return (\n    <div className=\"container\">\n      <Spinner />\n    </div>\n  )\n\n  const ticker: ITicker | undefined = getTicker(mainTag)\n\n  const featureArticles = newsArticles.length > 0 && newsArticles.filter(article => article.featuredArticle)\n\n  // TODO - feature article logic\n  const featureArticleOne = featureArticles && featureArticles.length > 0\n    ? featureArticles[0] // take first feature article\n    : newsArticles[0] // fallback to first article if no feature articles exists\n\n  const featureArticleTwo = featureArticles && featureArticles.length > 0\n    ? featureArticles[1] // take first feature article\n    : newsArticles[1] // fallback to first article if no feature articles exists\n\n  return (\n    <section>\n      {/* Ticker */}\n      {/* {ticker && ticker.tickerMessage &&\n        <Ticker text={ticker.tickerMessage.toUpperCase()} />\n      } */}\n      <Ticker text={'ticker message'} link={undefined} />\n\n      {newsArticles.length > 0 ? (\n        <>\n          {/* NewsSmallCarousel */}\n          <NewsSmallCarousel featureArticle={featureArticleOne} />\n\n          {/* NewsCopyHero: */}\n          <NewsCopyHero articles={newsArticles.slice(0, 2)} />\n\n          {/* NewsLargeCarousel: */}\n          <NewsLargeCarousel featureArticle={featureArticleTwo} />\n        </>\n      ) : (\n          <div className=\"container\">No news acticles is available.</div>\n        )}\n\n      {/* Copy Statement */}\n      <CopyStatement mainTag={mainTag} parentTag={undefined} copyStatementIndex={0} />\n\n      {/* <NewsSmallCarousel />\n\n      <NewsCopyHero />\n\n      <NewsLargeCarousel /> */}\n    </section>\n  )\n}\n\nexport default NewsTemplate\n"]},"metadata":{},"sourceType":"module"}