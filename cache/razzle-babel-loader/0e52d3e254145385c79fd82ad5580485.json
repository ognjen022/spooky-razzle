{"ast":null,"code":"var _jsxFileName = \"/Users/ognjen/Desktop/with-typescript/src/components/VideoMultiCarouselNew/VideoMultiCarouselNew.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport moment from 'moment';\nimport { useSelector } from 'react-redux';\nimport { filterStreams, getTagsFull } from '../../services/content/tags/selectors';\nimport SaveStreamButton from '../SaveButtons/SaveStreamButton';\nimport PremiumContent from '../../components/PremiumContent/PremiumContent';\nimport LineUpIcon from '../../components/LineUpIcon/LineUpIcon';\nimport styles from './VideoMultiCarouselNew.module.scss';\nimport { Link } from 'react-router-dom';\nimport { truncateString } from '../../utils/utils';\n\nconst VideoMultiCarouselNew = props => {\n  var _props$filterTag, _props$filterTag2, _imageArray$, _imageArray$2, _imageArray$3, _imageArray$4, _imageArray$5, _imageArray$6, _imageArray$7, _imageArray$8, _imageArray$9, _imageArray$10, _imageArray$11, _imageArray$12, _imageArray$13, _imageArray$14, _imageArray$15, _imageArray$16, _imageArray$17, _imageArray$18, _imageArray$19, _imageArray$20, _imageArray$21, _imageArray$22, _imageArray$23, _imageArray$24;\n\n  const pathName = useSelector(state => {\n    var _state$router, _state$router$locatio;\n\n    return (_state$router = state.router) === null || _state$router === void 0 ? void 0 : (_state$router$locatio = _state$router.location) === null || _state$router$locatio === void 0 ? void 0 : _state$router$locatio.pathname;\n  });\n  const showSave = pathName !== '/my-streams';\n  const filteredStreams = filterStreams(props.streams, props.limit, props.filterTag);\n  const numOfPanels = 4;\n  const {\n    0: currentStream,\n    1: setCurrentStream\n  } = useState(filteredStreams[0]);\n  const {\n    0: currentTextStream,\n    1: setCurrentTextStream\n  } = useState(filteredStreams[0]);\n  const {\n    0: imageArray,\n    1: setImageArray\n  } = useState(new Array(numOfPanels + 4));\n  const {\n    0: imageIndex,\n    1: setImageIndex\n  } = useState(0);\n  const {\n    0: textIndex,\n    1: setTextIndex\n  } = useState(0);\n  const {\n    0: showNextSecond,\n    1: setShowNextSecond\n  } = useState(false);\n  const {\n    0: showNextThird,\n    1: setShowNextThird\n  } = useState(false);\n  const {\n    0: approveAnimation,\n    1: setApproveAnimation\n  } = useState(true);\n  const imageGroupRef = useRef(null);\n  const imageRef_0 = useRef(null);\n  const imageRef_1 = useRef(null);\n  const imageRef_2 = useRef(null);\n  const imageRef_3 = useRef(null);\n  const imageRef_4 = useRef(null);\n  const imageRef_5 = useRef(null);\n  const image4SizeRef = useRef(null);\n  const image5SizeRef = useRef(null);\n  const imageRefArray = [imageRef_0, imageRef_1, imageRef_2, imageRef_3, imageRef_4, imageRef_5];\n  const {\n    0: images,\n    1: setImages\n  } = useState([]);\n  let imageSize = 0;\n\n  const calculateTextIndex = i => {\n    return textIndex > 0 ? (textIndex + i) % filteredStreams.length : (filteredStreams.length + textIndex % filteredStreams.length + i) % filteredStreams.length;\n  };\n\n  const calculateIndex = i => {\n    return imageIndex > 0 ? (imageIndex + i) % filteredStreams.length : (filteredStreams.length + imageIndex % filteredStreams.length + i) % filteredStreams.length;\n  };\n\n  const fillUpImageArray = () => {\n    for (let i = 0; i < numOfPanels + 4; ++i) if (i === numOfPanels + 1) imageArray[i] = filteredStreams[calculateIndex(0) - 1 < 0 ? filteredStreams.length - 1 : calculateIndex(0) - 1];else if (i === numOfPanels + 2) imageArray[i] = filteredStreams[calculateIndex(i - 1)];else if (i === numOfPanels + 3) imageArray[i] = filteredStreams[calculateIndex(i - 1)];else imageArray[i] = filteredStreams[calculateIndex(i)];\n\n    setImageArray(imageArray);\n    let images = [];\n    imageArray.forEach(imgArr => {\n      images.push(`${imgArr === null || imgArr === void 0 ? void 0 : imgArr.image}?width=640&height=360&mode=crop`);\n    });\n    setImages(images);\n    setCurrentStream(imageArray[0]);\n  };\n\n  useEffect(() => {\n    var _imageGroupRef$curren;\n\n    if (imageGroupRef && ((_imageGroupRef$curren = imageGroupRef.current) === null || _imageGroupRef$curren === void 0 ? void 0 : _imageGroupRef$curren.style) && image4SizeRef && image4SizeRef.current && image5SizeRef && image5SizeRef.current) {\n      imageGroupRef.current.style.transform = `translateX(-130px)`; // imageGroupRef.current.style.transform = `translateX(${-(image4SizeRef.current.width !== 0 ? image4SizeRef.current.width : image5SizeRef.current.width)}px)`;\n    }\n\n    fillUpImageArray(); // console.log(\"DUZINA: \" + filteredStreams.length);\n    // console.log(imageArray);\n  }, []);\n  useEffect(() => {\n    fillUpImageArray(); // console.log(imageArray);\n  }, [imageIndex]);\n  useEffect(() => {\n    setCurrentTextStream(filteredStreams[calculateTextIndex(0)]);\n  }, [textIndex]);\n  const textStyle = {\n    transition: 'opacity 0.375s ease-in-out'\n  };\n  const {\n    0: textOpacity,\n    1: setTextOpacity\n  } = useState(1);\n\n  const textAnimate = move => {\n    setApproveAnimation(false);\n    setTextOpacity(0.1);\n    setTimeout(() => {\n      let timer = setInterval(() => {\n        setTimeout(() => {\n          clearInterval(timer);\n        }, 15);\n        setTextIndex(move === \"next\" ? textIndex + 1 : move === \"nextSecond\" ? textIndex + 2 : move === \"nextThird\" ? textIndex + 3 : textIndex - 1);\n        setTextOpacity(1);\n      }, 15);\n    }, 375);\n  };\n\n  const imageAnimate = move => {\n    var _imageGroupRef$curren2, _imageRefArray$unacti, _imageRefArray$active, _imageGroupRef$curren3;\n\n    setApproveAnimation(false);\n    if (imageGroupRef && ((_imageGroupRef$curren2 = imageGroupRef.current) === null || _imageGroupRef$curren2 === void 0 ? void 0 : _imageGroupRef$curren2.style)) imageGroupRef.current.style.transition = \"transform 0.75s ease-in-out\";\n    let activeIndex = 0;\n    let unactiveIndex = 0;\n    imageRefArray.forEach((el, i) => {\n      var _el$current;\n\n      if (el && el.current) el.current.style.transition = \"width 0.75s ease-in-out\";\n\n      if ((_el$current = el.current) === null || _el$current === void 0 ? void 0 : _el$current.classList.contains(`${styles['active']}`)) {\n        activeIndex = i;\n        move === \"next\" ? unactiveIndex = i + 1 : move === \"nextSecond\" ? unactiveIndex = i + 2 : move === \"nextThird\" ? unactiveIndex = i + 3 : unactiveIndex = imageArray.length - 3;\n      }\n    });\n    (_imageRefArray$unacti = imageRefArray[unactiveIndex].current) === null || _imageRefArray$unacti === void 0 ? void 0 : _imageRefArray$unacti.classList.add(`${styles['active']}`);\n    (_imageRefArray$active = imageRefArray[activeIndex].current) === null || _imageRefArray$active === void 0 ? void 0 : _imageRefArray$active.classList.remove(`${styles['active']}`);\n    if (image4SizeRef && image4SizeRef.current && image5SizeRef && image5SizeRef.current) imageSize = image4SizeRef.current.width !== 0 ? image4SizeRef.current.width : image5SizeRef.current.width;\n    if (imageGroupRef && ((_imageGroupRef$curren3 = imageGroupRef.current) === null || _imageGroupRef$curren3 === void 0 ? void 0 : _imageGroupRef$curren3.style) && image4SizeRef && image4SizeRef.current && image5SizeRef && image5SizeRef.current) move === \"next\" ? imageGroupRef.current.style.transform = `translateX(${-imageSize * 2}px)` : move === \"nextSecond\" ? imageGroupRef.current.style.transform = `translateX(${-imageSize * 3}px)` : move === \"nextThird\" ? imageGroupRef.current.style.transform = `translateX(${-imageSize * 4}px)` : imageGroupRef.current.style.transform = `translateX(0px)`;\n    setTimeout(() => {\n      var _imageGroupRef$curren4, _imageRefArray$active2, _imageRefArray$unacti2;\n\n      if (imageGroupRef && ((_imageGroupRef$curren4 = imageGroupRef.current) === null || _imageGroupRef$curren4 === void 0 ? void 0 : _imageGroupRef$curren4.style) && image4SizeRef && image4SizeRef.current && image5SizeRef && image5SizeRef.current) {\n        imageGroupRef.current.style.transition = \"none\";\n        imageGroupRef.current.style.transform = `translateX(${-imageSize}px)`;\n      }\n\n      imageRefArray.forEach((el, i) => {\n        var _el$current2;\n\n        if (el && el.current) el.current.style.transition = \"none\";\n\n        if ((_el$current2 = el.current) === null || _el$current2 === void 0 ? void 0 : _el$current2.classList.contains(`${styles['active']}`)) {\n          activeIndex = i;\n          move === \"next\" ? unactiveIndex = i - 1 : move === \"nextSecond\" ? unactiveIndex = i - 2 : move === \"nextThird\" ? unactiveIndex = i - 3 : unactiveIndex = imageArray.length - i - 3;\n        }\n      });\n      (_imageRefArray$active2 = imageRefArray[activeIndex].current) === null || _imageRefArray$active2 === void 0 ? void 0 : _imageRefArray$active2.classList.remove(`${styles['active']}`);\n      (_imageRefArray$unacti2 = imageRefArray[unactiveIndex].current) === null || _imageRefArray$unacti2 === void 0 ? void 0 : _imageRefArray$unacti2.classList.add(`${styles['active']}`);\n      setImageIndex(move === \"next\" ? imageIndex + 1 : move === \"nextSecond\" ? imageIndex + 2 : move === \"nextThird\" ? imageIndex + 3 : imageIndex - 1);\n      setApproveAnimation(true);\n      setShowNextSecond(false);\n      setShowNextThird(false);\n    }, 750);\n  };\n\n  const handleClick = input => {\n    switch (input) {\n      case 'next':\n        if (approveAnimation) {\n          textAnimate(\"next\");\n          imageAnimate(\"next\");\n        }\n\n        return;\n\n      case 'nextSecond':\n        if (approveAnimation) {\n          setShowNextSecond(true);\n          textAnimate(\"nextSecond\");\n          imageAnimate(\"nextSecond\");\n        }\n\n        return;\n\n      case 'nextThird':\n        if (approveAnimation) {\n          setShowNextSecond(true);\n          setShowNextThird(true);\n          textAnimate(\"nextThird\");\n          imageAnimate(\"nextThird\");\n        }\n\n        return;\n\n      case 'prev':\n        if (approveAnimation) {\n          textAnimate(\"prev\");\n          imageAnimate(\"prev\");\n        }\n\n        return;\n    }\n  };\n\n  const getLink = input => {\n    var _getTagsFull$input;\n\n    let link = (_getTagsFull$input = getTagsFull(currentStream.lineUpTags, props.uuidIndex)[input]) === null || _getTagsFull$input === void 0 ? void 0 : _getTagsFull$input.path;\n    if (link) return link.toString();\n    return '#';\n  };\n\n  const cropImageIfMobile = imageUri => {\n    const toMatch = [/Android/i, /webOS/i, /iPhone/i, /iPad/i, /iPod/i, /BlackBerry/i, /Windows Phone/i];\n\n    if (toMatch.some(item => navigator.userAgent.match(item))) {\n      return `${imageUri}?width=640&height=360&mode=crop`;\n    }\n\n    return `${imageUri}?width=640&height=360&mode=crop`;\n  };\n\n  return __jsx(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 5\n    }\n  }, currentTextStream && __jsx(\"div\", {\n    className: 'container',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__inner']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__label']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__buttons']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 17\n    }\n  }, __jsx(\"button\", {\n    onClick: () => handleClick('prev'),\n    className: `${styles['video-multi-carousel__button-prev']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 19\n    }\n  }, __jsx(\"svg\", {\n    className: `icon`,\n    role: \"presentation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 21\n    }\n  }, __jsx(\"use\", {\n    xlinkHref: \"#icon-chevron-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 23\n    }\n  })), __jsx(\"span\", {\n    className: `${styles['screen-reader-text']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 21\n    }\n  })), __jsx(\"button\", {\n    onClick: () => handleClick('next'),\n    className: `${styles['video-multi-carousel__button-next']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 19\n    }\n  }, __jsx(\"svg\", {\n    className: `icon`,\n    role: \"presentation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 21\n    }\n  }, __jsx(\"use\", {\n    xlinkHref: \"#icon-chevron-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 23\n    }\n  })), __jsx(\"span\", {\n    className: `${styles['screen-reader-text']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 21\n    }\n  }))), __jsx(Link, {\n    to: `${(_props$filterTag = props.filterTag) === null || _props$filterTag === void 0 ? void 0 : _props$filterTag.path}`,\n    className: `${styles['video-multi-carousel__label-text']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 17\n    }\n  }, (_props$filterTag2 = props.filterTag) === null || _props$filterTag2 === void 0 ? void 0 : _props$filterTag2.name)), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__content']}`,\n    style: _objectSpread(_objectSpread({}, textStyle), {}, {\n      opacity: textOpacity\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 15\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    to: `/play/${currentTextStream.eventId}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 19\n    }\n  }, __jsx(\"span\", {\n    className: \"line-clamp-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 21\n    }\n  }, currentTextStream && currentTextStream.name ? truncateString(currentTextStream.name, 50) : \"\"))), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    className: \"line-clamp-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 19\n    }\n  }, currentTextStream && currentTextStream.description ? currentTextStream.description : \"\")), __jsx(\"ul\", {\n    className: `${styles['teams-vs-list']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 17\n    }\n  }, __jsx(\"li\", {\n    className: `${styles['teams-vs-list__item']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 19\n    }\n  }, __jsx(LineUpIcon, {\n    stream: currentTextStream,\n    className: `${styles['teams-vs-list__image']}`,\n    orderNumber: 0,\n    lineUpTagsFull: getTagsFull(currentTextStream && currentTextStream.lineUpTags ? currentTextStream.lineUpTags : [], props.uuidIndex),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 21\n    }\n  }), __jsx(\"span\", {\n    className: `${styles['teams-vs-list__name']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 21\n    }\n  }, __jsx(Link, {\n    to: () => getLink(0),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 23\n    }\n  }, getTagsFull(currentTextStream && currentTextStream.lineUpTags ? currentTextStream.lineUpTags : [], props.uuidIndex)[0] ? getTagsFull(currentTextStream.lineUpTags, props.uuidIndex)[0].name : \"\"))), __jsx(\"li\", {\n    className: `${styles['teams-vs-list__item']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 19\n    }\n  }, __jsx(LineUpIcon, {\n    stream: currentTextStream,\n    className: `${styles['teams-vs-list__image']}`,\n    orderNumber: 1,\n    lineUpTagsFull: getTagsFull(currentTextStream && currentTextStream.lineUpTags ? currentTextStream.lineUpTags : [], props.uuidIndex),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 21\n    }\n  }), __jsx(\"span\", {\n    className: `${styles['teams-vs-list__name']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 21\n    }\n  }, __jsx(Link, {\n    to: () => getLink(1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 23\n    }\n  }, getTagsFull(currentTextStream && currentTextStream.lineUpTags ? currentTextStream.lineUpTags : [], props.uuidIndex)[1] ? getTagsFull(currentTextStream.lineUpTags, props.uuidIndex)[1].name : \"\"))))), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__images-container']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image-group']}`,\n    ref: imageGroupRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__outter']}`,\n    ref: imageRef_5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image-group-inner']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 23\n    }\n  }, __jsx(\"img\", {\n    /*className=\"lazyload\" data- */\n    src: images[5] ? images[5] : 'https://via.placeholder.com/2560x1440.png',\n    alt: \"\",\n    ref: image5SizeRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 25\n    }\n  }))), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__date-time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__date']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 23\n    }\n  }, ((_imageArray$ = imageArray[5]) === null || _imageArray$ === void 0 ? void 0 : _imageArray$.startTime) ? moment(imageArray[5].startTime).format('ddd Do MMM YYYY') : '', \"\\xA0-\\xA0\", __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 21\n    }\n  }, ((_imageArray$2 = imageArray[5]) === null || _imageArray$2 === void 0 ? void 0 : _imageArray$2.startTime) ? moment((_imageArray$3 = imageArray[5]) === null || _imageArray$3 === void 0 ? void 0 : _imageArray$3.startTime).format('H:MM A') : '')))), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__outter']} ${styles['active']}`,\n    ref: imageRef_0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image-group-inner']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 23\n    }\n  }, __jsx(Link, {\n    to: `/play/${currentTextStream.eventId}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 25\n    }\n  }, __jsx(\"img\", {\n    /*className=\"lazyload\" data-*/\n    src: images[0] ? images[0] : 'https://via.placeholder.com/2560x1440.png',\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 27\n    }\n  })))), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__date-time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__date']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 23\n    }\n  }, ((_imageArray$4 = imageArray[0]) === null || _imageArray$4 === void 0 ? void 0 : _imageArray$4.startTime) ? moment(imageArray[0].startTime).format('ddd Do MMM YYYY') : '', \"\\xA0-\\xA0\", __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 21\n    }\n  }, ((_imageArray$5 = imageArray[0]) === null || _imageArray$5 === void 0 ? void 0 : _imageArray$5.startTime) ? moment((_imageArray$6 = imageArray[0]) === null || _imageArray$6 === void 0 ? void 0 : _imageArray$6.startTime).format('H:MM A') : '')))), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__outter']}`,\n    ref: imageRef_1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image-group-inner']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 23\n    }\n  }, __jsx(\"img\", {\n    /*className=\"lazyload\" data-*/\n    src: images[1] ? images[1] : 'https://via.placeholder.com/2560x1440.png',\n    alt: \"\",\n    onClick: () => handleClick('next'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 25\n    }\n  }))), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__date-time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__date']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 23\n    }\n  }, ((_imageArray$7 = imageArray[1]) === null || _imageArray$7 === void 0 ? void 0 : _imageArray$7.startTime) ? moment(imageArray[1].startTime).format('ddd Do MMM YYYY') : '', \"\\xA0-\\xA0\", __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 21\n    }\n  }, ((_imageArray$8 = imageArray[1]) === null || _imageArray$8 === void 0 ? void 0 : _imageArray$8.startTime) ? moment((_imageArray$9 = imageArray[1]) === null || _imageArray$9 === void 0 ? void 0 : _imageArray$9.startTime).format('H:MM A') : '')))), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__outter']}`,\n    ref: imageRef_2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image-group-inner']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 23\n    }\n  }, __jsx(\"img\", {\n    /*className=\"lazyload\" data-*/\n    src: images[2] ? images[2] : 'https://via.placeholder.com/2560x1440.png',\n    alt: \"\",\n    onClick: () => handleClick('nextSecond'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 25\n    }\n  }))), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__date-time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__date']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 23\n    }\n  }, ((_imageArray$10 = imageArray[2]) === null || _imageArray$10 === void 0 ? void 0 : _imageArray$10.startTime) ? moment(imageArray[2].startTime).format('ddd Do MMM YYYY') : '', \"\\xA0-\\xA0\", __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 21\n    }\n  }, ((_imageArray$11 = imageArray[2]) === null || _imageArray$11 === void 0 ? void 0 : _imageArray$11.startTime) ? moment((_imageArray$12 = imageArray[2]) === null || _imageArray$12 === void 0 ? void 0 : _imageArray$12.startTime).format('H:MM A') : '')))), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__outter']}`,\n    ref: imageRef_3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image-group-inner']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 23\n    }\n  }, __jsx(\"img\", {\n    /*className=\"lazyload\" data-*/\n    src: images[3] ? images[3] : 'https://via.placeholder.com/2560x1440.png',\n    alt: \"\",\n    onClick: () => handleClick('nextThird'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 25\n    }\n  }))), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__date-time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__date']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 23\n    }\n  }, ((_imageArray$13 = imageArray[3]) === null || _imageArray$13 === void 0 ? void 0 : _imageArray$13.startTime) ? moment(imageArray[3].startTime).format('ddd Do MMM YYYY') : '', \"\\xA0-\\xA0\", __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 21\n    }\n  }, ((_imageArray$14 = imageArray[3]) === null || _imageArray$14 === void 0 ? void 0 : _imageArray$14.startTime) ? moment((_imageArray$15 = imageArray[3]) === null || _imageArray$15 === void 0 ? void 0 : _imageArray$15.startTime).format('H:MM A') : '')))), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__outter']}`,\n    ref: imageRef_4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image-group-inner']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 23\n    }\n  }, __jsx(\"img\", {\n    /*className=\"lazyload\" data-*/\n    src: images[4] ? images[4] : 'https://via.placeholder.com/2560x1440.png',\n    alt: \"\",\n    ref: image4SizeRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 25\n    }\n  }))), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__date-time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__date']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 23\n    }\n  }, ((_imageArray$16 = imageArray[4]) === null || _imageArray$16 === void 0 ? void 0 : _imageArray$16.startTime) ? moment(imageArray[4].startTime).format('ddd Do MMM YYYY') : '', \"\\xA0-\\xA0\", __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 21\n    }\n  }, ((_imageArray$17 = imageArray[4]) === null || _imageArray$17 === void 0 ? void 0 : _imageArray$17.startTime) ? moment((_imageArray$18 = imageArray[4]) === null || _imageArray$18 === void 0 ? void 0 : _imageArray$18.startTime).format('H:MM A') : '')))), showNextSecond ? __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__outter']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 37\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image-group-inner']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 23\n    }\n  }, __jsx(\"img\", {\n    /*className=\"lazyload\" data-*/\n    src: images[6] ? images[6] : 'https://via.placeholder.com/2560x1440.png',\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 25\n    }\n  }))), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__date-time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__date']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 23\n    }\n  }, ((_imageArray$19 = imageArray[6]) === null || _imageArray$19 === void 0 ? void 0 : _imageArray$19.startTime) ? moment(imageArray[6].startTime).format('ddd Do MMM YYYY') : '', \"\\xA0-\\xA0\", __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 21\n    }\n  }, ((_imageArray$20 = imageArray[6]) === null || _imageArray$20 === void 0 ? void 0 : _imageArray$20.startTime) ? moment((_imageArray$21 = imageArray[6]) === null || _imageArray$21 === void 0 ? void 0 : _imageArray$21.startTime).format('H:MM A') : '')))) : null, showNextSecond && showNextThird ? __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__outter']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 56\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image-group-inner']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__image']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 23\n    }\n  }, __jsx(\"img\", {\n    /*className=\"lazyload\" data-*/\n    src: images[7] ? images[7] : 'https://via.placeholder.com/2560x1440.png',\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 25\n    }\n  }))), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__date-time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 21\n    }\n  }, __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__date']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 23\n    }\n  }, ((_imageArray$22 = imageArray[7]) === null || _imageArray$22 === void 0 ? void 0 : _imageArray$22.startTime) ? moment(imageArray[7].startTime).format('ddd Do MMM YYYY') : '', \"\\xA0-\\xA0\", __jsx(\"span\", {\n    className: `${styles['video-multi-carousel__time']}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 21\n    }\n  }, ((_imageArray$23 = imageArray[7]) === null || _imageArray$23 === void 0 ? void 0 : _imageArray$23.startTime) ? moment((_imageArray$24 = imageArray[7]) === null || _imageArray$24 === void 0 ? void 0 : _imageArray$24.startTime).format('H:MM A') : '')))) : null), __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__premium']}`,\n    style: _objectSpread(_objectSpread({}, textStyle), {}, {\n      opacity: textOpacity\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 17\n    }\n  }, __jsx(PremiumContent, {\n    className: `${styles['video-multi-carousel__premium-icon']}`,\n    stream: currentTextStream,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 19\n    }\n  })), showSave && __jsx(\"div\", {\n    className: `${styles['video-multi-carousel__save-indicator']}`,\n    style: _objectSpread(_objectSpread({}, textStyle), {}, {\n      opacity: textOpacity\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 19\n    }\n  }, __jsx(SaveStreamButton, {\n    stream: currentStream,\n    className: \"\",\n    suffix: \"to my stream\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 21\n    }\n  })))))));\n};\n\nexport default VideoMultiCarouselNew;","map":{"version":3,"sources":["/Users/ognjen/Desktop/with-typescript/src/components/VideoMultiCarouselNew/VideoMultiCarouselNew.tsx"],"names":["React","useState","useEffect","useRef","moment","useSelector","filterStreams","getTagsFull","SaveStreamButton","PremiumContent","LineUpIcon","styles","Link","truncateString","VideoMultiCarouselNew","props","pathName","state","router","location","pathname","showSave","filteredStreams","streams","limit","filterTag","numOfPanels","currentStream","setCurrentStream","currentTextStream","setCurrentTextStream","imageArray","setImageArray","Array","imageIndex","setImageIndex","textIndex","setTextIndex","showNextSecond","setShowNextSecond","showNextThird","setShowNextThird","approveAnimation","setApproveAnimation","imageGroupRef","imageRef_0","imageRef_1","imageRef_2","imageRef_3","imageRef_4","imageRef_5","image4SizeRef","image5SizeRef","imageRefArray","images","setImages","imageSize","calculateTextIndex","i","length","calculateIndex","fillUpImageArray","forEach","imgArr","push","image","current","style","transform","textStyle","transition","textOpacity","setTextOpacity","textAnimate","move","setTimeout","timer","setInterval","clearInterval","imageAnimate","activeIndex","unactiveIndex","el","classList","contains","add","remove","width","handleClick","input","getLink","link","lineUpTags","uuidIndex","path","toString","cropImageIfMobile","imageUri","toMatch","some","item","navigator","userAgent","match","name","opacity","eventId","description","startTime","format"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\nimport moment from 'moment'\nimport { useSelector } from 'react-redux'\nimport { ITag, IStream, ITagIndex } from '../../services/content/tags/models'\nimport { filterStreams, isStreamLive, getTagsFull } from '../../services/content/tags/selectors';\nimport SaveStreamButton from '../SaveButtons/SaveStreamButton'\nimport PremiumContent from '../../components/PremiumContent/PremiumContent'\nimport LineUpIcon from '../../components/LineUpIcon/LineUpIcon'\nimport PlayButton from '../../components/PlayButton/PlayButton'\nimport styles from './VideoMultiCarouselNew.module.scss';\nimport { Link } from 'react-router-dom'\nimport { RootState } from '../../services/RootState';\nimport { truncateString } from '../../utils/utils';\n\ninterface IVideoMultiCarouselNewProps {\n  mainTag: ITag | undefined\n  streams: IStream[]\n  limit: number\n  filterTag: ITag | undefined\n  uuidIndex: ITagIndex[]\n}\n\nconst VideoMultiCarouselNew: React.FC<IVideoMultiCarouselNewProps> = (props: IVideoMultiCarouselNewProps) => {\n\n  const pathName = useSelector<RootState, any>(state => state.router?.location?.pathname)\n  const showSave = pathName !== '/my-streams';\n\n  const filteredStreams = filterStreams(props.streams, props.limit, props.filterTag);\n\n  const numOfPanels: number = 4;\n  const [currentStream, setCurrentStream] = useState(filteredStreams[0]);\n  const [currentTextStream, setCurrentTextStream] = useState(filteredStreams[0]);\n  const [imageArray, setImageArray] = useState(new Array(numOfPanels + 4));\n  const [imageIndex, setImageIndex] = useState(0);\n  const [textIndex, setTextIndex] = useState(0);\n  const [showNextSecond, setShowNextSecond] = useState(false);\n  const [showNextThird, setShowNextThird] = useState(false);\n  const [approveAnimation, setApproveAnimation] = useState(true);\n  const imageGroupRef = useRef<HTMLDivElement>(null);\n  const imageRef_0 = useRef<HTMLDivElement>(null);\n  const imageRef_1 = useRef<HTMLDivElement>(null);\n  const imageRef_2 = useRef<HTMLDivElement>(null);\n  const imageRef_3 = useRef<HTMLDivElement>(null);\n  const imageRef_4 = useRef<HTMLDivElement>(null);\n  const imageRef_5 = useRef<HTMLDivElement>(null);\n  const image4SizeRef = useRef<HTMLImageElement>(null);\n  const image5SizeRef = useRef<HTMLImageElement>(null);\n  const imageRefArray = [imageRef_0, imageRef_1, imageRef_2, imageRef_3, imageRef_4, imageRef_5];\n  const [images, setImages] = useState<string[]>([]);\n\n  let imageSize: number = 0;\n\n  const calculateTextIndex = (i: number) => {\n    return textIndex > 0 ? (textIndex + i) % filteredStreams.length : (filteredStreams.length + textIndex % filteredStreams.length + i) % filteredStreams.length;\n  }\n\n  const calculateIndex = (i: number) => {\n    return imageIndex > 0 ? (imageIndex + i) % filteredStreams.length : (filteredStreams.length + imageIndex % filteredStreams.length + i) % filteredStreams.length;\n  }\n\n  const fillUpImageArray = () => {\n    for (let i = 0; i < numOfPanels + 4; ++i)\n      if (i === numOfPanels + 1)\n        imageArray[i] = filteredStreams[(calculateIndex(0) - 1) < 0 ? filteredStreams.length - 1 : (calculateIndex(0) - 1)];\n      else if (i === numOfPanels + 2)\n        imageArray[i] = filteredStreams[calculateIndex(i - 1)];\n      else if (i === numOfPanels + 3)\n        imageArray[i] = filteredStreams[calculateIndex(i - 1)];\n      else\n        imageArray[i] = filteredStreams[calculateIndex(i)];\n\n    setImageArray(imageArray);\n    let images: Array<string> = []\n\n    imageArray.forEach(imgArr => {\n      images.push(`${imgArr?.image}?width=640&height=360&mode=crop`);\n    })\n\n    setImages(images)\n    setCurrentStream(imageArray[0]);\n  }\n\n  useEffect(() => {\n    if (imageGroupRef && imageGroupRef.current?.style && image4SizeRef && image4SizeRef.current && image5SizeRef && image5SizeRef.current) {\n      imageGroupRef.current.style.transform = `translateX(-130px)`;\n      // imageGroupRef.current.style.transform = `translateX(${-(image4SizeRef.current.width !== 0 ? image4SizeRef.current.width : image5SizeRef.current.width)}px)`;\n    }\n    fillUpImageArray();\n    // console.log(\"DUZINA: \" + filteredStreams.length);\n    // console.log(imageArray);\n  }, [])\n\n  useEffect(() => {\n    fillUpImageArray();\n    // console.log(imageArray);\n  }, [imageIndex])\n\n  useEffect(() => {\n    setCurrentTextStream(filteredStreams[calculateTextIndex(0)]);\n  }, [textIndex])\n\n  const textStyle = {\n    transition: 'opacity 0.375s ease-in-out'\n  };\n  const [textOpacity, setTextOpacity] = useState(1);\n\n  const textAnimate = (move: string) => {\n    setApproveAnimation(false);\n    setTextOpacity(0.1);\n    setTimeout(() => {\n      let timer = setInterval(() => {\n        setTimeout(() => {\n          clearInterval(timer);\n        }, 15);\n        setTextIndex((move === \"next\") ? (textIndex + 1) : (move === \"nextSecond\" ? (textIndex + 2) : (move === \"nextThird\" ? (textIndex + 3) : (textIndex - 1))));\n        setTextOpacity(1);\n      }, 15);\n    }, 375);\n  }\n\n  const imageAnimate = (move: string) => {\n    setApproveAnimation(false);\n    if (imageGroupRef && imageGroupRef.current?.style)\n      imageGroupRef.current.style.transition = \"transform 0.75s ease-in-out\";\n\n    let activeIndex: number = 0;\n    let unactiveIndex: number = 0;\n\n    imageRefArray.forEach((el, i) => {\n      if (el && el.current)\n        el.current.style.transition = \"width 0.75s ease-in-out\";\n      if (el.current?.classList.contains(`${styles['active']}`)) {\n        activeIndex = i;\n        move === \"next\" ? (unactiveIndex = i + 1) : (move === \"nextSecond\" ? (unactiveIndex = i + 2) : (move === \"nextThird\" ? (unactiveIndex = i + 3) : (unactiveIndex = imageArray.length - 3)));\n      }\n    });\n\n    imageRefArray[unactiveIndex].current?.classList.add(`${styles['active']}`);\n    imageRefArray[activeIndex].current?.classList.remove(`${styles['active']}`);\n\n    if (image4SizeRef && image4SizeRef.current && image5SizeRef && image5SizeRef.current)\n      imageSize = image4SizeRef.current.width !== 0 ? image4SizeRef.current.width : image5SizeRef.current.width;\n\n    if (imageGroupRef && imageGroupRef.current?.style && image4SizeRef && image4SizeRef.current && image5SizeRef && image5SizeRef.current)\n      move === \"next\" ? imageGroupRef.current.style.transform = `translateX(${-imageSize * 2}px)`\n        : (move === \"nextSecond\" ? imageGroupRef.current.style.transform = `translateX(${-imageSize * 3}px)`\n          : (move === \"nextThird\" ? imageGroupRef.current.style.transform = `translateX(${-imageSize * 4}px)`\n            : imageGroupRef.current.style.transform = `translateX(0px)`));\n\n    setTimeout(() => {\n      if (imageGroupRef && imageGroupRef.current?.style && image4SizeRef && image4SizeRef.current && image5SizeRef && image5SizeRef.current) {\n        imageGroupRef.current.style.transition = \"none\";\n        imageGroupRef.current.style.transform = `translateX(${-imageSize}px)`;\n      }\n\n      imageRefArray.forEach((el, i) => {\n        if (el && el.current)\n          el.current.style.transition = \"none\";\n        if (el.current?.classList.contains(`${styles['active']}`)) {\n          activeIndex = i;\n          move === \"next\" ? (unactiveIndex = i - 1) : (move === \"nextSecond\" ? (unactiveIndex = i - 2)\n            : (move === \"nextThird\" ? (unactiveIndex = i - 3) : (unactiveIndex = imageArray.length - i - 3)));\n        }\n      });\n\n      imageRefArray[activeIndex].current?.classList.remove(`${styles['active']}`);\n      imageRefArray[unactiveIndex].current?.classList.add(`${styles['active']}`);\n\n      setImageIndex((move === \"next\") ? (imageIndex + 1) : (move === \"nextSecond\" ? (imageIndex + 2) : (move === \"nextThird\" ? (imageIndex + 3) : (imageIndex - 1))));\n      setApproveAnimation(true);\n      setShowNextSecond(false);\n      setShowNextThird(false);\n    }, 750);\n  }\n\n  const handleClick = (input: string) => {\n    switch (input) {\n      case 'next':\n        if (approveAnimation) {\n          textAnimate(\"next\");\n          imageAnimate(\"next\");\n        }\n        return;\n      case 'nextSecond':\n        if (approveAnimation) {\n          setShowNextSecond(true);\n          textAnimate(\"nextSecond\");\n          imageAnimate(\"nextSecond\");\n        }\n        return;\n      case 'nextThird':\n        if (approveAnimation) {\n          setShowNextSecond(true);\n          setShowNextThird(true);\n          textAnimate(\"nextThird\");\n          imageAnimate(\"nextThird\");\n        }\n        return;\n      case 'prev':\n        if (approveAnimation) {\n          textAnimate(\"prev\");\n          imageAnimate(\"prev\");\n        }\n        return;\n    }\n  }\n\n  const getLink = (input: number) => {\n    let link = getTagsFull(currentStream.lineUpTags, props.uuidIndex)[input]?.path;\n    if (link)\n      return link.toString();\n    return '#';\n  }\n\n  const cropImageIfMobile = (imageUri: string): string => {\n    const toMatch = [\n      /Android/i,\n      /webOS/i,\n      /iPhone/i,\n      /iPad/i,\n      /iPod/i,\n      /BlackBerry/i,\n      /Windows Phone/i\n    ];\n    if (toMatch.some((item) => navigator.userAgent.match(item))) {\n      return `${imageUri}?width=640&height=360&mode=crop`\n    }\n    return `${imageUri}?width=640&height=360&mode=crop`;\n  }\n\n  return (\n    <section>\n      {currentTextStream &&\n        <div className={'container'}>\n          <div className={`${styles['video-multi-carousel']}`}>\n            <div className={`${styles['video-multi-carousel__inner']}`}>\n              {/* <div className={`${styles['video-multi-carousel__group']}`}> */}\n              <div className={`${styles['video-multi-carousel__label']}`}>\n\n                <div className={`${styles['video-multi-carousel__buttons']}`}>\n                  <button\n                    onClick={() => handleClick('prev')}\n                    className={`${styles['video-multi-carousel__button-prev']}`}\n                  >\n                    <svg className={`icon`} role=\"presentation\">\n                      <use xlinkHref=\"#icon-chevron-left\"></use>\n                    </svg>\n                    <span className={`${styles['screen-reader-text']}`}></span>\n                  </button>\n                  <button\n                    onClick={() => handleClick('next')}\n                    className={`${styles['video-multi-carousel__button-next']}`}\n                  >\n                    <svg className={`icon`} role=\"presentation\">\n                      <use xlinkHref=\"#icon-chevron-right\"></use>\n                    </svg>\n                    <span className={`${styles['screen-reader-text']}`}></span>\n                  </button>\n                </div>\n\n                <Link to={`${props.filterTag?.path}`} className={`${styles['video-multi-carousel__label-text']}`}>\n                  {props.filterTag?.name}\n                </Link>\n\n              </div>\n\n              <div className={`${styles['video-multi-carousel__content']}`} style={{ ...textStyle, opacity: textOpacity }}>\n                <h2>\n                  <Link to={`/play/${currentTextStream.eventId}`}>\n                    <span className=\"line-clamp-3\">\n                      {(currentTextStream && currentTextStream.name) ?  truncateString(currentTextStream.name, 50) : \"\"}\n                    </span>\n                  </Link>\n                </h2>\n                <p>\n                  <span className=\"line-clamp-3\">\n                    {(currentTextStream && currentTextStream.description) ? currentTextStream.description : \"\"}\n                  </span>\n                </p>\n                <ul className={`${styles['teams-vs-list']}`}>\n                  <li className={`${styles['teams-vs-list__item']}`}>\n                    <LineUpIcon\n                      stream={currentTextStream}\n                      className={`${styles['teams-vs-list__image']}`}\n                      orderNumber={0}\n                      lineUpTagsFull={getTagsFull((currentTextStream && currentTextStream.lineUpTags) ? currentTextStream.lineUpTags : [], props.uuidIndex)}\n                    />\n                    <span className={`${styles['teams-vs-list__name']}`}>\n                      <Link to={() => getLink(0)}>\n                        {getTagsFull((currentTextStream && currentTextStream.lineUpTags) ? currentTextStream.lineUpTags : [], props.uuidIndex)[0] ?\n                          getTagsFull(currentTextStream.lineUpTags, props.uuidIndex)[0].name : \"\"}\n                      </Link>\n                    </span>\n                  </li>\n                  <li className={`${styles['teams-vs-list__item']}`}>\n                    <LineUpIcon\n                      stream={currentTextStream}\n                      className={`${styles['teams-vs-list__image']}`}\n                      orderNumber={1}\n                      lineUpTagsFull={getTagsFull((currentTextStream && currentTextStream.lineUpTags) ? currentTextStream.lineUpTags : [], props.uuidIndex)}\n                    />\n                    <span className={`${styles['teams-vs-list__name']}`}>\n                      <Link to={() => getLink(1)}>\n                        {getTagsFull((currentTextStream && currentTextStream.lineUpTags) ? currentTextStream.lineUpTags : [], props.uuidIndex)[1] ?\n                          getTagsFull(currentTextStream.lineUpTags, props.uuidIndex)[1].name : \"\"}\n                      </Link>\n                    </span>\n                  </li>\n                </ul>\n              </div>\n              {/* </div> */}\n\n\n\n\n\n              <div className={`${styles['video-multi-carousel__images-container']}`}>\n                <div className={`${styles['video-multi-carousel__image-group']}`} ref={imageGroupRef}>\n                  <div className={`${styles['video-multi-carousel__outter']}`} ref={imageRef_5}>\n                    <div className={`${styles['video-multi-carousel__image-group-inner']}`}>\n\n                      <div className={`${styles['video-multi-carousel__image']}`}>\n                        <img /*className=\"lazyload\" data- */ src={images[5] ? images[5] : 'https://via.placeholder.com/2560x1440.png'} alt=\"\" ref={image5SizeRef} />\n                      </div>\n                    </div>\n                    <div className={`${styles['video-multi-carousel__date-time']}`}>\n                      <span className={`${styles['video-multi-carousel__date']}`}>\n                        {imageArray[5]?.startTime ? moment(imageArray[5].startTime).format('ddd Do MMM YYYY') : ''}&nbsp;-&nbsp;\n                    <span className={`${styles['video-multi-carousel__time']}`}>\n                          {imageArray[5]?.startTime ? moment(imageArray[5]?.startTime).format('H:MM A') : ''}\n                        </span>\n                      </span>\n                    </div>\n                  </div>\n                  <div className={`${styles['video-multi-carousel__outter']} ${styles['active']}`} ref={imageRef_0}>\n                    <div className={`${styles['video-multi-carousel__image-group-inner']}`}>\n                      <div className={`${styles['video-multi-carousel__image']}`}>\n                        <Link to={`/play/${currentTextStream.eventId}`}>\n                          <img /*className=\"lazyload\" data-*/ src={images[0] ? images[0] : 'https://via.placeholder.com/2560x1440.png'} alt=\"\" />\n                        </Link>\n                      </div>\n                    </div>\n                    <div className={`${styles['video-multi-carousel__date-time']}`}>\n                      <span className={`${styles['video-multi-carousel__date']}`}>\n                        {imageArray[0]?.startTime ? moment(imageArray[0].startTime).format('ddd Do MMM YYYY') : ''}&nbsp;-&nbsp;\n                    <span className={`${styles['video-multi-carousel__time']}`}>\n                          {imageArray[0]?.startTime ? moment(imageArray[0]?.startTime).format('H:MM A') : ''}\n                        </span>\n                      </span>\n                    </div>\n                  </div>\n                  <div className={`${styles['video-multi-carousel__outter']}`} ref={imageRef_1}>\n                    <div className={`${styles['video-multi-carousel__image-group-inner']}`}>\n                      <div className={`${styles['video-multi-carousel__image']}`}>\n                        <img /*className=\"lazyload\" data-*/ src={images[1] ? images[1] : 'https://via.placeholder.com/2560x1440.png'} alt=\"\" onClick={() => handleClick('next')} />\n                      </div>\n                    </div>\n                    <div className={`${styles['video-multi-carousel__date-time']}`}>\n                      <span className={`${styles['video-multi-carousel__date']}`}>\n                        {imageArray[1]?.startTime ? moment(imageArray[1].startTime).format('ddd Do MMM YYYY') : ''}&nbsp;-&nbsp;\n                    <span className={`${styles['video-multi-carousel__time']}`}>\n                          {imageArray[1]?.startTime ? moment(imageArray[1]?.startTime).format('H:MM A') : ''}\n                        </span>\n                      </span>\n                    </div>\n                  </div>\n                  <div className={`${styles['video-multi-carousel__outter']}`} ref={imageRef_2}>\n                    <div className={`${styles['video-multi-carousel__image-group-inner']}`}>\n                      <div className={`${styles['video-multi-carousel__image']}`}>\n                        <img /*className=\"lazyload\" data-*/ src={images[2] ? images[2] : 'https://via.placeholder.com/2560x1440.png'} alt=\"\" onClick={() => handleClick('nextSecond')} />\n                      </div>\n                    </div>\n                    <div className={`${styles['video-multi-carousel__date-time']}`}>\n                      <span className={`${styles['video-multi-carousel__date']}`}>\n                        {imageArray[2]?.startTime ? moment(imageArray[2].startTime).format('ddd Do MMM YYYY') : ''}&nbsp;-&nbsp;\n                    <span className={`${styles['video-multi-carousel__time']}`}>\n                          {imageArray[2]?.startTime ? moment(imageArray[2]?.startTime).format('H:MM A') : ''}\n                        </span>\n                      </span>\n                    </div>\n                  </div>\n                  <div className={`${styles['video-multi-carousel__outter']}`} ref={imageRef_3}>\n                    <div className={`${styles['video-multi-carousel__image-group-inner']}`}>\n                      <div className={`${styles['video-multi-carousel__image']}`}>\n                        <img /*className=\"lazyload\" data-*/ src={images[3] ? images[3] : 'https://via.placeholder.com/2560x1440.png'} alt=\"\" onClick={() => handleClick('nextThird')} />\n                      </div>\n                    </div>\n                    <div className={`${styles['video-multi-carousel__date-time']}`}>\n                      <span className={`${styles['video-multi-carousel__date']}`}>\n                        {imageArray[3]?.startTime ? moment(imageArray[3].startTime).format('ddd Do MMM YYYY') : ''}&nbsp;-&nbsp;\n                    <span className={`${styles['video-multi-carousel__time']}`}>\n                          {imageArray[3]?.startTime ? moment(imageArray[3]?.startTime).format('H:MM A') : ''}\n                        </span>\n                      </span>\n                    </div>\n                  </div>\n                  <div className={`${styles['video-multi-carousel__outter']}`} ref={imageRef_4}>\n                    <div className={`${styles['video-multi-carousel__image-group-inner']}`}>\n                      <div className={`${styles['video-multi-carousel__image']}`}>\n                        <img /*className=\"lazyload\" data-*/ src={images[4] ? images[4] : 'https://via.placeholder.com/2560x1440.png'} alt=\"\" ref={image4SizeRef} />\n                      </div>\n                    </div>\n                    <div className={`${styles['video-multi-carousel__date-time']}`}>\n                      <span className={`${styles['video-multi-carousel__date']}`}>\n                        {imageArray[4]?.startTime ? moment(imageArray[4].startTime).format('ddd Do MMM YYYY') : ''}&nbsp;-&nbsp;\n                    <span className={`${styles['video-multi-carousel__time']}`}>\n                          {imageArray[4]?.startTime ? moment(imageArray[4]?.startTime).format('H:MM A') : ''}\n                        </span>\n                      </span>\n                    </div>\n                  </div>\n                  {showNextSecond ? <div className={`${styles['video-multi-carousel__outter']}`}>\n                    <div className={`${styles['video-multi-carousel__image-group-inner']}`}>\n                      <div className={`${styles['video-multi-carousel__image']}`}>\n                        <img /*className=\"lazyload\" data-*/ src={images[6] ? images[6] : 'https://via.placeholder.com/2560x1440.png'} alt=\"\" />\n                      </div>\n                    </div>\n                    <div className={`${styles['video-multi-carousel__date-time']}`}>\n                      <span className={`${styles['video-multi-carousel__date']}`}>\n                        {imageArray[6]?.startTime ? moment(imageArray[6].startTime).format('ddd Do MMM YYYY') : ''}&nbsp;-&nbsp;\n                    <span className={`${styles['video-multi-carousel__time']}`}>\n                          {imageArray[6]?.startTime ? moment(imageArray[6]?.startTime).format('H:MM A') : ''}\n                        </span>\n                      </span>\n                    </div>\n                  </div> : null}\n                  {(showNextSecond && showNextThird) ? <div className={`${styles['video-multi-carousel__outter']}`}>\n                    <div className={`${styles['video-multi-carousel__image-group-inner']}`}>\n                      <div className={`${styles['video-multi-carousel__image']}`}>\n                        <img /*className=\"lazyload\" data-*/ src={images[7] ? images[7] : 'https://via.placeholder.com/2560x1440.png'} alt=\"\" />\n                      </div>\n                    </div>\n                    <div className={`${styles['video-multi-carousel__date-time']}`}>\n                      <span className={`${styles['video-multi-carousel__date']}`}>\n                        {imageArray[7]?.startTime ? moment(imageArray[7].startTime).format('ddd Do MMM YYYY') : ''}&nbsp;-&nbsp;\n                    <span className={`${styles['video-multi-carousel__time']}`}>\n                          {imageArray[7]?.startTime ? moment(imageArray[7]?.startTime).format('H:MM A') : ''}\n                        </span>\n                      </span>\n                    </div>\n                  </div> : null}\n                </div>\n\n                <div\n                  className={`${styles['video-multi-carousel__premium']}`}\n                  style={{ ...textStyle, opacity: textOpacity }}\n                >\n                  <PremiumContent\n                    className={`${styles['video-multi-carousel__premium-icon']}`}\n                    stream={currentTextStream}\n                  />\n                </div>\n\n                {showSave &&\n                  <div\n                    className={`${styles['video-multi-carousel__save-indicator']}`}\n                    style={{ ...textStyle, opacity: textOpacity }}\n                  >\n                    <SaveStreamButton\n                      stream={currentStream}\n                      className=''\n                      suffix=\"to my stream\"\n                    />\n                  </div>\n                }\n\n              </div>\n            </div>\n          </div>\n        </div>\n      }\n\n    </section >\n  )\n}\n\nexport default VideoMultiCarouselNew"]},"metadata":{},"sourceType":"module"}