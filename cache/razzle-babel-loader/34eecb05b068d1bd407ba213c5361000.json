{"ast":null,"code":"import { ofType } from 'redux-observable';\nimport { EMPTY } from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\n\nvar tokenPersistEpic = function tokenPersistEpic(action$, store) {\n  return action$.pipe(ofType('TOKEN_PERSIST'), mergeMap(function (event) {\n    var data = {\n      'userId': store.value.userSecurity.profile.id,\n      profile: store.value.userSecurity.profile // comment out\n\n    };\n    window.dataLayer.push(data);\n    return EMPTY;\n  }));\n};\n\nexport default [tokenPersistEpic];","map":{"version":3,"sources":["/Users/ognjen/Desktop/with-typescript/src/services/userSecurity/token/epics/tokenPersistEpic.ts"],"names":["ofType","EMPTY","mergeMap","tokenPersistEpic","action$","store","pipe","event","data","value","userSecurity","profile","id","window","dataLayer","push"],"mappings":"AAAA,SAAeA,MAAf,QAA4B,kBAA5B;AACA,SAASC,KAAT,QAAqB,MAArB;AACA,SAASC,QAAT,QAAyB,gBAAzB;;AAGA,IAAMC,gBAA2C,GAAG,SAA9CA,gBAA8C,CAACC,OAAD,EAAUC,KAAV;AAAA,SAClDD,OAAO,CAACE,IAAR,CACEN,MAAM,CAAC,eAAD,CADR,EAEEE,QAAQ,CAAC,UAAAK,KAAK,EAAI;AACd,QAAIC,IAAI,GAAG;AACP,gBAAUH,KAAK,CAACI,KAAN,CAAYC,YAAZ,CAAyBC,OAAzB,CAAiCC,EADpC;AAEPD,MAAAA,OAAO,EAAEN,KAAK,CAACI,KAAN,CAAYC,YAAZ,CAAyBC,OAF3B,CAEmC;;AAFnC,KAAX;AAIGE,IAAAA,MAAD,CAAgBC,SAAhB,CAA0BC,IAA1B,CAA+BP,IAA/B;AACJ,WAAOP,KAAP;AACD,GAPO,CAFV,CADkD;AAAA,CAApD;;AAaA,eAAe,CAACE,gBAAD,CAAf","sourcesContent":["import { Epic, ofType} from 'redux-observable'\nimport { EMPTY} from 'rxjs'\nimport { mergeMap } from 'rxjs/operators'\nimport { RootState } from '../../../RootState'\n\nconst tokenPersistEpic: Epic<any, any, RootState> = (action$, store) =>\n  action$.pipe(\n    ofType('TOKEN_PERSIST'),\n    mergeMap(event => {\n        let data = {\n            'userId': store.value.userSecurity.profile.id,\n            profile: store.value.userSecurity.profile // comment out\n          };\n          (window as any).dataLayer.push(data);\n      return EMPTY\n    })\n  )\n\nexport default [tokenPersistEpic]\n"]},"metadata":{},"sourceType":"module"}