{"ast":null,"code":"import { getConfiguration } from './../api/getConfiguration';\nimport { from, of } from 'rxjs';\nimport { exhaustMap, catchError } from 'rxjs/operators';\nimport { ofType } from 'redux-observable';\nimport { configReceivedEvent, configErroredEvent } from '../events';\nimport * as configurationEventTypes from '../eventTypes';\n\nvar getConfiugratioRequestedEpic = function getConfiugratioRequestedEpic(action$) {\n  return action$.pipe(ofType(configurationEventTypes.CONFIG_REQUESTED), exhaustMap(function (event) {\n    return from(getConfiguration()).pipe(exhaustMap(function (apiResponse) {\n      return of(apiResponse.is_success ? configReceivedEvent(apiResponse.data) : configErroredEvent(apiResponse.data));\n    }), catchError(function () {\n      return of(configErroredEvent({\n        streams: undefined,\n        error: 'Network error',\n        errorDescription: 'Check your network connection'\n      }));\n    }));\n  }));\n};\n\nexport default [getConfiugratioRequestedEpic];","map":{"version":3,"sources":["/Users/ognjen/Desktop/spooky-live-ssr/ui/src/services/config/epic/getConfiugratioRequestedEpic.ts"],"names":["getConfiguration","from","of","exhaustMap","catchError","ofType","configReceivedEvent","configErroredEvent","configurationEventTypes","getConfiugratioRequestedEpic","action$","pipe","CONFIG_REQUESTED","event","apiResponse","is_success","data","streams","undefined","error","errorDescription"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,2BAAjC;AAEA,SAASC,IAAT,EAAeC,EAAf,QAAyB,MAAzB;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,gBAAvC;AACA,SAASC,MAAT,QAAuB,kBAAvB;AACA,SAASC,mBAAT,EAA8BC,kBAA9B,QAAwD,WAAxD;AAEA,OAAO,KAAKC,uBAAZ,MAAyC,eAAzC;;AAEA,IAAMC,4BAAuD,GAAG,SAA1DA,4BAA0D,CAACC,OAAD;AAAA,SAC9DA,OAAO,CAACC,IAAR,CACEN,MAAM,CAACG,uBAAuB,CAACI,gBAAzB,CADR,EAEET,UAAU,CAAC,UAAAU,KAAK;AAAA,WACdZ,IAAI,CAACD,gBAAgB,EAAjB,CAAJ,CAAyBW,IAAzB,CACER,UAAU,CAAC,UAAAW,WAAW;AAAA,aAClBZ,EAAE,CAACY,WAAW,CAACC,UAAZ,GAAyBT,mBAAmB,CAACQ,WAAW,CAACE,IAAb,CAA5C,GAAiET,kBAAkB,CAACO,WAAW,CAACE,IAAb,CAApF,CADgB;AAAA,KAAZ,CADZ,EAKEZ,UAAU,CAAC;AAAA,aAAMF,EAAE,CAACK,kBAAkB,CAAC;AACrCU,QAAAA,OAAO,EAAEC,SAD4B;AAErCC,QAAAA,KAAK,EAAE,eAF8B;AAGrCC,QAAAA,gBAAgB,EAAE;AAHmB,OAAD,CAAnB,CAAR;AAAA,KAAD,CALZ,CADc;AAAA,GAAN,CAFZ,CAD8D;AAAA,CAAhE;;AAkBA,eAAe,CAACX,4BAAD,CAAf","sourcesContent":["import { getConfiguration } from './../api/getConfiguration';\nimport { Epic } from 'redux-observable'\nimport { from, of } from 'rxjs'\nimport { exhaustMap, catchError } from 'rxjs/operators'\nimport { ofType } from 'redux-observable'\nimport { configReceivedEvent, configErroredEvent } from '../events'\nimport { RootState } from '../../RootState'\nimport * as configurationEventTypes from '../eventTypes'\n\nconst getConfiugratioRequestedEpic: Epic<any, any, RootState> = (action$) =>\n  action$.pipe(\n    ofType(configurationEventTypes.CONFIG_REQUESTED),\n    exhaustMap(event =>\n      from(getConfiguration()).pipe(\n        exhaustMap(apiResponse => \n            of(apiResponse.is_success ? configReceivedEvent(apiResponse.data) : configErroredEvent(apiResponse.data))\n        \n        ),\n        catchError(() => of(configErroredEvent({\n          streams: undefined,\n          error: 'Network error',\n          errorDescription: 'Check your network connection'\n        })))\n      )\n    )\n  )\n\nexport default [getConfiugratioRequestedEpic]\n"]},"metadata":{},"sourceType":"module"}