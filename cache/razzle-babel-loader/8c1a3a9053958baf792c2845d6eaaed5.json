{"ast":null,"code":"var _jsxFileName = \"/Users/ognjen/Desktop/with-typescript/src/App.tsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\nimport Routes from \"./Routes\";\nimport \"./styles/main.scss\";\nimport Notifications from \"react-notification-system-redux\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { configRequestedEvent } from \"./services/config/events\";\nimport { ApplicationInsights } from \"@microsoft/applicationinsights-web\";\nimport { ReactPlugin, withAITracking } from \"@microsoft/applicationinsights-react-js\";\nimport { selectShowModal } from \"./services/payments/purchase/selectors\";\nimport { isMobile } from \"./utils/utils\"; // react azure insight implemetation to highest level component\n\nlet browserHistory;\n\nif (typeof document !== \"undefined\") {\n  const createBrowserHistory = require(\"history/createBrowserHistory\").default;\n\n  browserHistory = createBrowserHistory();\n}\n\nconst reactPlugin = new ReactPlugin();\n\nfunction App() {\n  let notifications = useSelector(state => state.notifications);\n  let instrumentationKey = useSelector(state => state.configuration.instrumentation_key);\n  const isModalOpen = useSelector(state => state.userSecurity.accountDetails.showForgotPassword || state.userSecurity.accountDetails.showLogin || state.userSecurity.accountDetails.showSignup || state.userSecurity.accountDetails.showWelcomePage || selectShowModal(state.payments.purchase));\n  const component = /*#__PURE__*/React.createRef();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(configRequestedEvent());\n  });\n  useEffect(() => {\n    if (!isMobile()) {\n      component.current.parentElement.parentElement.parentElement.style.overflow = isModalOpen ? \"hidden\" : \"auto\";\n    }\n  }, [isModalOpen]);\n  useEffect(() => {\n    if (instrumentationKey !== undefined) {\n      const appInsights = new ApplicationInsights({\n        config: {\n          instrumentationKey: instrumentationKey,\n          extensions: [reactPlugin],\n          extensionConfig: {\n            [reactPlugin.identifier]: {\n              history: browserHistory\n            }\n          }\n        }\n      });\n      appInsights.loadAppInsights();\n    }\n  }, [instrumentationKey]);\n  return __jsx(\"div\", {\n    ref: component,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, __jsx(Notifications, {\n    notifications: notifications,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), __jsx(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default withAITracking(reactPlugin, App);","map":{"version":3,"sources":["/Users/ognjen/Desktop/with-typescript/src/App.tsx"],"names":["React","useEffect","Routes","Notifications","useDispatch","useSelector","configRequestedEvent","ApplicationInsights","ReactPlugin","withAITracking","selectShowModal","isMobile","browserHistory","document","createBrowserHistory","require","default","reactPlugin","App","notifications","state","instrumentationKey","configuration","instrumentation_key","isModalOpen","userSecurity","accountDetails","showForgotPassword","showLogin","showSignup","showWelcomePage","payments","purchase","component","createRef","dispatch","current","parentElement","style","overflow","undefined","appInsights","config","extensions","extensionConfig","identifier","history","loadAppInsights"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport Routes from \"./Routes\";\nimport \"./styles/main.scss\";\nimport Notifications from \"react-notification-system-redux\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { RootState } from \"./services/RootState\";\nimport { configRequestedEvent } from \"./services/config/events\";\n\nimport { ApplicationInsights } from \"@microsoft/applicationinsights-web\";\nimport {\n  ReactPlugin,\n  withAITracking,\n} from \"@microsoft/applicationinsights-react-js\";\n\nimport { createBrowserHistory } from \"history\";\nimport { selectShowModal } from \"./services/payments/purchase/selectors\";\nimport { isMobile } from \"./utils/utils\";\n\n// react azure insight implemetation to highest level component\nlet browserHistory;\nif (typeof document !== \"undefined\") {\n  const createBrowserHistory = require(\"history/createBrowserHistory\").default;\n\n  browserHistory = createBrowserHistory();\n}\n\nconst reactPlugin = new ReactPlugin();\n\nfunction App() {\n  let notifications = useSelector<RootState, any>(\n    (state) => state.notifications\n  );\n\n  let instrumentationKey = useSelector<RootState, string | undefined>(\n    (state) => state.configuration.instrumentation_key\n  );\n\n  const isModalOpen = useSelector<RootState, boolean>(\n    (state) =>\n      state.userSecurity.accountDetails.showForgotPassword ||\n      state.userSecurity.accountDetails.showLogin ||\n      state.userSecurity.accountDetails.showSignup ||\n      state.userSecurity.accountDetails.showWelcomePage ||\n      selectShowModal(state.payments.purchase)\n  );\n\n  const component = React.createRef<HTMLDivElement>();\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(configRequestedEvent());\n  });\n\n  useEffect(() => {\n    if (!isMobile()) {\n      (component.current as any).parentElement.parentElement.parentElement.style.overflow = isModalOpen\n        ? \"hidden\"\n        : \"auto\";\n    }\n  }, [isModalOpen]);\n\n  useEffect(() => {\n    if (instrumentationKey !== undefined) {\n      const appInsights = new ApplicationInsights({\n        config: {\n          instrumentationKey: instrumentationKey,\n          extensions: [reactPlugin as any],\n          extensionConfig: {\n            [reactPlugin.identifier]: { history: browserHistory },\n          },\n        },\n      });\n      appInsights.loadAppInsights();\n    }\n  }, [instrumentationKey]);\n  return (\n    <div ref={component}>\n      <Notifications notifications={notifications} />\n      <Routes />\n    </div>\n  );\n}\n\nexport default withAITracking(reactPlugin, App);\n"]},"metadata":{},"sourceType":"module"}