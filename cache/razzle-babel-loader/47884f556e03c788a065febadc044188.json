{"ast":null,"code":"import { from, of } from 'rxjs';\nimport { exhaustMap, filter, catchError } from 'rxjs/operators';\nimport { isActionOf } from 'typesafe-actions';\nimport { passwordUpdateRequestedEvent, passwordReceivedEvent, passwordErroredEvent } from '../events';\nimport { postUserSecurityUpdatePassword } from '../api/postUserSecurityUpdatePassword';\n\nconst passwordResetRequestedEpic = (action$, store) => action$.pipe(filter(isActionOf(passwordUpdateRequestedEvent)), exhaustMap(event => from(postUserSecurityUpdatePassword({\n  password: event.payload.password,\n  confirmPassword: event.payload.confirmPassword\n})).pipe(exhaustMap(apiResponse => of(apiResponse.statusCode === 200 ? passwordReceivedEvent(apiResponse.data) : passwordErroredEvent(apiResponse.data))), catchError(() => of(passwordErroredEvent({\n  id: undefined,\n  error: 'Network error',\n  errorDescription: 'Check your internet connection'\n}))))));\n\nexport default [passwordResetRequestedEpic];","map":{"version":3,"sources":["/Users/ognjen/Desktop/spooky.live-ssr/src/services/userSecurity/password/epics/passwordResetRequestedEpic.ts"],"names":["from","of","exhaustMap","filter","catchError","isActionOf","passwordUpdateRequestedEvent","passwordReceivedEvent","passwordErroredEvent","postUserSecurityUpdatePassword","passwordResetRequestedEpic","action$","store","pipe","event","password","payload","confirmPassword","apiResponse","statusCode","data","id","undefined","error","errorDescription"],"mappings":"AACA,SAASA,IAAT,EAAeC,EAAf,QAAyB,MAAzB;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,UAA7B,QAA+C,gBAA/C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAA6BC,4BAA7B,EAA2DC,qBAA3D,EAAkFC,oBAAlF,QAA8G,WAA9G;AAEA,SAASC,8BAAT,QAA+C,uCAA/C;;AAEA,MAAMC,0BAAmF,GAAG,CAACC,OAAD,EAAUC,KAAV,KAC1FD,OAAO,CAACE,IAAR,CACEV,MAAM,CAACE,UAAU,CAACC,4BAAD,CAAX,CADR,EAEEJ,UAAU,CAACY,KAAK,IACdd,IAAI,CAACS,8BAA8B,CAAC;AAAEM,EAAAA,QAAQ,EAAED,KAAK,CAACE,OAAN,CAAcD,QAA1B;AAAoCE,EAAAA,eAAe,EAAEH,KAAK,CAACE,OAAN,CAAcC;AAAnE,CAAD,CAA/B,CAAJ,CAA2HJ,IAA3H,CACEX,UAAU,CAACgB,WAAW,IACpBjB,EAAE,CAACiB,WAAW,CAACC,UAAZ,KAA2B,GAA3B,GAAiCZ,qBAAqB,CAACW,WAAW,CAACE,IAAb,CAAtD,GAA2EZ,oBAAoB,CAACU,WAAW,CAACE,IAAb,CAAhG,CADM,CADZ,EAIEhB,UAAU,CAAC,MAAMH,EAAE,CAACO,oBAAoB,CAAC;AACvCa,EAAAA,EAAE,EAAEC,SADmC;AAEvCC,EAAAA,KAAK,EAAE,eAFgC;AAGvCC,EAAAA,gBAAgB,EAAE;AAHqB,CAAD,CAArB,CAAT,CAJZ,CADQ,CAFZ,CADF;;AAiBA,eAAe,CAACd,0BAAD,CAAf","sourcesContent":["import { Epic } from 'redux-observable'\nimport { from, of } from 'rxjs'\nimport { exhaustMap, filter, catchError } from 'rxjs/operators'\nimport { isActionOf } from 'typesafe-actions'\nimport { PasswordEventTypes, passwordUpdateRequestedEvent, passwordReceivedEvent, passwordErroredEvent } from '../events'\nimport { RootState } from '../../../RootState'\nimport { postUserSecurityUpdatePassword } from '../api/postUserSecurityUpdatePassword'\n\nconst passwordResetRequestedEpic: Epic<PasswordEventTypes, PasswordEventTypes, RootState> = (action$, store) =>\n  action$.pipe(\n    filter(isActionOf(passwordUpdateRequestedEvent)),\n    exhaustMap(event =>\n      from(postUserSecurityUpdatePassword({ password: event.payload.password, confirmPassword: event.payload.confirmPassword })).pipe(\n        exhaustMap(apiResponse => \n          of(apiResponse.statusCode === 200 ? passwordReceivedEvent(apiResponse.data) : passwordErroredEvent(apiResponse.data))\n        ),\n        catchError(() => of(passwordErroredEvent({\n          id: undefined,\n          error: 'Network error',\n          errorDescription: 'Check your internet connection'\n        })))\n      )\n    )\n  )\n\nexport default [passwordResetRequestedEpic]\n"]},"metadata":{},"sourceType":"module"}