{"ast":null,"code":"import _defineProperty from \"/Users/ognjen/Desktop/with-typescript/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/ognjen/Desktop/with-typescript/src/App.tsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from \"react\";\nimport Routes from \"./Routes\";\nimport \"./styles/main.scss\";\nimport Notifications from \"react-notification-system-redux\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { configRequestedEvent } from \"./services/config/events\";\nimport { ApplicationInsights } from \"@microsoft/applicationinsights-web\";\nimport { ReactPlugin, withAITracking } from \"@microsoft/applicationinsights-react-js\";\nimport { selectShowModal } from \"./services/payments/purchase/selectors\";\nimport { isMobile } from \"./utils/utils\"; // react azure insight implemetation to highest level component\n\nvar browserHistory;\n\nif (typeof document !== \"undefined\") {\n  var createBrowserHistory = require(\"history/createBrowserHistory\")[\"default\"];\n\n  browserHistory = createBrowserHistory();\n}\n\nvar reactPlugin = new ReactPlugin();\n\nfunction App() {\n  var notifications = useSelector(function (state) {\n    return state.notifications;\n  });\n  var instrumentationKey = useSelector(function (state) {\n    return state.configuration.instrumentation_key;\n  });\n  var isModalOpen = useSelector(function (state) {\n    return state.userSecurity.accountDetails.showForgotPassword || state.userSecurity.accountDetails.showLogin || state.userSecurity.accountDetails.showSignup || state.userSecurity.accountDetails.showWelcomePage || selectShowModal(state.payments.purchase);\n  });\n  var component = /*#__PURE__*/React.createRef();\n  var dispatch = useDispatch();\n  useEffect(function () {\n    dispatch(configRequestedEvent());\n  });\n  useEffect(function () {\n    if (!isMobile()) {\n      component.current.parentElement.parentElement.parentElement.style.overflow = isModalOpen ? \"hidden\" : \"auto\";\n    }\n  }, [isModalOpen]);\n  useEffect(function () {\n    if (instrumentationKey !== undefined) {\n      var appInsights = new ApplicationInsights({\n        config: {\n          instrumentationKey: instrumentationKey,\n          extensions: [reactPlugin],\n          extensionConfig: _defineProperty({}, reactPlugin.identifier, {\n            history: browserHistory\n          })\n        }\n      });\n      appInsights.loadAppInsights();\n    }\n  }, [instrumentationKey]);\n  return __jsx(\"div\", {\n    ref: component,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, __jsx(Notifications, {\n    notifications: notifications,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), __jsx(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default withAITracking(reactPlugin, App);","map":{"version":3,"sources":["/Users/ognjen/Desktop/with-typescript/src/App.tsx"],"names":["React","useEffect","Routes","Notifications","useDispatch","useSelector","configRequestedEvent","ApplicationInsights","ReactPlugin","withAITracking","selectShowModal","isMobile","browserHistory","document","createBrowserHistory","require","reactPlugin","App","notifications","state","instrumentationKey","configuration","instrumentation_key","isModalOpen","userSecurity","accountDetails","showForgotPassword","showLogin","showSignup","showWelcomePage","payments","purchase","component","createRef","dispatch","current","parentElement","style","overflow","undefined","appInsights","config","extensions","extensionConfig","identifier","history","loadAppInsights"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport Routes from \"./Routes\";\nimport \"./styles/main.scss\";\nimport Notifications from \"react-notification-system-redux\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { RootState } from \"./services/RootState\";\nimport { configRequestedEvent } from \"./services/config/events\";\n\nimport { ApplicationInsights } from \"@microsoft/applicationinsights-web\";\nimport {\n  ReactPlugin,\n  withAITracking,\n} from \"@microsoft/applicationinsights-react-js\";\n\nimport { createBrowserHistory } from \"history\";\nimport { selectShowModal } from \"./services/payments/purchase/selectors\";\nimport { isMobile } from \"./utils/utils\";\n\n// react azure insight implemetation to highest level component\nlet browserHistory;\nif (typeof document !== \"undefined\") {\n  const createBrowserHistory = require(\"history/createBrowserHistory\").default;\n\n  browserHistory = createBrowserHistory();\n}\n\nconst reactPlugin = new ReactPlugin();\n\nfunction App() {\n  let notifications = useSelector<RootState, any>(\n    (state) => state.notifications\n  );\n\n  let instrumentationKey = useSelector<RootState, string | undefined>(\n    (state) => state.configuration.instrumentation_key\n  );\n\n  const isModalOpen = useSelector<RootState, boolean>(\n    (state) =>\n      state.userSecurity.accountDetails.showForgotPassword ||\n      state.userSecurity.accountDetails.showLogin ||\n      state.userSecurity.accountDetails.showSignup ||\n      state.userSecurity.accountDetails.showWelcomePage ||\n      selectShowModal(state.payments.purchase)\n  );\n\n  const component = React.createRef<HTMLDivElement>();\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(configRequestedEvent());\n  });\n\n  useEffect(() => {\n    if (!isMobile()) {\n      (component.current as any).parentElement.parentElement.parentElement.style.overflow = isModalOpen\n        ? \"hidden\"\n        : \"auto\";\n    }\n  }, [isModalOpen]);\n\n  useEffect(() => {\n    if (instrumentationKey !== undefined) {\n      const appInsights = new ApplicationInsights({\n        config: {\n          instrumentationKey: instrumentationKey,\n          extensions: [reactPlugin as any],\n          extensionConfig: {\n            [reactPlugin.identifier]: { history: browserHistory },\n          },\n        },\n      });\n      appInsights.loadAppInsights();\n    }\n  }, [instrumentationKey]);\n  return (\n    <div ref={component}>\n      <Notifications notifications={notifications} />\n      <Routes />\n    </div>\n  );\n}\n\nexport default withAITracking(reactPlugin, App);\n"]},"metadata":{},"sourceType":"module"}