{"ast":null,"code":"var _jsxFileName = \"/Users/ognjen/Desktop/spooky-live-ssr/ui/src/scenes/SignUp/SignUp.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useForm, useField } from 'react-final-form-hooks';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styles from './SignUp.module.scss';\nimport { regexEmail, regexStrongPassword } from '../../utils/utils';\nimport { signupRequestedEvent } from '../../services/userSecurity/signup/events';\nimport Input from '../../components/Input/Input';\nimport Button from '../../components/Button/Button';\nimport { selectError, selectIsSubmitting } from '../../services/userSecurity/signup/selectors';\nimport { accountToggleLoginEvent, accountToggleSignupEvent } from '../../services/userSecurity/accountDetails/events';\n\nconst SignUp = () => {\n  let dispatch = useDispatch();\n  let errorText = useSelector(state => selectError(state.userSecurity.signup));\n  let isSubmitting = useSelector(state => selectIsSubmitting(state.userSecurity.signup)); // Submit form\n\n  const onSubmit = async payload => {\n    console.log(joinValue);\n    dispatch(signupRequestedEvent(payload.firstName, payload.lastName, payload.email, payload.password, joinValue));\n  };\n\n  const {\n    0: joinValue,\n    1: setJoinValue\n  } = useState(true); // Create form\n\n  const {\n    form,\n    handleSubmit\n  } = useForm({\n    onSubmit,\n    validate\n  }); // Create form fields\n\n  const firstName = useField('firstName', form);\n  const lastName = useField('lastName', form);\n  const email = useField('email', form);\n  const password = useField('password', form);\n  const join = useField('join', form);\n\n  const onLogin = () => {\n    dispatch(accountToggleLoginEvent());\n    dispatch(accountToggleSignupEvent());\n  };\n\n  return __jsx(\"div\", {\n    className: styles['signup-new'],\n    onMouseDown: e => e.stopPropagation(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles['signup-new__content'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: styles['signup-new__form-header'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, \"Sign Up\")), __jsx(\"form\", {\n    className: styles['signup-new__form-container'],\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles['signup-new__form'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, __jsx(Input, {\n    data: firstName,\n    label: \"firstName\",\n    placeholder: \"First name\",\n    \"aria-label\": \"First name\",\n    type: \"text\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  })), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, __jsx(Input, {\n    data: lastName,\n    label: \"lastName\",\n    placeholder: \"Last name\",\n    \"aria-label\": \"Last name\",\n    type: \"text\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  })), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, __jsx(Input, {\n    data: email,\n    label: \"email\",\n    placeholder: \"Email\",\n    \"aria-label\": \"Email\",\n    type: \"email\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  })), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, __jsx(Input, {\n    data: password,\n    label: \"password\",\n    placeholder: \"Password\",\n    \"aria-label\": \"Password\",\n    type: \"password\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  })), __jsx(\"p\", {\n    className: styles['signup-new__form-join'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, __jsx(\"input\", {\n    type: \"checkbox\",\n    id: join.input.name,\n    value: `${joinValue}`,\n    checked: joinValue,\n    onChange: () => {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"join\",\n    onClick: () => setJoinValue(!joinValue),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, \"Join our community\")), __jsx(\"div\", {\n    className: styles['signup-new__form-actions'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    type: \"submit\",\n    variant: \"secondary\",\n    color: \"success\",\n    label: \"Sign Up\",\n    size: \"full\",\n    isLoading: isSubmitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: styles['signup-new__tos-links'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 16\n    }\n  }, \"By creating an account, you are agreeing to our \", __jsx(Link, {\n    to: \"/terms-of-service\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 67\n    }\n  }, \"Terms\"), \" and \", __jsx(Link, {\n    to: \"/privacy-policy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 113\n    }\n  }, \"Privacy Policy\"), \".\"))))), __jsx(\"div\", {\n    className: styles['signup-new__form-footer'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, __jsx(\"p\", {\n    className: `text-center`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    to: '#',\n    onClick: onLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, \"Already a member? \", __jsx(\"span\", {\n    className: `text-underline`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 33\n    }\n  }, \"Log in\"))))));\n};\n\nexport const validate = values => {\n  const errors = {\n    firstName: undefined,\n    lastName: undefined,\n    email: undefined,\n    password: undefined,\n    join: undefined\n  }; // First Name validations\n\n  if (values.firstName && values.firstName.length === 1 && values.firstName.length < 3) {\n    // Avoid error to kick in if value length is 0 (For :focus purposes)\n    errors.firstName = 'Enter your First Name';\n  } else if (values.firstName && values.firstName.length < 3) {\n    errors.firstName = 'First Name must have at least 3 characters';\n  } else if (values.firstName && values.firstName.length > 50) {\n    errors.firstName = 'First Name must have less than 50 characters';\n  } // Last Name validations\n\n\n  if (values.lastName && values.lastName.length === 1 && values.lastName.length < 3) {\n    // Avoid error to kick in if value length is 0 (For :focus purposes)\n    errors.lastName = 'Enter your Last Name';\n  } else if (values.lastName && values.lastName.length < 3) {\n    errors.lastName = 'Last Name must have at least 3 characters';\n  } else if (values.lastName && values.lastName.length > 50) {\n    errors.lastName = 'Last Name must have less than 50 characters';\n  } // Email validations\n\n\n  if (!values.email) {\n    errors.email = 'Enter your email';\n  } else if (!regexEmail.test(values.email)) {\n    errors.email = 'Enter a valid email';\n  } // Password validations\n\n\n  if (!values.password) {\n    errors.password = 'Enter your password';\n  } else if (values.password && values.password.length < 8) {\n    errors.password = 'Password must have at least 8 characters';\n  } else if (!regexStrongPassword.test(values.password)) {\n    errors.password = 'Password must inlude a letter, a number and a special character';\n  } else if (values.password && values.password.length > 128) {\n    errors.password = 'Password must have less than 128 characters';\n  }\n\n  return errors;\n};\nexport default SignUp;","map":{"version":3,"sources":["/Users/ognjen/Desktop/spooky-live-ssr/ui/src/scenes/SignUp/SignUp.tsx"],"names":["React","useState","Link","useForm","useField","useDispatch","useSelector","styles","regexEmail","regexStrongPassword","signupRequestedEvent","Input","Button","selectError","selectIsSubmitting","accountToggleLoginEvent","accountToggleSignupEvent","SignUp","dispatch","errorText","state","userSecurity","signup","isSubmitting","onSubmit","payload","console","log","joinValue","firstName","lastName","email","password","setJoinValue","form","handleSubmit","validate","join","onLogin","e","stopPropagation","input","name","values","errors","undefined","length","test"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,OAAT,EAAkBC,QAAlB,QAAkC,wBAAlC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;AAEA,SAASC,UAAT,EAAqBC,mBAArB,QAAgD,mBAAhD;AACA,SAASC,oBAAT,QAAqC,2CAArC;AAOA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,SAASC,WAAT,EAAsBC,kBAAtB,QAAgD,8CAAhD;AAEA,SAASC,uBAAT,EAAkCC,wBAAlC,QAAkE,mDAAlE;;AAUA,MAAMC,MAAM,GAAG,MAAM;AACnB,MAAIC,QAAQ,GAAGb,WAAW,EAA1B;AAEA,MAAIc,SAAS,GAAGb,WAAW,CAAoBc,KAAK,IAAIP,WAAW,CAACO,KAAK,CAACC,YAAN,CAAmBC,MAApB,CAAxC,CAA3B;AACA,MAAIC,YAAY,GAAGjB,WAAW,CAAqBc,KAAK,IAAIN,kBAAkB,CAACM,KAAK,CAACC,YAAN,CAAmBC,MAApB,CAAhD,CAA9B,CAJmB,CAMnB;;AACA,QAAME,QAAQ,GAAG,MAAOC,OAAP,IAAwB;AACvCC,IAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ;AACAV,IAAAA,QAAQ,CAACR,oBAAoB,CAACe,OAAO,CAACI,SAAT,EAAoBJ,OAAO,CAACK,QAA5B,EAAsCL,OAAO,CAACM,KAA9C,EAAqDN,OAAO,CAACO,QAA7D,EAAuEJ,SAAvE,CAArB,CAAR;AACD,GAHD;;AAKA,QAAM;AAAA,OAACA,SAAD;AAAA,OAAYK;AAAZ,MAA4BhC,QAAQ,CAAC,IAAD,CAA1C,CAZmB,CAenB;;AACA,QAAM;AAAEiC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAyBhC,OAAO,CAAC;AAAEqB,IAAAA,QAAF;AAAYY,IAAAA;AAAZ,GAAD,CAAtC,CAhBmB,CAkBnB;;AACA,QAAMP,SAAS,GAAGzB,QAAQ,CAAC,WAAD,EAAc8B,IAAd,CAA1B;AACA,QAAMJ,QAAQ,GAAG1B,QAAQ,CAAC,UAAD,EAAa8B,IAAb,CAAzB;AACA,QAAMH,KAAK,GAAG3B,QAAQ,CAAC,OAAD,EAAU8B,IAAV,CAAtB;AACA,QAAMF,QAAQ,GAAG5B,QAAQ,CAAC,UAAD,EAAa8B,IAAb,CAAzB;AACA,QAAMG,IAAI,GAAGjC,QAAQ,CAAC,MAAD,EAAS8B,IAAT,CAArB;;AAEA,QAAMI,OAAO,GAAG,MAAM;AACpBpB,IAAAA,QAAQ,CAACH,uBAAuB,EAAxB,CAAR;AACAG,IAAAA,QAAQ,CAACF,wBAAwB,EAAzB,CAAR;AACD,GAHD;;AAIA,SACE;AAAK,IAAA,SAAS,EAAET,MAAM,CAAC,YAAD,CAAtB;AAAsC,IAAA,WAAW,EAAEgC,CAAC,IAAIA,CAAC,CAACC,eAAF,EAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEjC,MAAM,CAAC,qBAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEA,MAAM,CAAC,yBAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,EAIE;AAAM,IAAA,SAAS,EAAEA,MAAM,CAAC,4BAAD,CAAvB;AAAuD,IAAA,QAAQ,EAAE4B,YAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAE5B,MAAM,CAAC,kBAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAO,IAAA,IAAI,EAAEsB,SAAb;AAAwB,IAAA,KAAK,EAAC,WAA9B;AAA0C,IAAA,WAAW,EAAC,YAAtD;AAAmE,kBAAW,YAA9E;AAA2F,IAAA,IAAI,EAAC,MAAhG;AAAuG,IAAA,QAAQ,MAA/G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAO,IAAA,IAAI,EAAEC,QAAb;AAAuB,IAAA,KAAK,EAAC,UAA7B;AAAwC,IAAA,WAAW,EAAC,WAApD;AAAgE,kBAAW,WAA3E;AAAuF,IAAA,IAAI,EAAC,MAA5F;AAAmG,IAAA,QAAQ,MAA3G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAO,IAAA,IAAI,EAAEC,KAAb;AAAoB,IAAA,KAAK,EAAC,OAA1B;AAAkC,IAAA,WAAW,EAAC,OAA9C;AAAsD,kBAAW,OAAjE;AAAyE,IAAA,IAAI,EAAC,OAA9E;AAAsF,IAAA,QAAQ,MAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAPF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAO,IAAA,IAAI,EAAEC,QAAb;AAAuB,IAAA,KAAK,EAAC,UAA7B;AAAwC,IAAA,WAAW,EAAC,UAApD;AAA+D,kBAAW,UAA1E;AAAqF,IAAA,IAAI,EAAC,UAA1F;AAAqG,IAAA,QAAQ,MAA7G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAVF,EAaE;AAAG,IAAA,SAAS,EAAEzB,MAAM,CAAC,uBAAD,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,EAAE,EAAE8B,IAAI,CAACI,KAAL,CAAWC,IAFjB;AAGE,IAAA,KAAK,EAAG,GAAEd,SAAU,EAHtB;AAIE,IAAA,OAAO,EAAEA,SAJX;AAKE,IAAA,QAAQ,EAAE,MAAM,CAAG,CALrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EASI;AAAO,IAAA,OAAO,EAAC,MAAf;AAAsB,IAAA,OAAO,EAAE,MAAMK,YAAY,CAAC,CAACL,SAAF,CAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BATJ,CAbF,EA0BE;AAAK,IAAA,SAAS,EAAErB,MAAM,CAAC,0BAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAC,WAFV;AAGE,IAAA,KAAK,EAAC,SAHR;AAIE,IAAA,KAAK,EAAC,SAJR;AAKE,IAAA,IAAI,EAAC,MALP;AAME,IAAA,SAAS,EAAEgB,YANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,EAYE;AAAK,IAAA,SAAS,EAAEhB,MAAM,CAAC,uBAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yDAAmD,MAAC,IAAD;AAAM,IAAA,EAAE,EAAC,mBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAnD,WAAiG,MAAC,IAAD;AAAM,IAAA,EAAE,EAAC,iBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAjG,MADD,CAZF,CA1BF,CADF,CAJF,EAmDE;AAAK,IAAA,SAAS,EAAEA,MAAM,CAAC,yBAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAG,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,EAAE,EAAE,GAAV;AAAe,IAAA,OAAO,EAAE+B,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACoB;AAAM,IAAA,SAAS,EAAG,gBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADpB,CADF,CADF,CAnDF,CADF,CADF;AA+DD,CA5FD;;AA8FA,OAAO,MAAMF,QAAQ,GAAIO,MAAD,IAA+B;AACrD,QAAMC,MAAyB,GAAG;AAChCf,IAAAA,SAAS,EAAEgB,SADqB;AAEhCf,IAAAA,QAAQ,EAAEe,SAFsB;AAGhCd,IAAAA,KAAK,EAAEc,SAHyB;AAIhCb,IAAAA,QAAQ,EAAEa,SAJsB;AAKhCR,IAAAA,IAAI,EAAEQ;AAL0B,GAAlC,CADqD,CASrD;;AACA,MAAIF,MAAM,CAACd,SAAP,IAAoBc,MAAM,CAACd,SAAP,CAAiBiB,MAAjB,KAA4B,CAAhD,IAAqDH,MAAM,CAACd,SAAP,CAAiBiB,MAAjB,GAA0B,CAAnF,EAAsF;AACpF;AACAF,IAAAA,MAAM,CAACf,SAAP,GAAmB,uBAAnB;AACD,GAHD,MAGO,IAAIc,MAAM,CAACd,SAAP,IAAoBc,MAAM,CAACd,SAAP,CAAiBiB,MAAjB,GAA0B,CAAlD,EAAqD;AAC1DF,IAAAA,MAAM,CAACf,SAAP,GAAmB,4CAAnB;AACD,GAFM,MAEA,IAAIc,MAAM,CAACd,SAAP,IAAoBc,MAAM,CAACd,SAAP,CAAiBiB,MAAjB,GAA0B,EAAlD,EAAsD;AAC3DF,IAAAA,MAAM,CAACf,SAAP,GAAmB,8CAAnB;AACD,GAjBoD,CAmBrD;;;AACA,MAAIc,MAAM,CAACb,QAAP,IAAmBa,MAAM,CAACb,QAAP,CAAgBgB,MAAhB,KAA2B,CAA9C,IAAmDH,MAAM,CAACb,QAAP,CAAgBgB,MAAhB,GAAyB,CAAhF,EAAmF;AACjF;AACAF,IAAAA,MAAM,CAACd,QAAP,GAAkB,sBAAlB;AACD,GAHD,MAGO,IAAIa,MAAM,CAACb,QAAP,IAAmBa,MAAM,CAACb,QAAP,CAAgBgB,MAAhB,GAAyB,CAAhD,EAAmD;AACxDF,IAAAA,MAAM,CAACd,QAAP,GAAkB,2CAAlB;AACD,GAFM,MAEA,IAAIa,MAAM,CAACb,QAAP,IAAmBa,MAAM,CAACb,QAAP,CAAgBgB,MAAhB,GAAyB,EAAhD,EAAoD;AACzDF,IAAAA,MAAM,CAACd,QAAP,GAAkB,6CAAlB;AACD,GA3BoD,CA6BrD;;;AACA,MAAI,CAACa,MAAM,CAACZ,KAAZ,EAAmB;AACjBa,IAAAA,MAAM,CAACb,KAAP,GAAe,kBAAf;AACD,GAFD,MAEO,IAAI,CAACvB,UAAU,CAACuC,IAAX,CAAgBJ,MAAM,CAACZ,KAAvB,CAAL,EAAoC;AACzCa,IAAAA,MAAM,CAACb,KAAP,GAAe,qBAAf;AACD,GAlCoD,CAoCrD;;;AACA,MAAI,CAACY,MAAM,CAACX,QAAZ,EAAsB;AACpBY,IAAAA,MAAM,CAACZ,QAAP,GAAkB,qBAAlB;AACD,GAFD,MAEO,IAAIW,MAAM,CAACX,QAAP,IAAmBW,MAAM,CAACX,QAAP,CAAgBc,MAAhB,GAAyB,CAAhD,EAAmD;AACxDF,IAAAA,MAAM,CAACZ,QAAP,GAAkB,0CAAlB;AACD,GAFM,MAEA,IAAI,CAACvB,mBAAmB,CAACsC,IAApB,CAAyBJ,MAAM,CAACX,QAAhC,CAAL,EAAgD;AACrDY,IAAAA,MAAM,CAACZ,QAAP,GAAkB,iEAAlB;AACD,GAFM,MAEA,IAAIW,MAAM,CAACX,QAAP,IAAmBW,MAAM,CAACX,QAAP,CAAgBc,MAAhB,GAAyB,GAAhD,EAAqD;AAC1DF,IAAAA,MAAM,CAACZ,QAAP,GAAkB,6CAAlB;AACD;;AAED,SAAOY,MAAP;AACD,CAhDM;AAkDP,eAAe3B,MAAf","sourcesContent":["import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useForm, useField } from 'react-final-form-hooks'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport styles from './SignUp.module.scss'\n\nimport { regexEmail, regexStrongPassword } from '../../utils/utils'\nimport { signupRequestedEvent } from '../../services/userSecurity/signup/events'\nimport { RootState } from '../../services/RootState'\n\nimport GoogleLogo from '../../svg/images/google-logo.svg'\nimport FacebookLogo from '../../svg/images/facebook-logo.svg'\n\nimport LayoutDefault from '../../layouts/LayoutDefault/LayoutDefault'\nimport Input from '../../components/Input/Input'\nimport Button from '../../components/Button/Button'\nimport { selectError, selectIsSubmitting } from '../../services/userSecurity/signup/selectors'\nimport { Divider } from '@material-ui/core'\nimport { accountToggleLoginEvent, accountToggleSignupEvent } from '../../services/userSecurity/accountDetails/events'\n\nexport interface ISignUpFormValues {\n  firstName: string | undefined\n  lastName: string | undefined\n  email: string | undefined\n  password: string | undefined\n  join: boolean | undefined\n}\n\nconst SignUp = () => {\n  let dispatch = useDispatch()\n\n  let errorText = useSelector<RootState, string>(state => selectError(state.userSecurity.signup))\n  let isSubmitting = useSelector<RootState, boolean>(state => selectIsSubmitting(state.userSecurity.signup))\n\n  // Submit form\n  const onSubmit = async (payload: any) => {\n    console.log(joinValue);\n    dispatch(signupRequestedEvent(payload.firstName, payload.lastName, payload.email, payload.password, joinValue))\n  }\n\n  const [joinValue, setJoinValue] = useState(true);\n\n\n  // Create form\n  const { form, handleSubmit } = useForm({ onSubmit, validate })\n\n  // Create form fields\n  const firstName = useField('firstName', form)\n  const lastName = useField('lastName', form)\n  const email = useField('email', form)\n  const password = useField('password', form)\n  const join = useField('join', form)\n\n  const onLogin = () => {\n    dispatch(accountToggleLoginEvent())\n    dispatch(accountToggleSignupEvent())\n  }\n  return (\n    <div className={styles['signup-new']} onMouseDown={e => e.stopPropagation()}>\n      <div className={styles['signup-new__content']}>\n        <div className={styles['signup-new__form-header']}>\n          <h2>Sign Up</h2>\n        </div>\n        <form className={styles['signup-new__form-container']} onSubmit={handleSubmit}>\n          <div className={styles['signup-new__form']}>\n            <p>\n              <Input data={firstName} label=\"firstName\" placeholder=\"First name\" aria-label=\"First name\" type=\"text\" required />\n            </p>\n            <p>\n              <Input data={lastName} label=\"lastName\" placeholder=\"Last name\" aria-label=\"Last name\" type=\"text\" required />\n            </p>\n            <p>\n              <Input data={email} label=\"email\" placeholder=\"Email\" aria-label=\"Email\" type=\"email\" required />\n            </p>\n            <p>\n              <Input data={password} label=\"password\" placeholder=\"Password\" aria-label=\"Password\" type=\"password\" required />\n            </p>\n            <p className={styles['signup-new__form-join']}>\n                <input\n                  type=\"checkbox\"\n                  id={join.input.name}\n                  value={`${joinValue}`}\n                  checked={joinValue}\n                  onChange={() => { }}\n                />\n\n                <label htmlFor=\"join\" onClick={() => setJoinValue(!joinValue)}>\n                  Join our community\n                </label>\n              </p>\n            <div className={styles['signup-new__form-actions']}>\n              \n              <p>\n                <Button\n                  type=\"submit\"\n                  variant=\"secondary\"\n                  color=\"success\"\n                  label=\"Sign Up\"\n                  size=\"full\"\n                  isLoading={isSubmitting}\n                />\n              </p>\n              <div className={styles['signup-new__tos-links']}>\n              \t<p>By creating an account, you are agreeing to our <Link to=\"/terms-of-service\">Terms</Link> and <Link to=\"/privacy-policy\">Privacy Policy</Link>.</p>\n              </div>\n            </div>\n          </div>\n         \n        </form>\n        \n        <div className={styles['signup-new__form-footer']}>\n          <p className={`text-center`}>\n            <Link to={'#'} onClick={onLogin}>\n              Already a member? <span className={`text-underline`}>Log in</span>\n            </Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport const validate = (values: ISignUpFormValues) => {\n  const errors: ISignUpFormValues = {\n    firstName: undefined,\n    lastName: undefined,\n    email: undefined,\n    password: undefined,\n    join: undefined,\n  }\n\n  // First Name validations\n  if (values.firstName && values.firstName.length === 1 && values.firstName.length < 3) {\n    // Avoid error to kick in if value length is 0 (For :focus purposes)\n    errors.firstName = 'Enter your First Name'\n  } else if (values.firstName && values.firstName.length < 3) {\n    errors.firstName = 'First Name must have at least 3 characters'\n  } else if (values.firstName && values.firstName.length > 50) {\n    errors.firstName = 'First Name must have less than 50 characters'\n  }\n\n  // Last Name validations\n  if (values.lastName && values.lastName.length === 1 && values.lastName.length < 3) {\n    // Avoid error to kick in if value length is 0 (For :focus purposes)\n    errors.lastName = 'Enter your Last Name'\n  } else if (values.lastName && values.lastName.length < 3) {\n    errors.lastName = 'Last Name must have at least 3 characters'\n  } else if (values.lastName && values.lastName.length > 50) {\n    errors.lastName = 'Last Name must have less than 50 characters'\n  }\n\n  // Email validations\n  if (!values.email) {\n    errors.email = 'Enter your email'\n  } else if (!regexEmail.test(values.email)) {\n    errors.email = 'Enter a valid email'\n  }\n\n  // Password validations\n  if (!values.password) {\n    errors.password = 'Enter your password'\n  } else if (values.password && values.password.length < 8) {\n    errors.password = 'Password must have at least 8 characters'\n  } else if (!regexStrongPassword.test(values.password)) {\n    errors.password = 'Password must inlude a letter, a number and a special character'\n  } else if (values.password && values.password.length > 128) {\n    errors.password = 'Password must have less than 128 characters'\n  }\n\n  return errors\n}\n\nexport default SignUp\n"]},"metadata":{},"sourceType":"module"}