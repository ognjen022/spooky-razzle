{"ast":null,"code":"import { ofType } from 'redux-observable';\nimport { EMPTY } from 'rxjs';\nimport { mergeMap } from 'rxjs/operators';\n\nconst tokenPersistEpic = (action$, store) => action$.pipe(ofType('TOKEN_PERSIST'), mergeMap(event => {\n  let data = {\n    'userId': store.value.userSecurity.profile.id,\n    profile: store.value.userSecurity.profile // comment out\n\n  };\n  window.dataLayer.push(data);\n  return EMPTY;\n}));\n\nexport default [tokenPersistEpic];","map":{"version":3,"sources":["/Users/ognjen/Desktop/spooky-live-ssr/ui/src/services/userSecurity/token/epics/tokenPersistEpic.ts"],"names":["ofType","EMPTY","mergeMap","tokenPersistEpic","action$","store","pipe","event","data","value","userSecurity","profile","id","window","dataLayer","push"],"mappings":"AAAA,SAAeA,MAAf,QAA4B,kBAA5B;AACA,SAASC,KAAT,QAAqB,MAArB;AACA,SAASC,QAAT,QAAyB,gBAAzB;;AAGA,MAAMC,gBAA2C,GAAG,CAACC,OAAD,EAAUC,KAAV,KAClDD,OAAO,CAACE,IAAR,CACEN,MAAM,CAAC,eAAD,CADR,EAEEE,QAAQ,CAACK,KAAK,IAAI;AACd,MAAIC,IAAI,GAAG;AACP,cAAUH,KAAK,CAACI,KAAN,CAAYC,YAAZ,CAAyBC,OAAzB,CAAiCC,EADpC;AAEPD,IAAAA,OAAO,EAAEN,KAAK,CAACI,KAAN,CAAYC,YAAZ,CAAyBC,OAF3B,CAEmC;;AAFnC,GAAX;AAIGE,EAAAA,MAAD,CAAgBC,SAAhB,CAA0BC,IAA1B,CAA+BP,IAA/B;AACJ,SAAOP,KAAP;AACD,CAPO,CAFV,CADF;;AAaA,eAAe,CAACE,gBAAD,CAAf","sourcesContent":["import { Epic, ofType} from 'redux-observable'\nimport { EMPTY} from 'rxjs'\nimport { mergeMap } from 'rxjs/operators'\nimport { RootState } from '../../../RootState'\n\nconst tokenPersistEpic: Epic<any, any, RootState> = (action$, store) =>\n  action$.pipe(\n    ofType('TOKEN_PERSIST'),\n    mergeMap(event => {\n        let data = {\n            'userId': store.value.userSecurity.profile.id,\n            profile: store.value.userSecurity.profile // comment out\n          };\n          (window as any).dataLayer.push(data);\n      return EMPTY\n    })\n  )\n\nexport default [tokenPersistEpic]\n"]},"metadata":{},"sourceType":"module"}